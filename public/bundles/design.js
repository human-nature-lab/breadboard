!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/bundles/",t(t.s=150)}([function(e,t,n){var i=n(2),r=n(22),o=n(12),a=n(13),s=n(19),l=function(e,t,n){var c,u,d,f,h=e&l.F,p=e&l.G,g=e&l.S,m=e&l.P,v=e&l.B,y=p?i:g?i[t]||(i[t]={}):(i[t]||{}).prototype,b=p?r:r[t]||(r[t]={}),w=b.prototype||(b.prototype={});p&&(n=t);for(c in n)u=!h&&y&&void 0!==y[c],d=(u?y:n)[c],f=v&&u?s(d,i):m&&"function"==typeof d?s(Function.call,d):d,y&&a(y,c,d,e&l.U),b[c]!=d&&o(b,c,f),m&&w[c]!=d&&(w[c]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var i=n(4);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(57)("wks"),r=n(33),o=n(2).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(1),r=n(103),o=n(23),a=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(25),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(24);e.exports=function(e){return Object(i(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(7),r=n(32);e.exports=n(6)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(2),r=n(12),o=n(11),a=n(33)("src"),s=Function.toString,l=(""+s).split("toString");n(22).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||r(n,a,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var i=n(0),r=n(3),o=n(24),a=/"/g,s=function(e,t,n,i){var r=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),i(i.P+i.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){!function(t,n){e.exports=function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function i(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function r(e,t,n,r){var o=i(e,t,n,r);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function a(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,n){var i=t.className;e(n).test(i)||(t.className+=(i?" ":"")+n)}function l(t,n){for(var i=t.split(" "),r=0;r<i.length;r++)i[r]&&!e(i[r]).test(n)&&(n+=" "+i[r]);return n}function c(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function u(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function d(e,t,n,i,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=i||0,a=r||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function f(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function h(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var a=o-i;if(o==e.length||r+a>=t)return i+Math.min(a,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}}function p(e){for(;Ka.length<=e;)Ka.push(g(Ka)+" ");return Ka[e]}function g(e){return e[e.length-1]}function m(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function v(e,t,n){for(var i=0,r=n(t);i<e.length&&n(e[i])<=r;)i++;e.splice(i,0,t)}function y(){}function b(e,t){var n;return Object.create?n=Object.create(e):(y.prototype=e,n=new y),t&&u(t,n),n}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ga.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function k(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function C(e){return e.charCodeAt(0)>=768&&Ya.test(e)}function $(e,t,n){for(;(n<0?t>0:t<e.length)&&C(e.charAt(t));)t+=n;return t}function S(e,t,n){for(var i=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+i}}function _(e,t,n){var o=this;this.input=n,o.scrollbarFiller=i("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=i("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=r("div",null,"CodeMirror-code"),o.selectionDiv=i("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=i("div",null,"CodeMirror-cursors"),o.measure=i("div",null,"CodeMirror-measure"),o.lineMeasure=i("div",null,"CodeMirror-measure"),o.lineSpace=r("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var a=r("div",[o.lineSpace],"CodeMirror-lines");o.mover=i("div",[a],null,"position: relative"),o.sizer=i("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=i("div",null,null,"position: absolute; height: "+Ba+"px; width: 1px;"),o.gutters=i("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=i("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=i("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),ya&&ba<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),wa||pa&&Ea||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function T(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function A(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function E(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function M(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function D(e){if(null==e.parent)return null;for(var t=e.parent,n=f(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function I(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(t<l)break;t-=l}return n+a}function O(e,t){return t>=e.first&&t<e.first+e.size}function N(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function P(e,t,n){if(void 0===n&&(n=null),!(this instanceof P))return new P(e,t,n);this.line=e,this.ch=t,this.sticky=n}function L(e,t){return e.line-t.line||e.ch-t.ch}function R(e,t){return e.sticky==t.sticky&&0==L(e,t)}function j(e){return P(e.line,e.ch)}function F(e,t){return L(e,t)<0?t:e}function H(e,t){return L(e,t)<0?e:t}function z(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function B(e,t){if(t.line<e.first)return P(e.first,0);var n=e.first+e.size-1;return t.line>n?P(n,T(e,n).text.length):W(t,T(e,t.line).text.length)}function W(e,t){var n=e.ch;return null==n||n>t?P(e.line,t):n<0?P(e.line,0):e}function U(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=B(e,t[i]);return n}function q(){Xa=!0}function V(){Qa=!0}function K(e,t,n){this.marker=e,this.from=t,this.to=n}function G(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Y(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function X(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Q(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new K(a,o.from,l?null:o.to))}}return i}function J(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new K(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function Z(e,t){if(t.full)return null;var n=O(e,t.from.line)&&T(e,t.from.line).markedSpans,i=O(e,t.to.line)&&T(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,a=0==L(t.from,t.to),s=Q(n,r,a),l=J(i,o,a),c=1==t.text.length,u=g(t.text).length+(c?r:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var h=G(l,f.marker);h?c&&(f.to=null==h.to?null:h.to+u):f.to=r}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=u),null==m.from){var v=G(s,m.marker);v||(m.from=u,c&&(s||(s=[])).push(m))}else m.from+=u,c&&(s||(s=[])).push(m)}s&&(s=ee(s)),l&&l!=s&&(l=ee(l));var y=[s];if(!c){var b,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(b||(b=[])).push(new K(s[x].marker,null,null));for(var k=0;k<w;++k)y.push(b);y.push(l)}return y}function ee(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function te(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=f(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var a=i[o],s=a.find(0),l=0;l<r.length;++l){var c=r[l];if(!(L(c.to,s.from)<0||L(c.from,s.to)>0)){var u=[l,1],d=L(c.from,s.from),h=L(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&u.push({from:s.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}function ne(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ie(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function re(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function ae(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=L(i.from,r.from)||re(e)-re(t);return o?-o:L(i.to,r.to)||oe(e)-oe(t)||t.id-e.id}function se(e,t){var n,i=Qa&&e.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||ae(n,r.marker)<0)&&(n=r.marker);return n}function le(e){return se(e,!0)}function ce(e){return se(e,!1)}function ue(e,t,n,i,r){var o=T(e,t),a=Qa&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=L(c.from,n)||re(l.marker)-re(r),d=L(c.to,i)||oe(l.marker)-oe(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?L(c.to,n)>=0:L(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?L(c.from,i)<=0:L(c.from,i)<0)))return!0}}}function de(e){for(var t;t=le(e);)e=t.find(-1,!0).line;return e}function fe(e){for(var t;t=ce(e);)e=t.find(1,!0).line;return e}function he(e){for(var t,n;t=ce(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function pe(e,t){var n=T(e,t),i=de(n);return n==i?t:D(i)}function ge(e,t){if(t>e.lastLine())return t;var n,i=T(e,t);if(!me(e,i))return t;for(;n=ce(i);)i=n.find(1,!0).line;return D(i)+1}function me(e,t){var n=Qa&&t.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&ve(e,t,i))return!0}}function ve(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return ve(e,i.line,G(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&ve(e,t,r))return!0}function ye(e){e=de(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function be(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=le(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=ce(i);){var o=t.find(0,!0);n-=i.text.length-o.from.ch,i=o.to.line,n+=i.text.length-o.to.ch}return n}function we(e){var t=e.display,n=e.doc;t.maxLine=T(n,n.first),t.maxLineLength=be(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=be(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function xe(e,t,n,i){if(!e)return i(t,n,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(i(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),r=!0)}r||i(t,n,"ltr")}function ke(e,t,n){var i;Ja=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==n?i=r:Ja=r),o.from==t&&(o.from!=o.to&&"before"!=n?i=r:Ja=r)}return null!=i?i:Ja}function Ce(e,t){var n=e.order;return null==n&&(n=e.order=Za(e.text,t)),n}function $e(e,t){return e._handlers&&e._handlers[t]||es}function Se(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers,r=i&&i[t];if(r){var o=f(r,n);o>-1&&(i[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function _e(e,t){var n=$e(e,t);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function Te(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),_e(e,n||t.type,e,t),Oe(t)||t.codemirrorIgnore}function Ae(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==f(n,t[i])&&n.push(t[i])}function Ee(e,t){return $e(e,t).length>0}function Me(e){e.prototype.on=function(e,t){ts(this,e,t)},e.prototype.off=function(e,t){Se(this,e,t)}}function De(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ie(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Oe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ne(e){De(e),Ie(e)}function Pe(e){return e.target||e.srcElement}function Le(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ma&&e.ctrlKey&&1==t&&(t=3),t}function Re(e){if(null==Ha){var t=i("span","​");n(e,i("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ha=t.offsetWidth<=1&&t.offsetHeight>2&&!(ya&&ba<8))}var r=Ha?i("span","​"):i("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function je(e){if(null!=za)return za;var i=n(e,document.createTextNode("AخA")),r=Na(i,0,1).getBoundingClientRect(),o=Na(i,1,2).getBoundingClientRect();return t(e),!(!r||r.left==r.right)&&(za=o.right-r.right<3)}function Fe(e){if(null!=as)return as;var t=n(e,i("span","x")),r=t.getBoundingClientRect(),o=Na(t,0,1).getBoundingClientRect();return as=Math.abs(r.left-o.left)>1}function He(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ss[e]=t}function ze(e,t){ls[e]=t}function Be(e){if("string"==typeof e&&ls.hasOwnProperty(e))e=ls[e];else if(e&&"string"==typeof e.name&&ls.hasOwnProperty(e.name)){var t=ls[e.name];"string"==typeof t&&(t={name:t}),e=b(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Be("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Be("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function We(e,t){t=Be(t);var n=ss[t.name];if(!n)return We(e,"text/plain");var i=n(e,t);if(cs.hasOwnProperty(t.name)){var r=cs[t.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)i[a]=t.modeProps[a];return i}function Ue(e,t){u(t,cs.hasOwnProperty(e)?cs[e]:cs[e]={})}function qe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Ve(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ke(e,t,n){return!e.startState||e.startState(t,n)}function Ge(e,t,n,i){var r=[e.state.modeGen],o={};nt(e,t.text,e.doc.mode,n,function(e,t){return r.push(e,t)},o,i);for(var a=n.state,s=0;s<e.state.overlays.length;++s)!function(i){n.baseTokens=r;var s=e.state.overlays[i],l=1,c=0;n.state=!0,nt(e,t.text,s.mode,n,function(e,t){for(var n=l;c<e;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(s.opaque)r.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1}(s);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Ye(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Xe(e,D(t)),r=t.text.length>e.options.maxHighlightLength&&qe(e.doc.mode,i.state),o=Ge(e,t,i);r&&(i.state=r),t.stateAfter=i.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Xe(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return new fs(i,!0,t);var o=it(e,t,n),a=o>i.first&&T(i,o-1).stateAfter,s=a?fs.fromSaved(i,a,o):new fs(i,Ke(i.mode),o);return i.iter(o,t,function(n){Qe(e,n.text,s);var i=s.line;n.stateAfter=i==t-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?s.save():null,s.nextLine()}),n&&(i.modeFrontier=s.line),s}function Qe(e,t,n,i){var r=e.doc.mode,o=new us(t,e.options.tabSize,n);for(o.start=o.pos=i||0,""==t&&Je(r,n.state);!o.eol();)Ze(r,o,n.state),o.start=o.pos}function Je(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ve(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ze(e,t,n,i){for(var r=0;r<10;r++){i&&(i[0]=Ve(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function et(e,t,n,i){var r,o=e.doc,a=o.mode;t=B(o,t);var s,l=T(o,t.line),c=Xe(e,t.line,n),u=new us(l.text,e.options.tabSize,c);for(i&&(s=[]);(i||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=Ze(a,u,c.state),i&&s.push(new hs(u,r,qe(o.mode,c.state)));return i?s:new hs(u,r,c.state)}function tt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function nt(e,t,n,i,r,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new us(t,e.options.tabSize,i),f=e.options.addModeClass&&[null];for(""==t&&tt(Je(n,i.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&Qe(e,t,i,d.pos),d.pos=t.length,l=null):l=tt(Ze(n,d,i.state,f),o),f){var h=f[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e3),r(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e3);r(p,u),c=p}}function it(e,t,n){for(var i,r,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=T(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof ds?c.lookAhead:0)<=o.modeFrontier))return s;var u=d(l.text,null,e.options.tabSize);(null==r||i>u)&&(r=s-1,i=u)}return r}function rt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,i=t-1;i>n;i--){var r=T(e,i).stateAfter;if(r&&(!(r instanceof ds)||i+r.lookAhead<t)){n=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function ot(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ne(e),ie(e,n);var r=i?i(e):1;r!=e.height&&M(e,r)}function at(e){e.parent=null,ne(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?vs:ms;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function lt(e,t){var n=r("span",null,null,wa?"padding-right: .1px":null),i={pre:r("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(ya||wa)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,s=void 0;i.pos=0,i.addToken=ut,je(e.display.measure)&&(s=Ce(a,e.doc.direction))&&(i.addToken=ft(i.addToken,s)),i.map=[],pt(a,i,Ye(e,a,t!=e.display.externalMeasured&&D(a))),a.styleClasses&&(a.styleClasses.bgClass&&(i.bgClass=l(a.styleClasses.bgClass,i.bgClass||"")),a.styleClasses.textClass&&(i.textClass=l(a.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Re(e.display.measure))),0==o?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(wa){var c=i.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return _e(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=l(i.pre.className,i.textClass||"")),i}function ct(e){var t=i("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ut(e,t,n,r,o,a,s){if(t){var l,c=e.splitSpaces?dt(t,e.trailingSpace):t,u=e.cm.state.specialChars,d=!1;if(u.test(t)){l=document.createDocumentFragment();for(var f=0;;){u.lastIndex=f;var h=u.exec(t),g=h?h.index-f:t.length-f;if(g){var m=document.createTextNode(c.slice(f,f+g));ya&&ba<9?l.appendChild(i("span",[m])):l.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!h)break;f+=g+1;var v=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;v=l.appendChild(i("span",p(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?(v=l.appendChild(i("span","\r"==h[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",h[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(h[0]),v.setAttribute("cm-text",h[0]),ya&&ba<9?l.appendChild(i("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),ya&&ba<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||o||d||s){var w=n||"";r&&(w+=r),o&&(w+=o);var x=i("span",[l],w,s);return a&&(x.title=a),e.content.appendChild(x)}e.content.appendChild(l)}}function dt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),i+=o,n=" "==o}return i}function ft(e,t){return function(n,i,r,o,a,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=void 0,f=0;f<t.length&&(d=t[f],!(d.to>c&&d.from<=c));f++);if(d.to>=u)return e(n,i,r,o,a,s,l);e(n,i.slice(0,d.to-c),r,o,null,s,l),o=null,i=i.slice(d.to-c),c=d.to}}}function ht(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function pt(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var a,s,l,c,u,d,f,h=r.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=u=d=s="",f=null,v=1/0;for(var y=[],b=void 0,w=0;w<i.length;++w){var x=i[w],k=x.marker;"bookmark"==k.type&&x.from==p&&k.widgetNode?y.push(k):x.from<=p&&(null==x.to||x.to>p||k.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,c=""),k.className&&(l+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&x.from==p&&(u+=" "+k.startStyle),k.endStyle&&x.to==v&&(b||(b=[])).push(k.endStyle,x.to),k.title&&!d&&(d=k.title),k.collapsed&&(!f||ae(f.marker,k)<0)&&(f=x)):x.from>p&&v>x.from&&(v=x.from)}if(b)for(var C=0;C<b.length;C+=2)b[C+1]==v&&(c+=" "+b[C]);if(!f||f.from==p)for(var $=0;$<y.length;++$)ht(t,0,y[$]);if(f&&(f.from||0)==p){if(ht(t,(null==f.to?h+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=h)break;for(var S=Math.min(h,v);;){if(m){var _=p+m.length;if(!f){var T=_>S?m.slice(0,S-p):m;t.addToken(t,T,a?a+l:l,u,p+T.length==v?c:"",d,s)}if(_>=S){m=m.slice(S-p),p=S;break}p=_,u=""}m=r.slice(o,o=n[g++]),a=st(n[g++],t.cm.options)}}else for(var A=1;A<n.length;A+=2)t.addToken(t,r.slice(o,o=n[A]),st(n[A+1],t.cm.options))}function gt(e,t,n){this.line=t,this.rest=he(t),this.size=this.rest?D(g(this.rest))-n+1:1,this.node=this.text=null,this.hidden=me(e,t)}function mt(e,t,n){for(var i,r=[],o=t;o<n;o=i){var a=new gt(e.doc,T(e.doc,o),o);i=o+a.size,r.push(a)}return r}function vt(e){ys?ys.ops.push(e):e.ownsGroup=ys={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function bt(e,t){var n=e.ownsGroup;if(n)try{yt(n)}finally{ys=null,t(n)}}function wt(e,t){var n=$e(e,t);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);ys?i=ys.delayedCallbacks:bs?i=bs:(i=bs=[],setTimeout(xt,0));for(var o=0;o<n.length;++o)!function(e){i.push(function(){return n[e].apply(null,r)})}(o)}}function xt(){var e=bs;bs=null;for(var t=0;t<e.length;++t)e[t]()}function kt(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?_t(e,t):"gutter"==o?At(e,t,n,i):"class"==o?Tt(e,t):"widget"==o&&Et(e,t,i)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=i("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ya&&ba<8&&(e.node.style.zIndex=2)),e.node}function $t(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Ct(t);t.background=r.insertBefore(i("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function St(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):lt(e,t)}function _t(e,t){var n=t.text.className,i=St(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,Tt(e,t)):n&&(t.text.className=n)}function Tt(e,t){$t(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function At(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ct(t);t.gutterBackground=i("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=Ct(t),l=t.gutter=i("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(i("div",N(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var c=0;c<e.options.gutters.length;++c){var u=e.options.gutters[c],d=a.hasOwnProperty(u)&&a[u];d&&l.appendChild(i("div",[d],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function Et(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild,r=void 0;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&t.node.removeChild(i);Dt(e,t,n)}function Mt(e,t,n,i){var r=St(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),Tt(e,t),At(e,t,n,i),Dt(e,t,i),t.node}function Dt(e,t,n){if(It(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)It(e,t.rest[i],t,n,!1)}function It(e,t,n,r,o){if(t.widgets)for(var a=Ct(n),s=0,l=t.widgets;s<l.length;++s){var c=l[s],u=i("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Ot(c,u,n,r),e.display.input.setUneditable(u),o&&c.above?a.insertBefore(u,n.gutter||n.text):a.appendChild(u),wt(c,"redraw")}}function Ot(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Nt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,i("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Pt(e,t){for(var n=Pe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Lt(e){return e.lineSpace.offsetTop}function Rt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function jt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,i("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Ft(e){return Ba-e.display.nativeBarWidth}function Ht(e){return e.display.scroller.clientWidth-Ft(e)-e.display.barWidth}function zt(e){return e.display.scroller.clientHeight-Ft(e)-e.display.barHeight}function Bt(e,t,n){var i=e.options.lineWrapping,r=i&&Ht(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Wt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var r=0;r<e.rest.length;r++)if(D(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Ut(e,t){t=de(t);var i=D(t),r=e.display.externalMeasured=new gt(e.doc,t,i);r.lineN=i;var o=r.built=lt(e,r);return r.text=o.pre,n(e.display.lineMeasure,o.pre),r}function qt(e,t,n,i){return Gt(e,Kt(e,t),n,i)}function Vt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[_n(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Kt(e,t){var n=D(t),i=Vt(e,n);i&&!i.text?i=null:i&&i.changes&&(kt(e,i,n,xn(e)),e.curOp.forceUpdate=!0),i||(i=Ut(e,t));var r=Wt(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Gt(e,t,n,i,r){t.before&&(n=-1);var o,a=n+(i||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Bt(e,t.view,t.rect),t.hasHeights=!0),o=Qt(e,t,n,i),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function Yt(e,t,n){for(var i,r,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(r=0,o=1,a="left"):t<l?(r=t-s,o=r+1):(c==e.length-3||t==l&&e[c+3]>t)&&(o=l-s,r=o-1,t>=l&&(a="right")),null!=r){if(i=e[c+2],s==l&&n==(i.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)i=e[2+(c-=3)],a="left";if("right"==n&&r==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)i=e[(c+=3)+2],a="right";break}return{node:i,start:r,end:o,collapse:a,coverStart:s,coverEnd:l}}function Xt(e,t){var n=ws;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function Qt(e,t,n,i){var r,o=Yt(t.map,n,i),a=o.node,s=o.start,l=o.end,c=o.collapse;if(3==a.nodeType){for(var u=0;u<4;u++){for(;s&&C(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&C(t.line.text.charAt(o.coverStart+l));)++l;if(r=ya&&ba<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Xt(Na(a,s,l).getClientRects(),i),r.left||r.right||0==s)break;l=s,s-=1,c="right"}ya&&ba<11&&(r=Jt(e.display.measure,r))}else{s>0&&(c=i="right");var d;r=e.options.lineWrapping&&(d=a.getClientRects()).length>1?d["right"==i?d.length-1:0]:a.getBoundingClientRect()}if(ya&&ba<9&&!s&&(!r||!r.left&&!r.right)){var f=a.parentNode.getClientRects()[0];r=f?{left:f.left,right:f.left+wn(e.display),top:f.top,bottom:f.bottom}:ws}for(var h=r.top-t.rect.top,p=r.bottom-t.rect.top,g=(h+p)/2,m=t.view.measure.heights,v=0;v<m.length-1&&!(g<m[v]);v++);var y=v?m[v-1]:0,b=m[v],w={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:y,bottom:b};return r.left||r.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=h,w.rbottom=p),w}function Jt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Fe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function Zt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function en(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Zt(e.display.view[n])}function tn(e){en(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nn(){return ka&&Aa?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rn(){return ka&&Aa?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function on(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Nt(e.widgets[n]));return t}function an(e,t,n,i,r){if(!r){var o=on(t);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var a=ye(t);if("local"==i?a+=Lt(e.display):a-=e.display.viewOffset,"page"==i||"window"==i){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==i?0:rn());var l=s.left+("window"==i?0:nn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function sn(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=nn(),r-=rn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:i-a.left,top:r-a.top}}function ln(e,t,n,i,r){return i||(i=T(e.doc,t.line)),an(e,i,qt(e,i,t.ch,r),n)}function cn(e,t,n,i,r,o){function a(t,a){var s=Gt(e,r,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,an(e,i,s,n)}function s(e,t,n){var i=l[t],r=1==i.level;return a(n?e-1:e,r!=n)}i=i||T(e.doc,t.line),r||(r=Kt(e,i));var l=Ce(i,e.doc.direction),c=t.ch,u=t.sticky;if(c>=i.text.length?(c=i.text.length,u="before"):c<=0&&(c=0,u="after"),!l)return a("before"==u?c-1:c,"before"==u);var d=ke(l,c,u),f=Ja,h=s(c,d,"before"==u);return null!=f&&(h.other=s(c,f,"before"!=u)),h}function un(e,t){var n=0;t=B(e.doc,t),e.options.lineWrapping||(n=wn(e.display)*t.ch);var i=T(e.doc,t.line),r=ye(i)+Lt(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function dn(e,t,n,i,r){var o=P(e,t,n);return o.xRel=r,i&&(o.outside=!0),o}function fn(e,t,n){var i=e.doc;if((n+=e.display.viewOffset)<0)return dn(i.first,0,null,!0,-1);var r=I(i,n),o=i.first+i.size-1;if(r>o)return dn(i.first+i.size-1,T(i,o).text.length,null,!0,1);t<0&&(t=0);for(var a=T(i,r);;){var s=mn(e,a,r,t,n),l=ce(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;r=D(a=c.to.line)}}function hn(e,t,n,i){i-=on(t);var r=t.text.length,o=S(function(t){return Gt(e,n,t-1).bottom<=i},r,0);return r=S(function(t){return Gt(e,n,t).top>i},o,r),{begin:o,end:r}}function pn(e,t,n,i){return n||(n=Kt(e,t)),hn(e,t,n,an(e,t,Gt(e,n,i),"line").top)}function gn(e,t,n,i){return!(e.bottom<=n)&&(e.top>n||(i?e.left:e.right)>t)}function mn(e,t,n,i,r){r-=ye(t);var o=Kt(e,t),a=on(t),s=0,l=t.text.length,c=!0,u=Ce(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?yn:vn)(e,t,n,o,u,i,r);c=1!=d.level,s=c?d.from:d.to-1,l=c?d.to:d.from-1}var f,h,p=null,g=null,m=S(function(t){var n=Gt(e,o,t);return n.top+=a,n.bottom+=a,!!gn(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(p=t,g=n),!0)},s,l),v=!1;if(g){var y=i-g.left<g.right-i,b=y==c;m=p+(b?0:1),h=b?"after":"before",f=y?g.left:g.right}else{c||m!=l&&m!=s||m++,h=0==m?"after":m==t.text.length?"before":Gt(e,o,m-(c?1:0)).bottom+a<=r==c?"after":"before";var w=cn(e,P(n,m,h),"line",t,o);f=w.left,v=r<w.top||r>=w.bottom}return m=$(t.text,m,1),dn(n,m,h,v,i-f)}function vn(e,t,n,i,r,o,a){var s=S(function(s){var l=r[s],c=1!=l.level;return gn(cn(e,P(n,c?l.to:l.from,c?"before":"after"),"line",t,i),o,a,!0)},0,r.length-1),l=r[s];if(s>0){var c=1!=l.level,u=cn(e,P(n,c?l.from:l.to,c?"after":"before"),"line",t,i);gn(u,o,a,!0)&&u.top>a&&(l=r[s-1])}return l}function yn(e,t,n,i,r,o,a){var s=hn(e,t,i,a),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,f=0;f<r.length;f++){var h=r[f];if(!(h.from>=c||h.to<=l)){var p=1!=h.level,g=Gt(e,i,p?Math.min(c,h.to)-1:Math.max(l,h.from)).right,m=g<o?o-g+1e9:g-o;(!u||d>m)&&(u=h,d=m)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function bn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==gs){gs=i("pre");for(var r=0;r<49;++r)gs.appendChild(document.createTextNode("x")),gs.appendChild(i("br"));gs.appendChild(document.createTextNode("x"))}n(e.measure,gs);var o=gs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function wn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=i("span","xxxxxxxxxx"),r=i("pre",[t]);n(e.measure,r);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function xn(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[a]]=o.clientWidth;return{fixedPos:kn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function kn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Cn(e){var t=bn(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/wn(e.display)-3);return function(r){if(me(e.doc,r))return 0;var o=0;if(r.widgets)for(var a=0;a<r.widgets.length;a++)r.widgets[a].height&&(o+=r.widgets[a].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function $n(e){var t=e.doc,n=Cn(e);t.iter(function(e){var t=n(e);t!=e.height&&M(e,t)})}function Sn(e,t,n,i){var r=e.display;if(!n&&"true"==Pe(t).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=fn(e,o,a);if(i&&1==c.xRel&&(l=T(e.doc,c.line).text).length==c.ch){var u=d(l,l.length,e.options.tabSize)-l.length;c=P(c.line,Math.max(0,Math.round((o-jt(e.display).left)/wn(e.display))-u))}return c}function _n(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if((t-=n[i].size)<0)return i}function Tn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function An(e,t){void 0===t&&(t=!0);for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&En(e,s.head,r),l||Dn(e,s,o)}}return i}function En(e,t,n){var r=cn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(i("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var a=n.appendChild(i("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Mn(e,t){return e.top-t.top||e.left-t.left}function Dn(e,t,n){function r(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),l.appendChild(i("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?d-e:n)+"px;\n                             height: "+(r-t)+"px"))}function o(t,n,i){function o(n,i){return ln(e,P(t,n),"div",h,i)}function a(t,n,i){var r=pn(e,h,null,t),a="ltr"==n==("after"==i)?"left":"right";return o("after"==i?r.begin:r.end-(/\s/.test(h.text.charAt(r.end-1))?2:1),a)[a]}var l,c,h=T(s,t),p=h.text.length,g=Ce(h,s.direction);return xe(g,n||0,null==i?p:i,function(e,t,s,h){var m="ltr"==s,v=o(e,m?"left":"right"),y=o(t-1,m?"right":"left"),b=null==n&&0==e,w=null==i&&t==p,x=0==h,k=!g||h==g.length-1;if(y.top-v.top<=3){var C=(f?b:w)&&x,$=(f?w:b)&&k,S=C?u:(m?v:y).left,_=$?d:(m?y:v).right;r(S,v.top,_-S,v.bottom)}else{var T,A,E,M;m?(T=f&&b&&x?u:v.left,A=f?d:a(e,s,"before"),E=f?u:a(t,s,"after"),M=f&&w&&k?d:y.right):(T=f?a(e,s,"before"):u,A=!f&&b&&x?d:v.right,E=!f&&w&&k?u:y.left,M=f?a(t,s,"after"):d),r(T,v.top,A-T,v.bottom),v.bottom<y.top&&r(u,v.bottom,null,y.top),r(E,y.top,M-E,y.bottom)}(!l||Mn(v,l)<0)&&(l=v),Mn(y,l)<0&&(l=y),(!c||Mn(v,c)<0)&&(c=v),Mn(y,c)<0&&(c=y)}),{start:l,end:c}}var a=e.display,s=e.doc,l=document.createDocumentFragment(),c=jt(e.display),u=c.left,d=Math.max(a.sizerWidth,Ht(e)-a.sizer.offsetLeft)-c.right,f="ltr"==s.direction,h=t.from(),p=t.to();if(h.line==p.line)o(h.line,h.ch,p.ch);else{var g=T(s,h.line),m=T(s,p.line),v=de(g)==de(m),y=o(h.line,h.ch,v?g.text.length+1:null).end,b=o(p.line,v?0:null,p.ch).start;v&&(y.top<b.top-2?(r(y.right,y.top,null,y.bottom),r(u,b.top,b.left,b.bottom)):r(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&r(u,y.bottom,null,b.top)}n.appendChild(l)}function In(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function On(e){e.state.focused||(e.display.input.focus(),Pn(e))}function Nn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Ln(e))},100)}function Pn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(_e(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),wa&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),In(e))}function Ln(e,t){e.state.delayingBlurEvent||(e.state.focused&&(_e(e,"blur",e,t),e.state.focused=!1,Ra(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Rn(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r=t.view[i],o=void 0;if(!r.hidden){if(ya&&ba<8){var a=r.node.offsetTop+r.node.offsetHeight;o=a-n,n=a}else{var s=r.node.getBoundingClientRect();o=s.bottom-s.top}var l=r.line.height-o;if(o<2&&(o=bn(t)),(l>.005||l<-.005)&&(M(r.line,o),jn(r.line),r.rest))for(var c=0;c<r.rest.length;c++)jn(r.rest[c])}}}function jn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function Fn(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Lt(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=I(t,i),a=I(t,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=I(t,ye(T(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=I(t,ye(T(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Hn(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=kn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function zn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=N(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(i("div",[i("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(a,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ii(e),!0}return!1}function Bn(e,t){if(!Te(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!_a){var a=i("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Lt(e.display))+"px;\n                         height: "+(t.bottom-t.top+Ft(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function Wn(e,t,n,i){null==i&&(i=0);var r;e.options.lineWrapping||t!=n||(t=t.ch?P(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?P(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=cn(e,t),l=n&&n!=t?cn(e,n):s;r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-i,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+i};var c=qn(e,r),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Jn(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(ei(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return r}function Un(e,t){var n=qn(e,t);null!=n.scrollTop&&Jn(e,n.scrollTop),null!=n.scrollLeft&&ei(e,n.scrollLeft)}function qn(e,t){var n=e.display,i=bn(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=zt(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Rt(n),l=t.top<i,c=t.bottom>s-i;if(t.top<r)a.scrollTop=l?0:t.top;else if(t.bottom>r+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=r&&(a.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,f=Ht(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>f;return h&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>f+d-3&&(a.scrollLeft=t.right+(h?0:10)-f),a}function Vn(e,t){null!=t&&(Xn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Kn(e){Xn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Gn(e,t,n){null==t&&null==n||Xn(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Yn(e,t){Xn(e),e.curOp.scrollToPos=t}function Xn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Qn(e,un(e,t.from),un(e,t.to),t.margin))}function Qn(e,t,n,i){var r=qn(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-i,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+i});Gn(e,r.scrollLeft,r.scrollTop)}function Jn(e,t){Math.abs(e.doc.scrollTop-t)<2||(pa||Mi(e,{top:t}),Zn(e,t,!0),pa&&Mi(e),Ci(e,100))}function Zn(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ei(e,t,n,i){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,Hn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ti(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Rt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Ft(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function ni(e,t){t||(t=ti(e));var n=e.display.barWidth,i=e.display.barHeight;ii(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Rn(e),ii(e,ti(e)),n=e.display.barWidth,i=e.display.barHeight}function ii(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function ri(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ra(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Cs[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ts(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?ei(e,t):Jn(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function oi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$s},vt(e.curOp)}function ai(e){bt(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;si(e)})}function si(e){for(var t=e.ops,n=0;n<t.length;n++)li(t[n]);for(var i=0;i<t.length;i++)ci(t[i]);for(var r=0;r<t.length;r++)ui(t[r]);for(var o=0;o<t.length;o++)di(t[o]);for(var a=0;a<t.length;a++)fi(t[a])}function li(e){var t=e.cm,n=t.display;Si(t),e.updateMaxLine&&we(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ss(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ci(e){e.updatedDisplay=e.mustUpdate&&Ai(e.cm,e.update)}function ui(e){var t=e.cm,n=t.display;e.updatedDisplay&&Rn(t),e.barMeasure=ti(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=qt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ft(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ht(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function di(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ei(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==a();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ni(t,e.barMeasure),e.updatedDisplay&&Oi(t,e.barMeasure),e.selectionChanged&&In(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&On(e.cm)}function fi(e){var t=e.cm,n=t.display,i=t.doc;e.updatedDisplay&&Ei(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Zn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ei(t,e.scrollLeft,!0,!0),e.scrollToPos&&Bn(t,Wn(t,B(i,e.scrollToPos.from),B(i,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var a=0;a<r.length;++a)r[a].lines.length||_e(r[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&_e(o[s],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&_e(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function hi(e,t){if(e.curOp)return t();oi(e);try{return t()}finally{ai(e)}}function pi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);oi(e);try{return t.apply(e,arguments)}finally{ai(e)}}}function gi(e){return function(){if(this.curOp)return e.apply(this,arguments);oi(this);try{return e.apply(this,arguments)}finally{ai(this)}}}function mi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);oi(t);try{return e.apply(this,arguments)}finally{ai(t)}}}function vi(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Qa&&pe(e.doc,t)<r.viewTo&&bi(e);else if(n<=r.viewFrom)Qa&&ge(e.doc,n+i)>r.viewFrom?bi(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)bi(e);else if(t<=r.viewFrom){var o=wi(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):bi(e)}else if(n>=r.viewTo){var a=wi(e,t,t,-1);a?(r.view=r.view.slice(0,a.index),r.viewTo=a.lineN):bi(e)}else{var s=wi(e,t,t,-1),l=wi(e,n,n+i,1);s&&l?(r.view=r.view.slice(0,s.index).concat(mt(e,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):bi(e)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=i:t<c.lineN+c.size&&(r.externalMeasured=null))}function yi(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[_n(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==f(a,n)&&a.push(n)}}}function bi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function wi(e,t,n,i){var r,o=_n(e,t),a=e.display.view;if(!Qa||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(i>0){if(o==a.length-1)return null;r=s+a[o].size-t,o++}else r=s-t;t+=r,n+=r}for(;pe(e.doc,n)!=n;){if(o==(i<0?0:a.length-1))return null;n+=i*a[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function xi(e,t,n){var i=e.display;0==i.view.length||t>=i.viewTo||n<=i.viewFrom?(i.view=mt(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=mt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(_n(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(mt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,_n(e,n)))),i.viewTo=n}function ki(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function Ci(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,c($i,e))}function $i(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=Xe(e,t.highlightFrontier),r=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(i.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?qe(t.mode,i.state):null,l=Ge(e,o,i,!0);s&&(i.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=o.styles[f];d&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Qe(e,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return Ci(e,e.options.workDelay),!0}),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),r.length&&hi(e,function(){for(var t=0;t<r.length;t++)yi(e,r[t],"text")})}}function Si(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ft(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ft(e)+"px",t.scrollbarsClipped=!0)}function _i(e){if(e.hasFocus())return null;var t=a();if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&o(e.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}function Ti(e){if(e&&e.activeElt&&e.activeElt!=a()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Ai(e,n){var i=e.display,r=e.doc;if(n.editorIsHidden)return bi(e),!1;if(!n.force&&n.visible.from>=i.viewFrom&&n.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==ki(e))return!1;zn(e)&&(bi(e),n.dims=xn(e));var o=r.first+r.size,a=Math.max(n.visible.from-e.options.viewportMargin,r.first),s=Math.min(o,n.visible.to+e.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(r.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(o,i.viewTo)),Qa&&(a=pe(e.doc,a),s=ge(e.doc,s));var l=a!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=n.wrapperHeight||i.lastWrapWidth!=n.wrapperWidth;xi(e,a,s),i.viewOffset=ye(T(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var c=ki(e);if(!l&&0==c&&!n.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var u=_i(e);return c>4&&(i.lineDiv.style.display="none"),Di(e,i.updateLineNumbers,n.dims),c>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Ti(u),t(i.cursorDiv),t(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,l&&(i.lastWrapHeight=n.wrapperHeight,i.lastWrapWidth=n.wrapperWidth,Ci(e,400)),i.updateLineNumbers=null,!0}function Ei(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ht(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Rt(e.display)-zt(e),n.top)}),t.visible=Fn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Ai(e,t);i=!1){Rn(e);var r=ti(e);Tn(e),ni(e,r),Oi(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Mi(e,t){var n=new Ss(e,t);if(Ai(e,n)){Rn(e),Ei(e,n);var i=ti(e);Tn(e),ni(e,i),Oi(e,i),n.finish()}}function Di(e,n,i){function r(t){var n=t.nextSibling;return wa&&Ma&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,l=s.firstChild,c=o.view,u=o.viewFrom,d=0;d<c.length;d++){var h=c[d];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;l!=h.node;)l=r(l);var p=a&&null!=n&&n<=u&&h.lineNumber;h.changes&&(f(h.changes,"gutter")>-1&&(p=!1),kt(e,h,u,i)),p&&(t(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(N(e.options,u)))),l=h.node.nextSibling}else{var g=Mt(e,h,u,i);s.insertBefore(g,l)}u+=h.size}for(;l;)l=r(l)}function Ii(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Oi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ft(e)+"px"}function Ni(e){var n=e.display.gutters,r=e.options.gutters;t(n);for(var o=0;o<r.length;++o){var a=r[o],s=n.appendChild(i("div",null,"CodeMirror-gutter "+a));"CodeMirror-linenumbers"==a&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Ii(e)}function Pi(e){var t=f(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Li(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Ri(e){var t=Li(e);return t.x*=Ts,t.y*=Ts,t}function ji(e,t){var n=Li(t),i=n.x,r=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(i&&s||r&&l){if(r&&Ma&&wa)e:for(var c=t.target,u=o.view;c!=a;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(i&&!pa&&!Ca&&null!=Ts)return r&&l&&Jn(e,Math.max(0,a.scrollTop+r*Ts)),ei(e,Math.max(0,a.scrollLeft+i*Ts)),(!r||r&&l)&&De(t),void(o.wheelStartX=null);if(r&&null!=Ts){var f=r*Ts,h=e.doc.scrollTop,p=h+o.wrapper.clientHeight;f<0?h=Math.max(0,h+f-50):p=Math.min(e.doc.height,p+f+50),Mi(e,{top:h,bottom:p})}_s<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ts=(Ts*_s+n)/(_s+1),++_s)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function Fi(e,t){var n=e[t];e.sort(function(e,t){return L(e.from(),t.from())}),t=f(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(L(o.to(),r.from())>=0){var a=H(o.from(),r.from()),s=F(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=t&&--t,e.splice(--i,2,new Es(l?s:a,l?a:s))}}return new As(e,t)}function Hi(e,t){return new As([new Es(e,t||e)],0)}function zi(e){return e.text?P(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Bi(e,t){if(L(e,t.from)<0)return e;if(L(e,t.to)<=0)return zi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=zi(t).ch-t.to.ch),P(n,i)}function Wi(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new Es(Bi(r.anchor,t),Bi(r.head,t)))}return Fi(n,e.sel.primIndex)}function Ui(e,t,n){return e.line==t.line?P(n.line,e.ch-t.ch+n.ch):P(n.line+(e.line-t.line),e.ch)}function qi(e,t,n){for(var i=[],r=P(e.first,0),o=r,a=0;a<t.length;a++){var s=t[a],l=Ui(s.from,r,o),c=Ui(zi(s),r,o);if(r=s.to,o=c,"around"==n){var u=e.sel.ranges[a],d=L(u.head,u.anchor)<0;i[a]=new Es(d?c:l,d?l:c)}else i[a]=new Es(l,l)}return new As(i,e.sel.primIndex)}function Vi(e){e.doc.mode=We(e.options,e.doc.modeOption),Ki(e)}function Ki(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ci(e,100),e.state.modeGen++,e.curOp&&vi(e)}function Gi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Yi(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){ot(e,n,r,i),wt(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new ps(c[o],r(o),i));return n}var s=t.from,l=t.to,c=t.text,u=T(e,s.line),d=T(e,l.line),f=g(c),h=r(c.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(Gi(e,t)){var m=a(0,c.length-1);o(d,d.text,h),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+f+u.text.slice(l.ch),h);else{var v=a(1,c.length-1);v.push(new ps(f+u.text.slice(l.ch),h,i)),o(u,u.text.slice(0,s.ch)+c[0],r(0)),e.insert(s.line+1,v)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(s.line+1,p);else{o(u,u.text.slice(0,s.ch)+c[0],r(0)),o(d,f+d.text.slice(l.ch),h);var y=a(1,c.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}wt(e,"change",e,t)}function Xi(e,t,n){function i(e,r,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=r){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),i(s.doc,e,l))}}}i(e,null,!0)}function Qi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,$n(e),Vi(e),Ji(e),e.options.lineWrapping||we(e),e.options.mode=t.modeOption,vi(e)}function Ji(e){("rtl"==e.doc.direction?s:Ra)(e.display.lineDiv,"CodeMirror-rtl")}function Zi(e){hi(e,function(){Ji(e),vi(e)})}function er(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function tr(e,t){var n={from:j(t.from),to:zi(t),text:A(e,t.from,t.to)};return lr(e,n,t.from.line,t.to.line+1),Xi(e,function(e){return lr(e,n,t.from.line,t.to.line+1)},!0),n}function nr(e){for(;e.length&&g(e).ranges;)e.pop()}function ir(e,t){return t?(nr(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function rr(e,t,n,i){var r=e.history;r.undone.length=0;var o,a,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ir(r,r.lastOp==i)))a=g(o.changes),0==L(t.from,t.to)&&0==L(t.from,a.to)?a.to=zi(t):o.changes.push(tr(e,t));else{var l=g(r.done);for(l&&l.ranges||sr(e.sel,r.done),o={changes:[tr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||_e(e,"historyAdded")}function or(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ar(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||or(e,o,g(r.done),t))?r.done[r.done.length-1]=t:sr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&nr(r.undone)}function sr(e,t){var n=g(t);n&&n.ranges&&n.equals(e)||t.push(e)}function lr(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function cr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ur(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=[],r=0;r<t.text.length;++r)i.push(cr(n[r]));return i}function dr(e,t){var n=ur(e,t),i=Z(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],a=i[r];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[r]=a)}return n}function fr(e,t,n){for(var i=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?As.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&f(t,Number(u[1]))>-1&&(g(s)[d]=c[d],delete c[d])}}}return i}function hr(e,t,n,i){if(i){var r=e.anchor;if(n){var o=L(t,r)<0;o!=L(n,r)<0?(r=t,t=n):o!=L(t,n)<0&&(t=n)}return new Es(r,t)}return new Es(n||t,t)}function pr(e,t,n,i,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),wr(e,new As([hr(e.sel.primary(),t,n,r)],0),i)}function gr(e,t,n){for(var i=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)i[o]=hr(e.sel.ranges[o],t[o],null,r);wr(e,Fi(i,e.sel.primIndex),n)}function mr(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,wr(e,Fi(r,e.sel.primIndex),i)}function vr(e,t,n,i){wr(e,Hi(t,n),i)}function yr(e,t,n){var i={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var i=0;i<t.length;i++)n.ranges[i]=new Es(B(e,t[i].anchor),B(e,t[i].head))},origin:n&&n.origin};return _e(e,"beforeSelectionChange",e,i),e.cm&&_e(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?Fi(i.ranges,i.ranges.length-1):t}function br(e,t,n){var i=e.history.done,r=g(i);r&&r.ranges?(i[i.length-1]=t,xr(e,t,n)):wr(e,t,n)}function wr(e,t,n){xr(e,t,n),ar(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function xr(e,t,n){(Ee(e,"beforeSelectionChange")||e.cm&&Ee(e.cm,"beforeSelectionChange"))&&(t=yr(e,t,n)),kr(e,$r(e,t,n&&n.bias||(L(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Kn(e.cm)}function kr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ae(e.cm)),wt(e,"cursorActivity",e))}function Cr(e){kr(e,$r(e,e.sel,null,!1))}function $r(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=_r(e,a.anchor,s&&s.anchor,n,i),c=_r(e,a.head,s&&s.head,n,i);(r||l!=a.anchor||c!=a.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new Es(l,c))}return r?Fi(r,t.primIndex):t}function Sr(e,t,n,i,r){var o=T(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(r&&(_e(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var c=l.find(i<0?1:-1),u=void 0;if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=Tr(e,c,-i,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=L(c,n))&&(i<0?u<0:u>0))return Sr(e,c,t,i,r)}var d=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(d=Tr(e,d,i,d.line==t.line?o:null)),d?Sr(e,d,t,i,r):null}}return t}function _r(e,t,n,i,r){var o=i||1;return Sr(e,t,n,o,r)||!r&&Sr(e,t,n,o,!0)||Sr(e,t,n,-o,r)||!r&&Sr(e,t,n,-o,!0)||(e.cantEdit=!0,P(e.first,0))}function Tr(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?B(e,P(t.line-1)):null:n>0&&t.ch==(i||T(e,t.line)).text.length?t.line<e.first+e.size-1?P(t.line+1,0):null:new P(t.line,t.ch+n)}function Ar(e){e.setSelection(P(e.firstLine(),0),P(e.lastLine()),Ua)}function Er(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(t,n,r,o){t&&(i.from=B(e,t)),n&&(i.to=B(e,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),_e(e,"beforeChange",e,i),e.cm&&_e(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Mr(e,t,n){if(e.cm){if(!e.cm.curOp)return pi(e.cm,Mr)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ee(e,"beforeChange")||e.cm&&Ee(e.cm,"beforeChange"))||(t=Er(e,t,!0))){var i=Xa&&!n&&te(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Dr(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text,origin:t.origin});else Dr(e,t)}}function Dr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=L(t.from,t.to)){var n=Wi(e,t);rr(e,t,n,e.cm?e.cm.curOp.id:NaN),Nr(e,t,n,Z(e,t));var i=[];Xi(e,function(e,n){n||-1!=f(i,e.history)||(Fr(e.history,t),i.push(e.history)),Nr(e,t,null,Z(e,t))})}}function Ir(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var i,r=e.history,o=e.sel,a="undo"==t?r.done:r.undone,s="undo"==t?r.undone:r.done,l=0;l<a.length&&(i=a[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;i=a.pop(),i.ranges;){if(sr(i,s),n&&!i.equals(e.sel))return void wr(e,i,{clearRedo:!1});o=i}var c=[];sr(o,s),s.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=Ee(e,"beforeChange")||e.cm&&Ee(e.cm,"beforeChange"),d=i.changes.length-1;d>=0;--d){var h=function(n){var r=i.changes[n];if(r.origin=t,u&&!Er(e,r,!1))return a.length=0,{};c.push(tr(e,r));var o=n?Wi(e,r):g(a);Nr(e,r,o,dr(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:zi(r)});var s=[];Xi(e,function(e,t){t||-1!=f(s,e.history)||(Fr(e.history,r),s.push(e.history)),Nr(e,r,null,dr(e,r))})}(d);if(h)return h.v}}}}function Or(e,t){if(0!=t&&(e.first+=t,e.sel=new As(m(e.sel.ranges,function(e){return new Es(P(e.anchor.line+t,e.anchor.ch),P(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){vi(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)yi(e.cm,i,"gutter")}}function Nr(e,t,n,i){if(e.cm&&!e.cm.curOp)return pi(e.cm,Nr)(e,t,n,i);if(t.to.line<e.first)return void Or(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Or(e,r),t={from:P(e.first,0),to:P(t.to.line+r,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:P(o,T(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=A(e,t.from,t.to),n||(n=Wi(e,t)),e.cm?Pr(e.cm,t,i):Yi(e,t,i),xr(e,n,Ua)}}function Pr(e,t,n){var i=e.doc,r=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=D(de(T(i,o.line))),i.iter(l,a.line+1,function(e){if(e==r.maxLine)return s=!0,!0})),i.sel.contains(t.from,t.to)>-1&&Ae(e),Yi(i,t,n,Cn(e)),e.options.lineWrapping||(i.iter(l,o.line+t.text.length,function(e){var t=be(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),rt(i,o.line),Ci(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?vi(e):o.line!=a.line||1!=t.text.length||Gi(e.doc,t)?vi(e,o.line,a.line+1,c):yi(e,o.line,"text");var u=Ee(e,"changes"),d=Ee(e,"change");if(d||u){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&wt(e,"change",e,f),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function Lr(e,t,n,i,r){if(i||(i=n),L(i,n)<0){var o;o=[i,n],n=o[0],i=o[1]}"string"==typeof t&&(t=e.splitLines(t)),Mr(e,{from:n,to:i,text:t,origin:r})}function Rr(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function jr(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],a=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Rr(o.ranges[s].anchor,t,n,i),Rr(o.ranges[s].head,t,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=P(c.from.line+i,c.from.ch),c.to=P(c.to.line+i,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,r+1),r=0)}}}function Fr(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;jr(e.done,n,i,r),jr(e.undone,n,i,r)}function Hr(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=T(e,z(e,t)):r=D(t),null==r?null:(i(o,r)&&e.cm&&yi(e.cm,r,n),o)}function zr(e){var t=this;this.lines=e,this.parent=null;for(var n=0,i=0;i<e.length;++i)e[i].parent=t,n+=e[i].height;this.height=n}function Br(e){var t=this;this.children=e;for(var n=0,i=0,r=0;r<e.length;++r){var o=e[r];n+=o.chunkSize(),i+=o.height,o.parent=t}this.size=n,this.height=i,this.parent=null}function Wr(e,t,n){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Vn(e,n)}function Ur(e,t,n,i){var r=new Ms(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Hr(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!me(e,t)){var i=ye(t)<e.scrollTop;M(t,t.height+Nt(r)),i&&Vn(o,r.height),o.curOp.forceUpdate=!0}return!0}),wt(o,"lineWidgetAdded",o,r,"number"==typeof t?t:D(t)),r}function qr(e,t,n,i,o){if(i&&i.shared)return Vr(e,t,n,i,o);if(e.cm&&!e.cm.curOp)return pi(e.cm,qr)(e,t,n,i,o);var a=new Is(e,o),s=L(t,n);if(i&&u(i,a,!1),s>0||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=r("span",[a.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(ue(e,t.line,t,n,a)||t.line!=n.line&&ue(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");V()}a.addToHistory&&rr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,c=t.line,d=e.cm;if(e.iter(c,n.line+1,function(e){d&&a.collapsed&&!d.options.lineWrapping&&de(e)==d.display.maxLine&&(l=!0),a.collapsed&&c!=t.line&&M(e,0),X(e,new K(a,c==t.line?t.ch:null,c==n.line?n.ch:null)),++c}),a.collapsed&&e.iter(t.line,n.line+1,function(t){me(e,t)&&M(t,0)}),a.clearOnEnter&&ts(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(q(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Ds,a.atomic=!0),d){if(l&&(d.curOp.updateMaxLine=!0),a.collapsed)vi(d,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var f=t.line;f<=n.line;f++)yi(d,f,"text");a.atomic&&Cr(d.doc),wt(d,"markerAdded",d,a)}return a}function Vr(e,t,n,i,r){i=u(i),i.shared=!1;var o=[qr(e,t,n,i,r)],a=o[0],s=i.widgetNode;return Xi(e,function(e){s&&(i.widgetNode=s.cloneNode(!0)),o.push(qr(e,B(e,t),B(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=g(o)}),new Os(o,a)}function Kr(e){return e.findMarks(P(e.first,0),e.clipPos(P(e.lastLine())),function(e){return e.parent})}function Gr(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),a=e.clipPos(r.to);if(L(o,a)){var s=qr(e,o,a,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}function Yr(e){for(var t=0;t<e.length;t++)!function(t){var n=e[t],i=[n.primary.doc];Xi(n.primary.doc,function(e){return i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==f(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}(t)}function Xr(e){var t=this;if(Zr(t),!Te(t,e)&&!Pt(t.display,e)){De(e),ya&&(Ls=+new Date);var n=Sn(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,s=0;s<r;++s)!function(e,i){if(!t.options.allowDropFileTypes||-1!=f(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=pi(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++a==r){n=B(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Mr(t.doc,l),br(t.doc,Hi(n,zi(l)))}}),s.readAsText(e)}}(i[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var l=e.dataTransfer.getData("Text");if(l){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),xr(t.doc,Hi(n,n)),c)for(var u=0;u<c.length;++u)Lr(t.doc,"",c[u].anchor,c[u].head,"drag");t.replaceSelection(l,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Qr(e,t){if(ya&&(!e.state.draggingText||+new Date-Ls<100))return void Ne(t);if(!Te(e,t)&&!Pt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!$a)){var n=i("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ca&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ca&&n.parentNode.removeChild(n)}}function Jr(e,t){var r=Sn(e,t);if(r){var o=document.createDocumentFragment();En(e,r,o),e.display.dragCursor||(e.display.dragCursor=i("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function Zr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function eo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function to(){Rs||(no(),Rs=!0)}function no(){var e;ts(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,eo(io)},100))}),ts(window,"blur",function(){return eo(Ln)})}function io(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function ro(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,i,r,o,a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return n&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function oo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=m(n.split(" "),ro),o=0;o<r.length;o++){var a=void 0,s=void 0;o==r.length-1?(s=r.join(" "),a=i):(s=r.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function ao(e,t,n,i){t=uo(t);var r=t.call?t.call(e,i):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ao(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var a=ao(e,t.fallthrough[o],n,i);if(a)return a}}}function so(e){var t="string"==typeof e?e:js[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function lo(e,t,n){var i=e;return t.altKey&&"Alt"!=i&&(e="Alt-"+e),(Pa?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),(Pa?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function co(e,t){if(Ca&&34==e.keyCode&&e.char)return!1;var n=js[e.keyCode];return null!=n&&!e.altGraphKey&&lo(n,e,t)}function uo(e){return"string"==typeof e?Bs[e]:e}function fo(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&L(o.from,g(i).to)<=0;){var a=i.pop();if(L(a.from,o.from)<0){o.from=a.from;break}}i.push(o)}hi(e,function(){for(var t=i.length-1;t>=0;t--)Lr(e.doc,"",i[t].from,i[t].to,"+delete");Kn(e)})}function ho(e,t,n){var i=$(e.text,t+n,n);return i<0||i>e.text.length?null:i}function po(e,t,n){var i=ho(e,t.ch,n);return null==i?null:new P(t.line,i,n<0?"after":"before")}function go(e,t,n,i,r){if(e){var o=Ce(n,t.doc.direction);if(o){var a,s=r<0?g(o):o[0],l=r<0==(1==s.level),c=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=Kt(t,n);a=r<0?n.text.length-1:0;var d=Gt(t,u,a).top;a=S(function(e){return Gt(t,u,e).top==d},r<0==(1==s.level)?s.from:s.to-1,a),"before"==c&&(a=ho(n,a,1))}else a=r<0?s.to:s.from;return new P(i,a,c)}}return new P(i,r<0?n.text.length:0,r<0?"before":"after")}function mo(e,t,n,i){var r=Ce(t,e.doc.direction);if(!r)return po(t,n,i);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ke(r,n.ch,n.sticky),a=r[o];if("ltr"==e.doc.direction&&a.level%2==0&&(i>0?a.to>n.ch:a.from<n.ch))return po(t,n,i);var s,l=function(e,n){return ho(t,e instanceof P?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||Kt(e,t),pn(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==i<0,f=l(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=u.end:f>=a.from&&f>=u.begin)){var h=d?"before":"after";return new P(n.line,f,h)}}var p=function(e,t,i){for(var o=function(e,t){return t?new P(n.line,l(e,1),"before"):new P(n.line,e,"after")};e>=0&&e<r.length;e+=t){var a=r[e],s=t>0==(1!=a.level),c=s?i.begin:l(i.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),i.begin<=c&&c<i.end)return o(c,s)}},g=p(o+i,i,u);if(g)return g;var m=i>0?u.end:l(u.begin,-1);return null==m||i>0&&m==t.text.length||!(g=p(i>0?0:r.length-1,i,c(m)))?null:g}function vo(e,t){var n=T(e.doc,t),i=de(n);return i!=n&&(t=D(i)),go(!0,e,i,t,1)}function yo(e,t){var n=T(e.doc,t),i=fe(n);return i!=n&&(t=D(i)),go(!0,e,n,t,-1)}function bo(e,t){var n=vo(e,t.line),i=T(e.doc,n.line),r=Ce(i,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return P(n.line,a?0:o,n.sticky)}return n}function wo(e,t,n){if("string"==typeof t&&!(t=Ws[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Wa}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function xo(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=ao(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&ao(t,e.options.extraKeys,n,e)||ao(t,e.options.keyMap,n,e)}function ko(e,t,n,i){var r=e.state.keySeq;if(r){if(so(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Us.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),Co(e,r+" "+t,n,i))return!0}return Co(e,t,n,i)}function Co(e,t,n,i){var r=xo(e,t,i);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&wt(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(De(n),In(e)),!!r}function $o(e,t){var n=co(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ko(e,"Shift-"+n,t,function(t){return wo(e,t,!0)})||ko(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return wo(e,t)}):ko(e,n,t,function(t){return wo(e,t)}))}function So(e,t,n){return ko(e,"'"+n+"'",t,function(t){return wo(e,t,!0)})}function _o(e){var t=this;if(t.curOp.focus=a(),!Te(t,e)){ya&&ba<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=$o(t,e);Ca&&(qs=i?n:null,!i&&88==n&&!os&&(Ma?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||To(t)}}function To(e){function t(e){18!=e.keyCode&&e.altKey||(Ra(n,"CodeMirror-crosshair"),Se(document,"keyup",t),Se(document,"mouseover",t))}var n=e.display.lineDiv;s(n,"CodeMirror-crosshair"),ts(document,"keyup",t),ts(document,"mouseover",t)}function Ao(e){16==e.keyCode&&(this.doc.sel.shift=!1),Te(this,e)}function Eo(e){var t=this;if(!(Pt(t.display,e)||Te(t,e)||e.ctrlKey&&!e.altKey||Ma&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(Ca&&n==qs)return qs=null,void De(e);if(!Ca||e.which&&!(e.which<10)||!$o(t,e)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(So(t,e,r)||t.display.input.onKeyPress(e))}}}function Mo(e,t){var n=+new Date;return Gs&&Gs.compare(n,e,t)?(Ks=Gs=null,"triple"):Ks&&Ks.compare(n,e,t)?(Gs=new Vs(n,e,t),Ks=null,"double"):(Ks=new Vs(n,e,t),Gs=null,"single")}function Do(e){var t=this,n=t.display;if(!(Te(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Pt(n,e))return void(wa||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!Ho(t,e)){var i=Sn(t,e),r=Le(e),o=i?Mo(i,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),i&&Io(t,r,i,o,e)||(1==r?i?No(t,i,o,e):Pe(e)==n.scroller&&De(e):2==r?(i&&pr(t.doc,i),setTimeout(function(){return n.input.focus()},20)):3==r&&(La?zo(t,e):Nn(t)))}}}function Io(e,t,n,i,r){var o="Click";return"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,ko(e,lo(o,r),r,function(t){if("string"==typeof t&&(t=Ws[t]),!t)return!1;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i=t(e,n)!=Wa}finally{e.state.suppressEdits=!1}return i})}function Oo(e,t,n){var i=e.getOption("configureMouse"),r=i?i(e,t,n):{};if(null==r.unit){var o=Da?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=Ma?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(Ma?n.altKey:n.ctrlKey)),r}function No(e,t,n,i){ya?setTimeout(c(On,e),0):e.curOp.focus=a();var r,o=Oo(e,n,i),s=e.doc.sel;e.options.dragDrop&&ns&&!e.isReadOnly()&&"single"==n&&(r=s.contains(t))>-1&&(L((r=s.ranges[r]).from(),t)<0||t.xRel>0)&&(L(r.to(),t)>0||t.xRel<0)?Po(e,i,t,o):Ro(e,i,t,o)}function Po(e,t,n,i){var r=e.display,o=!1,a=pi(e,function(t){wa&&(r.scroller.draggable=!1),e.state.draggingText=!1,Se(document,"mouseup",a),Se(document,"mousemove",s),Se(r.scroller,"dragstart",l),Se(r.scroller,"drop",a),o||(De(t),i.addNew||pr(e.doc,n,null,null,i.extend),wa||ya&&9==ba?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return o=!0};wa&&(r.scroller.draggable=!0),e.state.draggingText=a,a.copy=!i.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),ts(document,"mouseup",a),ts(document,"mousemove",s),ts(r.scroller,"dragstart",l),ts(r.scroller,"drop",a),Nn(e),setTimeout(function(){return r.input.focus()},20)}function Lo(e,t,n){if("char"==n)return new Es(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Es(P(t.line,0),B(e.doc,P(t.line+1,0)));var i=n(e,t);return new Es(i.from,i.to)}function Ro(e,t,n,i){function r(t){if(0!=L(v,t))if(v=t,"rectangle"==i.unit){for(var r=[],o=e.options.tabSize,a=d(T(c,n.line).text,n.ch,o),s=d(T(c,t.line).text,t.ch,o),l=Math.min(a,s),g=Math.max(a,s),m=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=y;m++){var b=T(c,m).text,w=h(b,l,o);l==g?r.push(new Es(P(m,w),P(m,w))):b.length>w&&r.push(new Es(P(m,w),P(m,h(b,g,o))))}r.length||r.push(new Es(n,n)),wr(c,Fi(p.ranges.slice(0,f).concat(r),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,k=u,C=Lo(e,t,i.unit),$=k.anchor;L(C.anchor,$)>0?(x=C.head,$=H(k.from(),C.anchor)):(x=C.anchor,$=F(k.to(),C.head));var S=p.ranges.slice(0);S[f]=jo(e,new Es(B(c,$),x)),wr(c,Fi(S,f),qa)}}function o(t){var n=++b,s=Sn(e,t,!0,"rectangle"==i.unit);if(s)if(0!=L(s,v)){e.curOp.focus=a(),r(s);var u=Fn(l,c);(s.line>=u.to||s.line<u.from)&&setTimeout(pi(e,function(){b==n&&o(t)}),150)}else{var d=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;d&&setTimeout(pi(e,function(){b==n&&(l.scroller.scrollTop+=d,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,De(t),l.input.focus(),Se(document,"mousemove",w),Se(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;De(t);var u,f,p=c.sel,g=p.ranges;if(i.addNew&&!i.extend?(f=c.sel.contains(n),u=f>-1?g[f]:new Es(n,n)):(u=c.sel.primary(),f=c.sel.primIndex),"rectangle"==i.unit)i.addNew||(u=new Es(n,n)),n=Sn(e,t,!0,!0),f=-1;else{var m=Lo(e,n,i.unit);u=i.extend?hr(u,m.anchor,m.head,i.extend):m}i.addNew?-1==f?(f=g.length,wr(c,Fi(g.concat([u]),f),{scroll:!1,origin:"*mouse"})):g.length>1&&g[f].empty()&&"char"==i.unit&&!i.extend?(wr(c,Fi(g.slice(0,f).concat(g.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),p=c.sel):mr(c,f,u,qa):(f=0,wr(c,new As([u],0),qa),p=c.sel);var v=n,y=l.wrapper.getBoundingClientRect(),b=0,w=pi(e,function(e){Le(e)?o(e):s(e)}),x=pi(e,s);e.state.selectingText=x,ts(document,"mousemove",w),ts(document,"mouseup",x)}function jo(e,t){var n=t.anchor,i=t.head,r=T(e.doc,n.line);if(0==L(n,i)&&n.sticky==i.sticky)return t;var o=Ce(r);if(!o)return t;var a=ke(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return t;var c;if(i.line!=n.line)c=(i.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ke(o,i.ch,i.sticky),d=u-a||(i.ch-n.ch)*(1==s.level?-1:1);c=u==l-1||u==l?d<0:d>0}var f=o[l+(c?-1:0)],h=c==(1==f.level),p=h?f.from:f.to,g=h?"after":"before";return n.ch==p&&n.sticky==g?t:new Es(new P(n.line,p,g),i)}function Fo(e,t,n,i){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&De(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ee(e,n))return Oe(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return _e(e,n,e,I(e.doc,o),e.options.gutters[l],t),Oe(t)}}function Ho(e,t){return Fo(e,t,"gutterClick",!0)}function zo(e,t){Pt(e.display,t)||Bo(e,t)||Te(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Bo(e,t){return!!Ee(e,"gutterContextMenu")&&Fo(e,t,"gutterContextMenu",!1)}function Wo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tn(e)}function Uo(e){Ni(e),vi(e),Hn(e)}function qo(e,t,n){if(!t!=!(n&&n!=Ys)){var i=e.display.dragFunctions,r=t?ts:Se;r(e.display.scroller,"dragstart",i.start),r(e.display.scroller,"dragenter",i.enter),r(e.display.scroller,"dragover",i.over),r(e.display.scroller,"dragleave",i.leave),r(e.display.scroller,"drop",i.drop)}}function Vo(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ra(e.display.wrapper,"CodeMirror-wrap"),we(e)),$n(e),vi(e),tn(e),setTimeout(function(){return ni(e)},100)}function Ko(e,t){var n=this;if(!(this instanceof Ko))return new Ko(e,t);this.options=t=t?u(t):{},u(Xs,t,!1),Pi(t);var i=t.value;"string"==typeof i&&(i=new Ps(i,t.mode,null,t.lineSeparator,t.direction)),this.doc=i;var r=new Ko.inputStyles[t.inputStyle](this),o=this.display=new _(e,i,r);o.wrapper.CodeMirror=this,Ni(this),Wo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ri(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Fa,keySeq:null,specialChars:null},t.autofocus&&!Ea&&o.input.focus(),ya&&ba<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Go(this),to(),oi(this),this.curOp.forceUpdate=!0,Qi(this,i),t.autofocus&&!Ea||this.hasFocus()?setTimeout(c(Pn,this),20):Ln(this);for(var a in Qs)Qs.hasOwnProperty(a)&&Qs[a](n,t[a],Ys);zn(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Js.length;++s)Js[s](n);ai(this),wa&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Go(e){function t(){r.activeTouch&&(o=setTimeout(function(){return r.activeTouch=null},1e3),a=r.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;ts(r.scroller,"mousedown",pi(e,Do)),ya&&ba<11?ts(r.scroller,"dblclick",pi(e,function(t){if(!Te(e,t)){var n=Sn(e,t);if(n&&!Ho(e,t)&&!Pt(e.display,t)){De(t);var i=e.findWordAt(n);pr(e.doc,i.anchor,i.head)}}})):ts(r.scroller,"dblclick",function(t){return Te(e,t)||De(t)}),La||ts(r.scroller,"contextmenu",function(t){return zo(e,t)});var o,a={end:0};ts(r.scroller,"touchstart",function(t){if(!Te(e,t)&&!n(t)&&!Ho(e,t)){r.input.ensurePolled(),clearTimeout(o);var i=+new Date;r.activeTouch={start:i,moved:!1,prev:i-a.end<=300?a:null},1==t.touches.length&&(r.activeTouch.left=t.touches[0].pageX,r.activeTouch.top=t.touches[0].pageY)}}),ts(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),ts(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!Pt(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(r.activeTouch,"page");a=!o.prev||i(o,o.prev)?new Es(s,s):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(s):new Es(P(s.line,0),B(e.doc,P(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),De(n)}t()}),ts(r.scroller,"touchcancel",t),ts(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Jn(e,r.scroller.scrollTop),ei(e,r.scroller.scrollLeft,!0),_e(e,"scroll",e))}),ts(r.scroller,"mousewheel",function(t){return ji(e,t)}),ts(r.scroller,"DOMMouseScroll",function(t){return ji(e,t)}),ts(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Te(e,t)||Ne(t)},over:function(t){Te(e,t)||(Jr(e,t),Ne(t))},start:function(t){return Qr(e,t)},drop:pi(e,Xr),leave:function(t){Te(e,t)||Zr(e)}};var s=r.input.getField();ts(s,"keyup",function(t){return Ao.call(e,t)}),ts(s,"keydown",pi(e,_o)),ts(s,"keypress",pi(e,Eo)),ts(s,"focus",function(t){return Pn(e,t)}),ts(s,"blur",function(t){return Ln(e,t)})}function Yo(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Xe(e,t).state:n="prev");var a=e.options.tabSize,s=T(o,t),l=d(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(r,s.text.slice(u.length),s.text))==Wa||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?d(T(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",h=0;if(e.options.indentWithTabs)for(var g=Math.floor(c/a);g;--g)h+=a,f+="\t";if(h<c&&(f+=p(c-h)),f!=u)return Lr(o,f,P(t,0),P(t,u.length),"+input"),s.stateAfter=null,!0;for(var m=0;m<o.sel.ranges.length;m++){var v=o.sel.ranges[m];if(v.head.line==t&&v.head.ch<u.length){var y=P(t,u.length);mr(o,m,new Es(y,y));break}}}function Xo(e){Zs=e}function Qo(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var a=e.state.pasteIncoming||"paste"==r,s=is(t),l=null;if(a&&i.ranges.length>1)if(Zs&&Zs.text.join("\n")==t){if(i.ranges.length%Zs.text.length==0){l=[];for(var c=0;c<Zs.text.length;c++)l.push(o.splitLines(Zs.text[c]))}}else s.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(l=m(s,function(e){return[e]}));for(var u,d=i.ranges.length-1;d>=0;d--){var f=i.ranges[d],h=f.from(),p=f.to();f.empty()&&(n&&n>0?h=P(h.line,h.ch-n):e.state.overwrite&&!a?p=P(p.line,Math.min(T(o,p.line).text.length,p.ch+g(s).length)):Zs&&Zs.lineWise&&Zs.text.join("\n")==t&&(h=p=P(h.line,0))),u=e.curOp.updateInput;var v={from:h,to:p,text:l?l[d%l.length]:s,origin:r||(a?"paste":e.state.cutIncoming?"cut":"+input")};Mr(e.doc,v),wt(e,"inputRead",e,v)}t&&!a&&Zo(e,t),Kn(e),e.curOp.updateInput=u,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Jo(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||hi(t,function(){return Qo(t,n,0,null,"paste")}),!0}function Zo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Yo(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(T(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=Yo(e,r.head.line,"smart"));a&&wt(e,"electricInput",e,r.head.line)}}}function ea(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:P(r,0),head:P(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ta(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function na(){var e=i("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=i("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return wa?e.style.width="1000px":e.setAttribute("wrap","off"),Ta&&(e.style.border="1px solid black"),ta(e),t}function ia(e,t,n,i,r){function o(){var i=t.line+n;return!(i<e.first||i>=e.first+e.size)&&(t=new P(i,t.ch,t.sticky),c=T(e,i))}function a(i){var a;if(null==(a=r?mo(e.cm,c,t,n):po(c,t,n))){if(i||!o())return!1;t=go(r,e.cm,c,t.line,n)}else t=a;return!0}var s=t,l=n,c=T(e,t.line);if("char"==i)a();else if("column"==i)a(!0);else if("word"==i||"group"==i)for(var u=null,d="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||a(!h);h=!1){var p=c.text.charAt(t.ch)||"\n",g=x(p,f)?"w":d&&"\n"==p?"n":!d||/\s/.test(p)?null:"p";if(!d||h||g||(g="s"),u&&u!=g){n<0&&(n=1,a(),t.sticky="after");break}if(g&&(u=g),n>0&&!a(!h))break}var m=_r(e,t,s,l,!0);return R(s,m)&&(m.hitSide=!0),m}function ra(e,t,n,i){var r,o=e.doc,a=t.left;if("page"==i){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*bn(e.display),3);r=(n>0?t.bottom:t.top)+n*l}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(var c;c=fn(e,a,r),c.outside;){if(n<0?r<=0:r>=o.height){c.hitSide=!0;break}r+=5*n}return c}function oa(e,t){var n=Vt(e,t.line);if(!n||n.hidden)return null;var i=T(e.doc,t.line),r=Wt(n,i,t.line),o=Ce(i,e.doc.direction),a="left";o&&(a=ke(o,t.ch)%2?"right":"left");var s=Yt(r.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function aa(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function sa(e,t){return t&&(e.bad=!0),e}function la(e,t,n,i,r){function o(e){return function(t){return t.id==e}}function a(){u&&(c+=d,u=!1)}function s(e){e&&(a(),c+=e)}function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void s(n||t.textContent.replace(/\u200b/g,""));var c,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(P(i,0),P(r+1,0),o(+f));return void(h.length&&(c=h[0].find(0))&&s(A(e.doc,c.from,c.to).join(d)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&a();for(var g=0;g<t.childNodes.length;g++)l(t.childNodes[g]);p&&(u=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var c="",u=!1,d=e.doc.lineSeparator();l(t),t!=n;)t=t.nextSibling;return c}function ca(e,t,n){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[n]))return sa(e.clipPos(P(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return ua(o,t,n)}}function ua(e,t,n){function i(t,n,i){for(var r=-1;r<(d?d.length:0);r++)for(var o=r<0?u.map:d[r],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=D(r<0?e.line:e.rest[r]),c=o[a]+i;return(i<0||s!=t)&&(c=o[a+(i?1:0)]),P(l,c)}}}var r=e.text.firstChild,a=!1;if(!t||!o(r,t))return sa(P(D(e.line),0),!0);if(t==r&&(a=!0,t=r.childNodes[n],n=0,!t)){var s=e.rest?g(e.rest):e.line;return sa(P(D(s),s.text.length),a)}var l=3==t.nodeType?t:null,c=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));c.parentNode!=r;)c=c.parentNode;var u=e.measure,d=u.maps,f=i(l,c,n);if(f)return sa(f,a);for(var h=c.nextSibling,p=l?l.nodeValue.length-n:0;h;h=h.nextSibling){if(f=i(h,h.firstChild,0))return sa(P(f.line,f.ch-p),a);p+=h.textContent.length}for(var m=c.previousSibling,v=n;m;m=m.previousSibling){if(f=i(m,m.firstChild,-1))return sa(P(f.line,f.ch+v),a);v+=m.textContent.length}}function da(e,t){function n(){e.value=l.getValue()}if(t=t?u(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=a();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}var r;if(e.form&&(ts(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var s=o.submit=function(){n(),o.submit=r,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Se(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var l=Ko(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}var fa=navigator.userAgent,ha=navigator.platform,pa=/gecko\/\d/i.test(fa),ga=/MSIE \d/.test(fa),ma=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fa),va=/Edge\/(\d+)/.exec(fa),ya=ga||ma||va,ba=ya&&(ga?document.documentMode||6:+(va||ma)[1]),wa=!va&&/WebKit\//.test(fa),xa=wa&&/Qt\/\d+\.\d+/.test(fa),ka=!va&&/Chrome\//.test(fa),Ca=/Opera\//.test(fa),$a=/Apple Computer/.test(navigator.vendor),Sa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fa),_a=/PhantomJS/.test(fa),Ta=!va&&/AppleWebKit/.test(fa)&&/Mobile\/\w+/.test(fa),Aa=/Android/.test(fa),Ea=Ta||Aa||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fa),Ma=Ta||/Mac/.test(ha),Da=/\bCrOS\b/.test(fa),Ia=/win/i.test(ha),Oa=Ca&&fa.match(/Version\/(\d*\.\d*)/);Oa&&(Oa=Number(Oa[1])),Oa&&Oa>=15&&(Ca=!1,wa=!0);var Na,Pa=Ma&&(xa||Ca&&(null==Oa||Oa<12.11)),La=pa||ya&&ba>=9,Ra=function(t,n){var i=t.className,r=e(n).exec(i);if(r){var o=i.slice(r.index+r[0].length);t.className=i.slice(0,r.index)+(o?r[1]+o:"")}};Na=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var ja=function(e){e.select()};Ta?ja=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ya&&(ja=function(e){try{e.select()}catch(e){}});var Fa=function(){this.id=null};Fa.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ha,za,Ba=30,Wa={toString:function(){return"CodeMirror.Pass"}},Ua={scroll:!1},qa={origin:"*mouse"},Va={origin:"+move"},Ka=[""],Ga=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ya=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Xa=!1,Qa=!1,Ja=null,Za=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(n,i){var c="ltr"==i?"L":"R";if(0==n.length||"ltr"==i&&!r.test(n))return!1;for(var u=n.length,d=[],f=0;f<u;++f)d.push(e(n.charCodeAt(f)));for(var h=0,p=c;h<u;++h){var m=d[h];"m"==m?d[h]=p:p=m}for(var v=0,y=c;v<u;++v){var b=d[v];"1"==b&&"r"==y?d[v]="n":a.test(b)&&(y=b,"r"==b&&(d[v]="R"))}for(var w=1,x=d[0];w<u-1;++w){var k=d[w];"+"==k&&"1"==x&&"1"==d[w+1]?d[w]="1":","!=k||x!=d[w+1]||"1"!=x&&"n"!=x||(d[w]=x),x=k}for(var C=0;C<u;++C){var $=d[C];if(","==$)d[C]="N";else if("%"==$){var S=void 0;for(S=C+1;S<u&&"%"==d[S];++S);for(var _=C&&"!"==d[C-1]||S<u&&"1"==d[S]?"1":"N",T=C;T<S;++T)d[T]=_;C=S-1}}for(var A=0,E=c;A<u;++A){var M=d[A];"L"==E&&"1"==M?d[A]="L":a.test(M)&&(E=M)}for(var D=0;D<u;++D)if(o.test(d[D])){var I=void 0;for(I=D+1;I<u&&o.test(d[I]);++I);for(var O="L"==(D?d[D-1]:c),N="L"==(I<u?d[I]:c),P=O==N?O?"L":"R":c,L=D;L<I;++L)d[L]=P;D=I-1}for(var R,j=[],F=0;F<u;)if(s.test(d[F])){var H=F;for(++F;F<u&&s.test(d[F]);++F);j.push(new t(0,H,F))}else{var z=F,B=j.length;for(++F;F<u&&"L"!=d[F];++F);for(var W=z;W<F;)if(l.test(d[W])){z<W&&j.splice(B,0,new t(1,z,W));var U=W;for(++W;W<F&&l.test(d[W]);++W);j.splice(B,0,new t(2,U,W)),z=W}else++W;z<F&&j.splice(B,0,new t(1,z,F))}return"ltr"==i&&(1==j[0].level&&(R=n.match(/^\s+/))&&(j[0].from=R[0].length,j.unshift(new t(0,0,R[0].length))),1==g(j).level&&(R=n.match(/\s+$/))&&(g(j).to-=R[0].length,j.push(new t(0,u-R[0].length,u)))),"rtl"==i?j.reverse():j}}(),es=[],ts=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||es).concat(n)}},ns=function(){if(ya&&ba<9)return!1;var e=i("div");return"draggable"in e||"dragDrop"in e}(),is=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},rs=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},os=function(){var e=i("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),as=null,ss={},ls={},cs={},us=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};us.prototype.eol=function(){return this.pos>=this.string.length},us.prototype.sol=function(){return this.pos==this.lineStart},us.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},us.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},us.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},us.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},us.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},us.prototype.skipToEnd=function(){this.pos=this.string.length},us.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},us.prototype.backUp=function(e){this.pos-=e},us.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=d(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},us.prototype.indentation=function(){return d(this.string,null,this.tabSize)-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},us.prototype.match=function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},us.prototype.current=function(){return this.string.slice(this.start,this.pos)},us.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},us.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},us.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ds=function(e,t){this.state=e,this.lookAhead=t},fs=function(e,t,n,i){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};fs.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},fs.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},fs.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},fs.fromSaved=function(e,t,n){return t instanceof ds?new fs(e,qe(e.mode,t.state),n,t.lookAhead):new fs(e,qe(e.mode,t),n)},fs.prototype.save=function(e){var t=!1!==e?qe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ds(t,this.maxLookAhead):t};var hs=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},ps=function(e,t,n){this.text=e,ie(this,t),this.height=n?n(this):1};ps.prototype.lineNo=function(){return D(this)},Me(ps);var gs,ms={},vs={},ys=null,bs=null,ws={left:0,right:0,top:0,bottom:0},xs=function(e,t,n){this.cm=n;var r=this.vert=i("div",[i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=i("div",[i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(o),ts(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ts(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ya&&ba<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};xs.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},xs.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},xs.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},xs.prototype.zeroWidthHack=function(){var e=Ma&&!Sa?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Fa,this.disableVert=new Fa},xs.prototype.enableZeroWidthBar=function(e,t,n){function i(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,i)}e.style.pointerEvents="auto",t.set(1e3,i)},xs.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var ks=function(){};ks.prototype.update=function(){return{bottom:0,right:0}},ks.prototype.setScrollLeft=function(){},ks.prototype.setScrollTop=function(){},ks.prototype.clear=function(){};var Cs={native:xs,null:ks},$s=0,Ss=function(e,t,n){var i=e.display;this.viewport=t,this.visible=Fn(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ht(e),this.force=n,this.dims=xn(e),this.events=[]};Ss.prototype.signal=function(e,t){Ee(e,t)&&this.events.push(arguments)},Ss.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)_e.apply(null,e.events[t])};var _s=0,Ts=null;ya?Ts=-.53:pa?Ts=15:ka?Ts=-.7:$a&&(Ts=-1/3);var As=function(e,t){this.ranges=e,this.primIndex=t};As.prototype.primary=function(){return this.ranges[this.primIndex]},As.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var i=t.ranges[n],r=e.ranges[n];if(!R(i.anchor,r.anchor)||!R(i.head,r.head))return!1}return!0},As.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Es(j(e.ranges[n].anchor),j(e.ranges[n].head));return new As(t,this.primIndex)},As.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},As.prototype.contains=function(e,t){var n=this;t||(t=e);for(var i=0;i<this.ranges.length;i++){var r=n.ranges[i];if(L(t,r.from())>=0&&L(e,r.to())<=0)return i}return-1};var Es=function(e,t){this.anchor=e,this.head=t};Es.prototype.from=function(){return H(this.anchor,this.head)},Es.prototype.to=function(){return F(this.anchor,this.head)},Es.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},zr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,i=e,r=e+t;i<r;++i){var o=n.lines[i];n.height-=o.height,at(o),wt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var i=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=i},iterN:function(e,t,n){for(var i=this,r=e+t;e<r;++e)if(n(i.lines[e]))return!0}},Br.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var i=0;i<this.children.length;++i){var r=n.children[i],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e),s=r.height;if(r.removeInner(e,a),n.height-=s-r.height,o==a&&(n.children.splice(i--,1),r.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof zr))){var l=[];this.collapse(l),this.children=[new zr(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var i=this;this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=i.children[r],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,l=s;l<o.lines.length;){var c=new zr(o.lines.slice(l,l+=25));o.height-=c.height,i.children.splice(++r,0,c),c.parent=i}o.lines=o.lines.slice(0,s),i.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Br(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=f(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Br(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=this,r=0;r<this.children.length;++r){var o=i.children[r],a=o.chunkSize();if(e<a){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var Ms=function(e,t,n){var i=this;if(n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);this.doc=e,this.node=t};Ms.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,i=this.line,r=D(i);if(null!=r&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(i.widgets=null);var a=Nt(this);M(i,Math.max(0,i.height-a)),t&&(hi(t,function(){Wr(t,i,-a),yi(t,r,"widget")}),wt(t,"lineWidgetCleared",t,this,r))}},Ms.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=Nt(this)-t;r&&(M(i,i.height+r),n&&hi(n,function(){n.curOp.forceUpdate=!0,Wr(n,i,r),wt(n,"lineWidgetChanged",n,e,D(i))}))},Me(Ms);var Ds=0,Is=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ds};Is.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&oi(t),Ee(this,"clear")){var i=this.find();i&&wt(this,"clear",i.from,i.to)}for(var r=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],l=G(s.markedSpans,e);t&&!e.collapsed?yi(t,D(s),"text"):t&&(null!=l.to&&(o=D(s)),null!=l.from&&(r=D(s))),s.markedSpans=Y(s.markedSpans,l),null==l.from&&e.collapsed&&!me(e.doc,s)&&t&&M(s,bn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=de(e.lines[c]),d=be(u);d>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&vi(t,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Cr(t.doc)),t&&wt(t,"markerCleared",t,this,r,o),n&&ai(t),this.parent&&this.parent.clear()}},Is.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var i,r,o=0;o<this.lines.length;++o){var a=n.lines[o],s=G(a.markedSpans,n);if(null!=s.from&&(i=P(t?a:D(a),s.from),-1==e))return i;if(null!=s.to&&(r=P(t?a:D(a),s.to),1==e))return r}return i&&{from:i,to:r}},Is.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,i=this.doc.cm;t&&i&&hi(i,function(){var r=t.line,o=D(t.line),a=Vt(i,o);if(a&&(Zt(a),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!me(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var l=Nt(n)-s;l&&M(r,r.height+l)}wt(i,"markerChanged",i,e)})},Is.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=f(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Is.prototype.detachLine=function(e){if(this.lines.splice(f(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Me(Is);var Os=function(e,t){var n=this;this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=n};Os.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();wt(this,"clear")}},Os.prototype.find=function(e,t){return this.primary.find(e,t)},Me(Os);var Ns=0,Ps=function(e,t,n,i,r){if(!(this instanceof Ps))return new Ps(e,t,n,i,r);null==n&&(n=0),Br.call(this,[new zr([new ps("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=P(n,0);this.sel=Hi(o),this.history=new er(null),this.id=++Ns,this.modeOption=t,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Yi(this,{from:o,to:o,text:e}),wr(this,Hi(o),Ua)};Ps.prototype=b(Br.prototype,{constructor:Ps,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=E(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:mi(function(e){var t=P(this.first,0),n=this.first+this.size-1;Mr(this,{from:t,to:P(n,T(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Gn(this.cm,0,0),wr(this,Hi(t),Ua)}),replaceRange:function(e,t,n,i){t=B(this,t),n=n?B(this,n):t,Lr(this,e,t,n,i)},getRange:function(e,t,n){var i=A(this,B(this,e),B(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(O(this,e))return T(this,e)},getLineNumber:function(e){return D(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=T(this,e)),de(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return B(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:mi(function(e,t,n){vr(this,B(this,"number"==typeof e?P(e,t||0):e),null,n)}),setSelection:mi(function(e,t,n){vr(this,B(this,e),B(this,t||e),n)}),extendSelection:mi(function(e,t,n){pr(this,B(this,e),t&&B(this,t),n)}),extendSelections:mi(function(e,t){gr(this,U(this,e),t)}),extendSelectionsBy:mi(function(e,t){gr(this,U(this,m(this.sel.ranges,e)),t)}),setSelections:mi(function(e,t,n){var i=this;if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new Es(B(i,e[o].anchor),B(i,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),wr(this,Fi(r,t),n)}}),addSelection:mi(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new Es(B(this,e),B(this,t||e))),wr(this,Fi(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this,i=this.sel.ranges,r=0;r<i.length;r++){var o=A(n,i[r].from(),i[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],i=this.sel.ranges,r=0;r<i.length;r++){var o=A(t,i[r].from(),i[r].to());!1!==e&&(o=o.join(e||t.lineSeparator())),n[r]=o}return n},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:mi(function(e,t,n){for(var i=this,r=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];r[a]={from:s.from(),to:s.to(),text:i.splitLines(e[a]),origin:n}}for(var l=t&&"end"!=t&&qi(this,r,t),c=r.length-1;c>=0;c--)Mr(i,r[c]);l?br(this,l):this.cm&&Kn(this.cm)}),undo:mi(function(){Ir(this,"undo")}),redo:mi(function(){Ir(this,"redo")}),undoSelection:mi(function(){Ir(this,"undo",!0)}),redoSelection:mi(function(){Ir(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new er(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fr(this.history.done),undone:fr(this.history.undone)}},setHistory:function(e){var t=this.history=new er(this.history.maxGeneration);t.done=fr(e.done.slice(0),null,!0),t.undone=fr(e.undone.slice(0),null,!0)},setGutterMarker:mi(function(e,t,n){return Hr(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&k(i)&&(e.gutterMarkers=null),!0})}),clearGutter:mi(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Hr(t,n,"gutter",function(){return n.gutterMarkers[e]=null,k(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!O(this,e))return null;if(t=e,!(e=T(this,e)))return null}else if(null==(t=D(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:mi(function(t,n,i){return Hr(this,t,"gutter"==n?"gutter":"class",function(t){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[r]){if(e(i).test(t[r]))return!1;t[r]+=" "+i}else t[r]=i;return!0})}),removeLineClass:mi(function(t,n,i){return Hr(this,t,"gutter"==n?"gutter":"class",function(t){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[r];if(!o)return!1;if(null==i)t[r]=null;else{var a=o.match(e(i));if(!a)return!1;var s=a.index+a[0].length;t[r]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:mi(function(e,t,n){return Ur(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return qr(this,B(this,e),B(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=B(this,e),qr(this,e,e,n,"bookmark")},findMarksAt:function(e){e=B(this,e);var t=[],n=T(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=B(this,e),t=B(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;if(o>e)return t=e,!0;e-=o,++n}),B(this,P(n,t))},indexFromPos:function(e){e=B(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ps(E(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new Ps(E(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Gr(i,Kr(this)),i},unlinkDoc:function(e){var t=this;if(e instanceof Ko&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=t.linked[n];if(i.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Yr(Kr(t));break}}if(e.history==this.history){var r=[e.id];Xi(e,function(e){return r.push(e.id)},!0),e.history=new er(null),e.history.done=fr(this.history.done,r),e.history.undone=fr(this.history.undone,r)}},iterLinkedDocs:function(e){Xi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):is(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:mi(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Zi(this.cm))})}),Ps.prototype.eachLine=Ps.prototype.iter;for(var Ls=0,Rs=!1,js={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fs=0;Fs<10;Fs++)js[Fs+48]=js[Fs+96]=String(Fs);for(var Hs=65;Hs<=90;Hs++)js[Hs]=String.fromCharCode(Hs);for(var zs=1;zs<=12;zs++)js[zs+111]=js[zs+63235]="F"+zs;var Bs={};Bs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Bs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Bs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Bs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Bs.default=Ma?Bs.macDefault:Bs.pcDefault;var Ws={selectAll:Ar,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ua)},killLine:function(e){return fo(e,function(t){if(t.empty()){var n=T(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:P(t.head.line+1,0)}:{from:t.head,to:P(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return fo(e,function(t){return{from:P(t.from().line,0),to:B(e.doc,P(t.to().line+1,0))}})},delLineLeft:function(e){return fo(e,function(e){return{from:P(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return fo(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return fo(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(P(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(P(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return vo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Va)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Va)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?bo(e,t.head):i},Va)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),a=d(e.getLine(o.line),o.ch,i);t.push(p(i-a%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return hi(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var r=t[i].head,o=T(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new P(r.line,r.ch-1)),r.ch>0)r=new P(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),P(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var a=T(e.doc,r.line-1).text;a&&(r=new P(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),P(r.line-1,a.length-1),r,"+transpose"))}n.push(new Es(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){return hi(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);Kn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Us=new Fa,qs=null,Vs=function(e,t,n){this.time=e,this.pos=t,this.button=n};Vs.prototype.compare=function(e,t,n){return this.time+400>e&&0==L(t,this.pos)&&n==this.button};var Ks,Gs,Ys={toString:function(){return"CodeMirror.Init"}},Xs={},Qs={};Ko.defaults=Xs,Ko.optionHandlers=Qs;var Js=[];Ko.defineInitHook=function(e){return Js.push(e)};var Zs=null,el=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Fa,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};el.prototype.init=function(e){function t(e){if(!Te(r,e)){if(r.somethingSelected())Xo({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=ea(r);Xo({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Ua),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=Zs.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var a=na(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Zs.text.join("\n");var l=document.activeElement;ja(s),setTimeout(function(){r.display.lineSpace.removeChild(a),l.focus(),l==o&&i.showPrimarySelection()},50)}}var n=this,i=this,r=i.cm,o=i.div=e.lineDiv;ta(o,r.options.spellcheck),ts(o,"paste",function(e){Te(r,e)||Jo(e,r)||ba<=11&&setTimeout(pi(r,function(){return n.updateFromDOM()}),20)}),ts(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),ts(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),ts(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),ts(o,"touchstart",function(){return i.forceCompositionEnd()}),ts(o,"input",function(){n.composing||n.readFromDOMSoon()}),ts(o,"copy",t),ts(o,"cut",t)},el.prototype.prepareSelection=function(){var e=An(this.cm,!1);return e.focus=this.cm.state.focused,e},el.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},el.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),r=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||r.line<t.display.viewFrom)return void e.removeAllRanges();var o=ca(t,e.anchorNode,e.anchorOffset),a=ca(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=L(H(o,a),i)||0!=L(F(o,a),r)){var s=t.display.view,l=i.line>=t.display.viewFrom&&oa(t,i)||{node:s[0].measure.map[2],offset:0},c=r.line<t.display.viewTo&&oa(t,r);if(!c){var u=s[s.length-1].measure,d=u.maps?u.maps[u.maps.length-1]:u.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(!l||!c)return void e.removeAllRanges();var f,h=e.rangeCount&&e.getRangeAt(0);try{f=Na(l.node,l.offset,c.offset,c.node)}catch(e){}f&&(!pa&&t.state.focused?(e.collapse(l.node,l.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),h&&null==e.anchorNode?e.addRange(h):pa&&this.startGracePeriod()),this.rememberSelection()}},el.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},el.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},el.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},el.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},el.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},el.prototype.blur=function(){this.div.blur()},el.prototype.getField=function(){return this.div},el.prototype.supportsTouch=function(){return!0},el.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():hi(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},el.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},el.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(Aa&&ka&&this.cm.options.gutters.length&&aa(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ca(t,e.anchorNode,e.anchorOffset),i=ca(t,e.focusNode,e.focusOffset);n&&i&&hi(t,function(){wr(t.doc,Hi(n,i),Ua),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}}},el.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(0==i.ch&&i.line>e.firstLine()&&(i=P(i.line-1,T(e.doc,i.line-1).length)),r.ch==T(e.doc,r.line).text.length&&r.line<e.lastLine()&&(r=P(r.line+1,0)),i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o,a,s;i.line==t.viewFrom||0==(o=_n(e,i.line))?(a=D(t.view[0].line),s=t.view[0].node):(a=D(t.view[o].line),s=t.view[o-1].node.nextSibling);var l,c,u=_n(e,r.line);if(u==t.view.length-1?(l=t.viewTo-1,c=t.lineDiv.lastChild):(l=D(t.view[u+1].line)-1,c=t.view[u+1].node.previousSibling),!s)return!1;for(var d=e.doc.splitLines(la(e,s,c,a,l)),f=A(e.doc,P(a,0),P(l,T(e.doc,l).text.length));d.length>1&&f.length>1;)if(g(d)==g(f))d.pop(),f.pop(),l--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),a++}for(var h=0,p=0,m=d[0],v=f[0],y=Math.min(m.length,v.length);h<y&&m.charCodeAt(h)==v.charCodeAt(h);)++h;for(var b=g(d),w=g(f),x=Math.min(b.length-(1==d.length?h:0),w.length-(1==f.length?h:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==d.length&&1==f.length&&a==i.line)for(;h&&h>i.ch&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)h--,p++;d[d.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var k=P(a,h),C=P(l,f.length?g(f).length-p:0);return d.length>1||d[0]||L(k,C)?(Lr(e.doc,d,k,C,"+input"),!0):void 0},el.prototype.ensurePolled=function(){this.forceCompositionEnd()},el.prototype.reset=function(){this.forceCompositionEnd()},el.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},el.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},el.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||hi(this.cm,function(){return vi(e.cm)})},el.prototype.setUneditable=function(e){e.contentEditable="false"},el.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||pi(this.cm,Qo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},el.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},el.prototype.onContextMenu=function(){},el.prototype.resetPosition=function(){},el.prototype.needsContentAttribute=!0;var tl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Fa,this.hasSelection=!1,this.composing=null};tl.prototype.init=function(e){function t(e){if(!Te(r,e)){if(r.somethingSelected())Xo({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=ea(r);Xo({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,Ua):(i.prevInput="",a.value=t.text.join("\n"),ja(a))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var n=this,i=this,r=this.cm,o=this.wrapper=na(),a=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Ta&&(a.style.width="0px"),ts(a,"input",function(){ya&&ba>=9&&n.hasSelection&&(n.hasSelection=null),i.poll()}),ts(a,"paste",function(e){Te(r,e)||Jo(e,r)||(r.state.pasteIncoming=!0,i.fastPoll())}),ts(a,"cut",t),ts(a,"copy",t),ts(e.scroller,"paste",function(t){Pt(e,t)||Te(r,t)||(r.state.pasteIncoming=!0,i.focus())}),ts(e.lineSpace,"selectstart",function(t){Pt(e,t)||De(t)}),ts(a,"compositionstart",function(){var e=r.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ts(a,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},tl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,i=An(e);if(e.options.moveInputWithCursor){var r=cn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+a.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+a.left-o.left))}return i},tl.prototype.showSelection=function(e){var t=this.cm,i=t.display;n(i.cursorDiv,e.cursors),n(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},tl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&ja(this.textarea),ya&&ba>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",ya&&ba>=9&&(this.hasSelection=null))}},tl.prototype.getField=function(){return this.textarea},tl.prototype.supportsTouch=function(){return!1},tl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Ea||a()!=this.textarea))try{this.textarea.focus()}catch(e){}},tl.prototype.blur=function(){this.textarea.blur()},tl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},tl.prototype.receivedFocus=function(){this.slowPoll()},tl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},tl.prototype.fastPoll=function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},tl.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||rs(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==i&&!t.somethingSelected())return!1;if(ya&&ba>=9&&this.hasSelection===r||Ma&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(i.length,r.length);a<s&&i.charCodeAt(a)==r.charCodeAt(a);)++a;return hi(t,function(){Qo(t,r.slice(a),i.length-a,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},tl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},tl.prototype.onKeyPress=function(){ya&&ba>=9&&(this.hasSelection=null),this.fastPoll()},tl.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=r.somethingSelected(),t="​"+(e?a.value:"");a.value="⇚",a.value=t,i.prevInput=e?"":"​",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=u,a.style.cssText=c,ya&&ba<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!ya||ya&&ba<9)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==i.prevInput?pi(r,Ar)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,a=i.textarea,s=Sn(r,e),l=o.scroller.scrollTop;if(s&&!Ca){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(s)&&pi(r,wr)(r.doc,Hi(s),Ua);var c=a.style.cssText,u=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var d=i.wrapper.getBoundingClientRect();a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(ya?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(wa&&(f=window.scrollY),o.input.focus(),wa&&window.scrollTo(null,f),o.input.reset(),r.somethingSelected()||(a.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),ya&&ba>=9&&t(),La){Ne(e);var h=function(){Se(window,"mouseup",h),setTimeout(n,20)};ts(window,"mouseup",h)}else setTimeout(n,50)}},tl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},tl.prototype.setUneditable=function(){},tl.prototype.needsContentAttribute=!1,function(e){function t(t,i,r,o){e.defaults[t]=i,r&&(n[t]=o?function(e,t,n){n!=Ys&&r(e,t,n)}:r)}var n=e.optionHandlers;e.defineOption=t,e.Init=Ys,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Vi(e)},!0),t("indentUnit",2,Vi,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Ki(e),tn(e),vi(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(P(i,o))}i++});for(var r=n.length-1;r>=0;r--)Lr(e.doc,t,n[r],P(n[r].line,n[r].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ys&&e.refresh()}),t("specialCharPlaceholder",ct,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Ea?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Ia),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Wo(e),Uo(e)},!0),t("keyMap","default",function(e,t,n){var i=uo(t),r=n!=Ys&&uo(n);r&&r.detach&&r.detach(e,i),i.attach&&i.attach(e,r||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Vo,!0),t("gutters",[],function(e){Pi(e.options),Uo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?kn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return ni(e)},!0),t("scrollbarStyle","native",function(e){ri(e),ni(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Pi(e.options),Uo(e)},!0),t("firstLineNumber",1,Uo,!0),t("lineNumberFormatter",function(e){return e},Uo,!0),t("showCursorWhenSelecting",!1,Tn,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Ln(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,qo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Tn,!0),t("singleCursorHeightPerLine",!0,Tn,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Ki,!0),t("addModeClass",!1,Ki,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Ki,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(Ko),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var i=this.options,r=i[e];i[e]==n&&"mode"!=e||(i[e]=n,t.hasOwnProperty(e)&&pi(this,t[e])(this,n,r),_e(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](uo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:gi(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,vi(this)}),removeOverlay:gi(function(e){for(var t=this,n=this.state.overlays,i=0;i<n.length;++i){var r=n[i].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return n.splice(i,1),t.state.modeGen++,void vi(t)}}),indentLine:gi(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),O(this.doc,e)&&Yo(this,e,t,n)}),indentSelection:gi(function(e){for(var t=this,n=this.doc.sel.ranges,i=-1,r=0;r<n.length;r++){var o=n[r];if(o.empty())o.head.line>i&&(Yo(t,o.head.line,e,!0),i=o.head.line,r==t.doc.sel.primIndex&&Kn(t));else{var a=o.from(),s=o.to(),l=Math.max(i,a.line);i=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var c=l;c<i;++c)Yo(t,c,e);var u=t.doc.sel.ranges;0==a.ch&&n.length==u.length&&u[r].from().ch>0&&mr(t.doc,r,new Es(a,u[r].to()),Ua)}}}),getTokenAt:function(e,t){return et(this,e,t)},getLineTokens:function(e,t){return et(this,P(e),t,!0)},getTokenTypeAt:function(e){e=B(this.doc,e);var t,n=Ye(this,T(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=i+r>>1;if((a?n[2*a-1]:0)>=o)r=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}i=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=this,r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&r.push(o[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var l=o[a[t][s]];l&&r.push(l)}else a.helperType&&o[a.helperType]?r.push(o[a.helperType]):o[a.name]&&r.push(o[a.name]);for(var c=0;c<o._global.length;c++){var u=o._global[c];u.pred(a,i)&&-1==f(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=z(n,null==e?n.first+n.size-1:e),Xe(this,e+1,t).state},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?B(this.doc,e):e?i.from():i.to(),cn(this,n,t||"page")},charCoords:function(e,t){return ln(this,B(this.doc,e),t||"page")},coordsChar:function(e,t){return e=sn(this,e,t||"page"),fn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=sn(this,{top:e,left:0},t||"page").top,I(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=T(this.doc,e)}else i=e;return an(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-ye(i):0)},defaultTextHeight:function(){return bn(this.display)},defaultCharWidth:function(){return wn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=cn(this,B(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)a=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==r?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?s=0:"middle"==r&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Un(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:gi(_o),triggerOnKeyPress:gi(Eo),triggerOnKeyUp:Ao,triggerOnMouseDown:gi(Do),execCommand:function(e){if(Ws.hasOwnProperty(e))return Ws[e].call(null,this)},triggerElectric:gi(function(e){Zo(this,e)}),findPosH:function(e,t,n,i){var r=this,o=1;t<0&&(o=-1,t=-t);for(var a=B(this.doc,e),s=0;s<t&&(a=ia(r.doc,a,o,n,i),!a.hitSide);++s);return a},moveH:gi(function(e,t){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?ia(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},Va)}),deleteH:gi(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):fo(this,function(n){var r=ia(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=this,o=1,a=i;t<0&&(o=-1,t=-t);for(var s=B(this.doc,e),l=0;l<t;++l){var c=cn(r,s,"div");if(null==a?a=c.left:c.left=a,s=ra(r,c,o,n),s.hitSide)break}return s},moveV:gi(function(e,t){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=cn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),r.push(s.left);var l=ra(n,s,e,t);return"page"==t&&a==i.sel.primary()&&Vn(n,ln(n,l,"div").top-s.top),l},Va),r.length)for(var a=0;a<i.sel.ranges.length;a++)i.sel.ranges[a].goalColumn=r[a]}),findWordAt:function(e){var t=this.doc,n=T(t,e.line).text,i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=n.length||!i?++r:--i;for(var a=n.charAt(i),s=x(a,o)?function(e){return x(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};i>0&&s(n.charAt(i-1));)--i;for(;r<n.length&&s(n.charAt(r));)++r}return new Es(P(e.line,i),P(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Ra(this.display.cursorDiv,"CodeMirror-overwrite"),_e(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:gi(function(e,t){Gn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ft(this)-this.display.barHeight,width:e.scrollWidth-Ft(this)-this.display.barWidth,clientHeight:zt(this),clientWidth:Ht(this)}},scrollIntoView:gi(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:P(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Yn(this,e):Qn(this,e.from,e.to,e.margin)}),setSize:gi(function(e,t){var n=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&en(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){yi(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,_e(this,"refresh",this)}),operation:function(e){return hi(this,e)},startOperation:function(){return oi(this)},endOperation:function(){return ai(this)},refresh:gi(function(){var e=this.display.cachedTextHeight;vi(this),this.curOp.forceUpdate=!0,tn(this),Gn(this,this.doc.scrollLeft,this.doc.scrollTop),Ii(this),(null==e||Math.abs(e-bn(this.display))>.5)&&$n(this),_e(this,"refresh",this)}),swapDoc:gi(function(e){var t=this.doc;return t.cm=null,Qi(this,e),tn(this),this.display.input.reset(),Gn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Me(e),e.registerHelper=function(t,i,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][i]=r},e.registerGlobalHelper=function(t,i,r,o){e.registerHelper(t,i,o),n[t]._global.push({pred:r,val:o})}}(Ko);var nl="iter insert remove copy getEditor constructor".split(" ");for(var il in Ps.prototype)Ps.prototype.hasOwnProperty(il)&&f(nl,il)<0&&(Ko.prototype[il]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ps.prototype[il]));return Me(Ps),Ko.inputStyles={textarea:tl,contenteditable:el},Ko.defineMode=function(e){Ko.defaults.mode||"null"==e||(Ko.defaults.mode=e),He.apply(this,arguments)},Ko.defineMIME=ze,Ko.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ko.defineMIME("text/plain","null"),Ko.defineExtension=function(e,t){Ko.prototype[e]=t},Ko.defineDocExtension=function(e,t){Ps.prototype[e]=t},Ko.fromTextArea=da,function(e){e.off=Se,e.on=ts,e.wheelEventPixels=Ri,e.Doc=Ps,e.splitLines=is,e.countColumn=d,e.findColumn=h,e.isWordChar=w,e.Pass=Wa,e.signal=_e,e.Line=ps,e.changeEnd=zi,e.scrollbarModel=Cs,e.Pos=P,e.cmpPos=L,e.modes=ss,e.mimeModes=ls,e.resolveMode=Be,e.getMode=We,e.modeExtensions=cs,e.extendMode=Ue,e.copyState=qe,e.startState=Ke,e.innerMode=Ve,e.commands=Ws,e.keyMap=Bs,e.keyName=co,e.isModifierKey=so,e.lookupKey=ao,e.normalizeKeyMap=oo,e.StringStream=us,e.SharedTextMarker=Os,e.TextMarker=Is,e.LineWidget=Ms,e.e_preventDefault=De,e.e_stopPropagation=Ie,e.e_stop=Ne,e.addClass=s,e.contains=o,e.rmClass=Ra,e.keyNames=js}(Ko),Ko.version="5.32.0",Ko}()}()},function(e,t,n){var i=n(53),r=n(24);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(54),r=n(32),o=n(16),a=n(23),s=n(11),l=n(103),c=Object.getOwnPropertyDescriptor;t.f=n(6)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(11),r=n(9),o=n(74)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var i=n(10);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var i=n(3);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(4);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(0),r=n(22),o=n(3);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var i=n(19),r=n(53),o=n(9),a=n(8),s=n(91);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d,h=t||s;return function(t,s,p){for(var g,m,v=o(t),y=r(v),b=i(s,p,3),w=a(y.length),x=0,k=n?h(t,w):l?h(t,0):void 0;w>x;x++)if((f||x in y)&&(g=y[x],m=b(g,x,v),e))if(n)k[x]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:k.push(g)}else if(u)return!1;return d?-1:c||u?u:k}}},function(e,t,n){"use strict";if(n(6)){var i=n(34),r=n(2),o=n(3),a=n(0),s=n(67),l=n(97),c=n(19),u=n(40),d=n(32),f=n(12),h=n(42),p=n(25),g=n(8),m=n(129),v=n(36),y=n(23),b=n(11),w=n(55),x=n(4),k=n(9),C=n(88),$=n(37),S=n(18),_=n(38).f,T=n(90),A=n(33),E=n(5),M=n(27),D=n(58),I=n(65),O=n(93),N=n(48),P=n(62),L=n(39),R=n(92),j=n(119),F=n(7),H=n(17),z=F.f,B=H.f,W=r.RangeError,U=r.TypeError,q=r.Uint8Array,V=Array.prototype,K=l.ArrayBuffer,G=l.DataView,Y=M(0),X=M(2),Q=M(3),J=M(4),Z=M(5),ee=M(6),te=D(!0),ne=D(!1),ie=O.values,re=O.keys,oe=O.entries,ae=V.lastIndexOf,se=V.reduce,le=V.reduceRight,ce=V.join,ue=V.sort,de=V.slice,fe=V.toString,he=V.toLocaleString,pe=E("iterator"),ge=E("toStringTag"),me=A("typed_constructor"),ve=A("def_constructor"),ye=s.CONSTR,be=s.TYPED,we=s.VIEW,xe=M(1,function(e,t){return _e(I(e,e[ve]),t)}),ke=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ce=!!q&&!!q.prototype.set&&o(function(){new q(1).set({})}),$e=function(e,t){var n=p(e);if(n<0||n%t)throw W("Wrong offset!");return n},Se=function(e){if(x(e)&&be in e)return e;throw U(e+" is not a typed array!")},_e=function(e,t){if(!(x(e)&&me in e))throw U("It is not a typed array constructor!");return new e(t)},Te=function(e,t){return Ae(I(e,e[ve]),t)},Ae=function(e,t){for(var n=0,i=t.length,r=_e(e,i);i>n;)r[n]=t[n++];return r},Ee=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},Me=function(e){var t,n,i,r,o,a,s=k(e),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,f=T(s);if(void 0!=f&&!C(f)){for(a=f.call(s),i=[],t=0;!(o=a.next()).done;t++)i.push(o.value);s=i}for(d&&l>2&&(u=c(u,arguments[2],2)),t=0,n=g(s.length),r=_e(this,n);n>t;t++)r[t]=d?u(s[t],t):s[t];return r},De=function(){for(var e=0,t=arguments.length,n=_e(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!q&&o(function(){he.call(new q(1))}),Oe=function(){return he.apply(Ie?de.call(Se(this)):Se(this),arguments)},Ne={copyWithin:function(e,t){return j.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return J(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return R.apply(Se(this),arguments)},filter:function(e){return Te(this,X(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Y(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Se(this),arguments)},lastIndexOf:function(e){return ae.apply(Se(this),arguments)},map:function(e){return xe(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Se(this),arguments)},reduceRight:function(e){return le.apply(Se(this),arguments)},reverse:function(){for(var e,t=this,n=Se(t).length,i=Math.floor(n/2),r=0;r<i;)e=t[r],t[r++]=t[--n],t[n]=e;return t},some:function(e){return Q(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ue.call(Se(this),e)},subarray:function(e,t){var n=Se(this),i=n.length,r=v(e,i);return new(I(n,n[ve]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===t?i:v(t,i))-r))}},Pe=function(e,t){return Te(this,de.call(Se(this),e,t))},Le=function(e){Se(this);var t=$e(arguments[1],1),n=this.length,i=k(e),r=g(i.length),o=0;if(r+t>n)throw W("Wrong length!");for(;o<r;)this[t+o]=i[o++]},Re={entries:function(){return oe.call(Se(this))},keys:function(){return re.call(Se(this))},values:function(){return ie.call(Se(this))}},je=function(e,t){return x(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Fe=function(e,t){return je(e,t=y(t,!0))?d(2,e[t]):B(e,t)},He=function(e,t,n){return!(je(e,t=y(t,!0))&&x(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};ye||(H.f=Fe,F.f=He),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Fe,defineProperty:He}),o(function(){fe.call({})})&&(fe=he=function(){return ce.call(this)});var ze=h({},Ne);h(ze,Re),f(ze,pe,Re.values),h(ze,{slice:Pe,set:Le,constructor:function(){},toString:fe,toLocaleString:Oe}),Ee(ze,"buffer","b"),Ee(ze,"byteOffset","o"),Ee(ze,"byteLength","l"),Ee(ze,"length","e"),z(ze,ge,{get:function(){return this[be]}}),e.exports=function(e,t,n,l){l=!!l;var c=e+(l?"Clamped":"")+"Array",d="get"+e,h="set"+e,p=r[c],v=p||{},y=p&&S(p),b=!p||!s.ABV,k={},C=p&&p.prototype,T=function(e,n){var i=e._d;return i.v[d](n*t+i.o,ke)},A=function(e,n,i){var r=e._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[h](n*t+r.o,i,ke)},E=function(e,t){z(e,t,{get:function(){return T(this,t)},set:function(e){return A(this,t,e)},enumerable:!0})};b?(p=n(function(e,n,i,r){u(e,p,c,"_d");var o,a,s,l,d=0,h=0;if(x(n)){if(!(n instanceof K||"ArrayBuffer"==(l=w(n))||"SharedArrayBuffer"==l))return be in n?Ae(p,n):Me.call(p,n);o=n,h=$e(i,t);var v=n.byteLength;if(void 0===r){if(v%t)throw W("Wrong length!");if((a=v-h)<0)throw W("Wrong length!")}else if((a=g(r)*t)+h>v)throw W("Wrong length!");s=a/t}else s=m(n),a=s*t,o=new K(a);for(f(e,"_d",{b:o,o:h,l:a,e:s,v:new G(o)});d<s;)E(e,d++)}),C=p.prototype=$(ze),f(C,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&P(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=n(function(e,n,i,r){u(e,p,c);var o;return x(n)?n instanceof K||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==r?new v(n,$e(i,t),r):void 0!==i?new v(n,$e(i,t)):new v(n):be in n?Ae(p,n):Me.call(p,n):new v(m(n))}),Y(y!==Function.prototype?_(v).concat(_(y)):_(v),function(e){e in p||f(p,e,v[e])}),p.prototype=C,i||(C.constructor=p));var M=C[pe],D=!!M&&("values"==M.name||void 0==M.name),I=Re.values;f(p,me,!0),f(C,be,c),f(C,we,!0),f(C,ve,p),(l?new p(1)[ge]==c:ge in C)||z(C,ge,{get:function(){return c}}),k[c]=p,a(a.G+a.W+a.F*(p!=v),k),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){v.of.call(p,1)}),c,{from:Me,of:De}),"BYTES_PER_ELEMENT"in C||f(C,"BYTES_PER_ELEMENT",t),a(a.P,c,Ne),L(c),a(a.P+a.F*Ce,c,{set:Le}),a(a.P+a.F*!D,c,Re),i||C.toString==fe||(C.toString=fe),a(a.P+a.F*o(function(){new p(1).slice()}),c,{slice:Pe}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){C.toLocaleString.call([1,2])})),c,{toLocaleString:Oe}),N[c]=D?M:I,i||D||f(C,pe,I)}}else e.exports=function(){}},function(e,t,n){var i=n(124),r=n(0),o=n(57)("metadata"),a=o.store||(o.store=new(n(127))),s=function(e,t,n){var r=a.get(e);if(!r){if(!n)return;a.set(e,r=new i)}var o=r.get(t);if(!o){if(!n)return;r.set(t,o=new i)}return o},l=function(e,t,n){var i=s(t,n,!1);return void 0!==i&&i.has(e)},c=function(e,t,n){var i=s(t,n,!1);return void 0===i?void 0:i.get(e)},u=function(e,t,n,i){s(n,i,!0).set(e,t)},d=function(e,t){var n=s(e,t,!1),i=[];return n&&n.forEach(function(e,t){i.push(t)}),i},f=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},h=function(e){r(r.S,"Reflect",e)};e.exports={store:a,map:s,has:l,get:c,set:u,keys:d,key:f,exp:h}},function(e,t,n){var i=n(33)("meta"),r=n(4),o=n(11),a=n(7).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(3)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},f=function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},h=function(e){return c&&p.NEED&&l(e)&&!o(e,i)&&u(e),e},p=e.exports={KEY:i,NEED:!1,fastKey:d,getWeak:f,onFreeze:h}},function(e,t,n){var i=n(5)("unscopables"),r=Array.prototype;void 0==r[i]&&n(12)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var i=n(105),r=n(75);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(25),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(1),r=n(106),o=n(75),a=n(74)("IE_PROTO"),s=function(){},l=function(){var e,t=n(72)("iframe"),i=o.length;for(t.style.display="none",n(76).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(105),r=n(75).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){"use strict";var i=n(2),r=n(7),o=n(6),a=n(5)("species");e.exports=function(e){var t=i[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(19),r=n(117),o=n(88),a=n(1),s=n(8),l=n(90),c={},u={},t=e.exports=function(e,t,n,d,f){var h,p,g,m,v=f?function(){return e}:l(e),y=i(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(h=s(e.length);h>b;b++)if((m=t?y(a(p=e[b])[0],p[1]):y(e[b]))===c||m===u)return m}else for(g=v.call(e);!(p=g.next()).done;)if((m=r(g,y,p.value,t))===c||m===u)return m};t.BREAK=c,t.RETURN=u},function(e,t,n){var i=n(13);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i,r;/*!
 * jQuery JavaScript Library v1.11.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:02Z
 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){function a(e){var t=e.length,n=le.type(e);return"function"!==n&&!le.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,n){if(le.isFunction(t))return le.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return le.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return le.filter(t,e,n);t=le.filter(t,e)}return le.grep(e,function(e){return le.inArray(e,t)>=0!==n})}function l(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function c(e){var t=Ce[e]={};return le.each(e.match(ke)||[],function(e,n){t[n]=!0}),t}function u(){ye.addEventListener?(ye.removeEventListener("DOMContentLoaded",d,!1),n.removeEventListener("load",d,!1)):(ye.detachEvent("onreadystatechange",d),n.detachEvent("onload",d))}function d(){(ye.addEventListener||"load"===event.type||"complete"===ye.readyState)&&(u(),le.ready())}function f(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Ae,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?le.parseJSON(n):n)}catch(e){}le.data(e,t,n)}else n=void 0}return n}function h(e){var t;for(t in e)if(("data"!==t||!le.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function p(e,t,n,i){if(le.acceptData(e)){var r,o,a=le.expando,s=e.nodeType,l=s?le.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[a]=J.pop()||le.guid++:a),l[c]||(l[c]=s?{}:{toJSON:le.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[c]=le.extend(l[c],t):l[c].data=le.extend(l[c].data,t)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[le.camelCase(t)]=n),"string"==typeof t?null==(r=o[t])&&(r=o[le.camelCase(t)]):r=o,r}}function g(e,t,n){if(le.acceptData(e)){var i,r,o=e.nodeType,a=o?le.cache:e,s=o?e[le.expando]:le.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){le.isArray(t)?t=t.concat(le.map(t,le.camelCase)):t in i?t=[t]:(t=le.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!h(i):!le.isEmptyObject(i))return}(n||(delete a[s].data,h(a[s])))&&(o?le.cleanData([e],!0):se.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function m(){return!0}function v(){return!1}function y(){try{return ye.activeElement}catch(e){}}function b(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function w(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==_e?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==_e?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||le.nodeName(i,t)?o.push(i):le.merge(o,w(i,t));return void 0===t||t&&le.nodeName(e,t)?le.merge([e],o):o}function x(e){Oe.test(e.type)&&(e.defaultChecked=e.checked)}function k(e,t){return le.nodeName(e,"table")&&le.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==le.find.attr(e,"type"))+"/"+e.type,e}function $(e){var t=Xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){for(var n,i=0;null!=(n=e[i]);i++)le._data(n,"globalEval",!t||le._data(t[i],"globalEval"))}function _(e,t){if(1===t.nodeType&&le.hasData(e)){var n,i,r,o=le._data(e),a=le._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;i<r;i++)le.event.add(t,n,s[n][i])}a.data&&(a.data=le.extend({},a.data))}}function T(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!se.noCloneEvent&&t[le.expando]){r=le._data(t);for(i in r.events)le.removeEvent(t,i,r.handle);t.removeAttribute(le.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,$(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),se.html5Clone&&e.innerHTML&&!le.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Oe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function A(e,t){var i=le(t.createElement(e)).appendTo(t.body),r=n.getDefaultComputedStyle?n.getDefaultComputedStyle(i[0]).display:le.css(i[0],"display");return i.detach(),r}function E(e){var t=ye,n=nt[e];return n||(n=A(e,t),"none"!==n&&n||(tt=(tt||le("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(tt[0].contentWindow||tt[0].contentDocument).document,t.write(),t.close(),n=A(e,t),tt.detach()),nt[e]=n),n}function M(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=gt.length;r--;)if((t=gt[r]+n)in e)return t;return i}function I(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)i=e[a],i.style&&(o[a]=le._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&De(i)&&(o[a]=le._data(i,"olddisplay",E(i.nodeName)))):o[a]||(r=De(i),(n&&"none"!==n||!r)&&le._data(i,"olddisplay",r?n:le.css(i,"display"))));for(a=0;a<s;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function O(e,t,n){var i=dt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function N(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=le.css(e,n+Me[o],!0,r)),i?("content"===n&&(a-=le.css(e,"padding"+Me[o],!0,r)),"margin"!==n&&(a-=le.css(e,"border"+Me[o]+"Width",!0,r))):(a+=le.css(e,"padding"+Me[o],!0,r),"padding"!==n&&(a+=le.css(e,"border"+Me[o]+"Width",!0,r)));return a}function P(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=it(e),a=se.boxSizing()&&"border-box"===le.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(r=rt(e,t,o),(r<0||null==r)&&(r=e.style[t]),at.test(r))return r;i=a&&(se.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+N(e,t,n||(a?"border":"content"),i,o)+"px"}function L(e,t,n,i,r){return new L.prototype.init(e,t,n,i,r)}function R(){return setTimeout(function(){mt=void 0}),mt=le.now()}function j(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n=Me[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function F(e,t,n){for(var i,r=(kt[t]||[]).concat(kt["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function H(e,t,n){var i,r,o,a,s,l,c,u,d=this,f={},h=e.style,p=e.nodeType&&De(e),g=le._data(e,"fxshow");n.queue||(s=le._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,le.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=le.css(e,"display"),u=E(e.nodeName),"none"===c&&(c=u),"inline"===c&&"none"===le.css(e,"float")&&(se.inlineBlockNeedsLayout&&"inline"!==u?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",se.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],yt.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}f[i]=g&&g[i]||le.style(e,i)}if(!le.isEmptyObject(f)){g?"hidden"in g&&(p=g.hidden):g=le._data(e,"fxshow",{}),o&&(g.hidden=!p),p?le(e).show():d.done(function(){le(e).hide()}),d.done(function(){var t;le._removeData(e,"fxshow");for(t in f)le.style(e,t,f[t])});for(i in f)a=F(p?g[i]:0,i,d),i in g||(g[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function z(e,t){var n,i,r,o,a;for(n in e)if(i=le.camelCase(n),r=t[i],o=e[n],le.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=le.cssHooks[i])&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function B(e,t,n){var i,r,o=0,a=xt.length,s=le.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=mt||R(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),o<1&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:le.extend({},t),opts:le.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var i=le.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(z(u,c.opts.specialEasing);o<a;o++)if(i=xt[o].call(c,e,u,c.opts))return i;return le.map(u,F,c),le.isFunction(c.opts.start)&&c.opts.start.call(e,c),le.fx.timer(le.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ke)||[];if(le.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function U(e,t,n,i){function r(s){var l;return o[s]=!0,le.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===Vt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function q(e,t){var n,i,r=le.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&le.extend(!0,e,n),e}function V(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function K(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function G(e,t,n,i){var r;if(le.isArray(t))le.each(t,function(t,r){n||Yt.test(e)?i(e,r):G(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==le.type(t))i(e,t);else for(r in t)G(e+"["+r+"]",t[r],n,i)}function Y(){try{return new n.XMLHttpRequest}catch(e){}}function X(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Q(e){return le.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var J=[],Z=J.slice,ee=J.concat,te=J.push,ne=J.indexOf,ie={},re=ie.toString,oe=ie.hasOwnProperty,ae="".trim,se={},le=function(e,t){return new le.fn.init(e,t)},ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ue=/^-ms-/,de=/-([\da-z])/gi,fe=function(e,t){return t.toUpperCase()};le.fn=le.prototype={jquery:"1.11.0",constructor:le,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:Z.call(this)},pushStack:function(e){var t=le.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return le.each(this,e,t)},map:function(e){return this.pushStack(le.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:te,sort:J.sort,splice:J.splice},le.extend=le.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||le.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],n=r[i],a!==n&&(c&&n&&(le.isPlainObject(n)||(t=le.isArray(n)))?(t?(t=!1,o=e&&le.isArray(e)?e:[]):o=e&&le.isPlainObject(e)?e:{},a[i]=le.extend(c,o,n)):void 0!==n&&(a[i]=n));return a},le.extend({expando:"jQuery"+("1.11.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===le.type(e)},isArray:Array.isArray||function(e){return"array"===le.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==le.type(e)||e.nodeType||le.isWindow(e))return!1;try{if(e.constructor&&!oe.call(e,"constructor")&&!oe.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(se.ownLast)for(t in e)return oe.call(e,t);for(t in e);return void 0===t||oe.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ie[re.call(e)]||"object":typeof e},globalEval:function(e){e&&le.trim(e)&&(n.execScript||function(e){n.eval.call(n,e)})(e)},camelCase:function(e){return e.replace(ue,"ms-").replace(de,fe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,o=a(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:ae&&!ae.call("\ufeff ")?function(e){return null==e?"":ae.call(e)}:function(e){return null==e?"":(e+"").replace(ce,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?le.merge(n,"string"==typeof e?[e]:e):te.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(ne)return ne.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,o=e.length,s=a(e),l=[];if(s)for(;r<o;r++)null!=(i=t(e[r],r,n))&&l.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&l.push(i);return ee.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(r=e[t],t=e,e=r),le.isFunction(e))return n=Z.call(arguments,2),i=function(){return e.apply(t||this,n.concat(Z.call(arguments)))},i.guid=e.guid=e.guid||le.guid++,i},now:function(){return+new Date},support:se}),le.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ie["[object "+t+"]"]=t.toLowerCase()});var he=/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */
function(e){function t(e,t,n,i){var r,o,a,s,c,f,h,p,g,m;if((t?t.ownerDocument||t:j)!==M&&E(t),t=t||M,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(I&&!i){if(r=me.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&L(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!O||!O.test(e))){if(p=h=R,g=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(f=u(e),(h=t.getAttribute("id"))?p=h.replace(ye,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",c=f.length;c--;)f[c]=p+d(f[c]);g=ve.test(e)&&l(t.parentNode)||t,m=f.join(",")}if(m)try{return Q.apply(n,g.querySelectorAll(m)),n}catch(e){}finally{h||t.removeAttribute("id")}}}return b(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[R]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function l(e){return e&&typeof e.getElementsByTagName!==q&&e}function c(){}function u(e,n){var i,r,o,a,s,l,c,u=B[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=k.preFilter;s;){i&&!(r=se.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=le.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ae," ")}),s=s.slice(i.length));for(a in k.filter)!(r=fe[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):B(e,l).slice(0)}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=H++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[F,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[R]||(t[R]={}),(s=l[i])&&s[0]===F&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function p(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function g(e,t,n,r,o,a){return r&&!r[R]&&(r=g(r)),o&&!o[R]&&(o=g(o,a)),i(function(i,a,s,l){var c,u,d,f=[],h=[],g=a.length,m=i||y(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?m:p(m,f,e,s,l),b=n?o||(i?e:g||r)?[]:a:v;if(n&&n(v,b,s,l),r)for(c=p(b,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[h[u]]=!(v[h[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(v[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?Z.call(i,d):f[u])>-1&&(i[c]=!(a[c]=d))}}else b=p(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function m(e){for(var t,n,i,r=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return Z.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==_)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];s<r;s++)if(n=k.relative[e[s].type])u=[f(h(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[R]){for(i=++s;i<r&&!k.relative[e[i].type];i++);return g(s>1&&h(u),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<i&&m(e.slice(s,i)),i<r&&m(e=e.slice(i)),i<r&&d(e))}u.push(n)}return h(u)}function v(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var u,d,f,h=0,g="0",m=i&&[],v=[],y=_,b=i||o&&k.find.TAG("*",c),w=F+=null==y?1:Math.random()||.1,x=b.length;for(c&&(_=a!==M&&a);g!==x&&null!=(u=b[g]);g++){if(o&&u){for(d=0;f=e[d++];)if(f(u,a,s)){l.push(u);break}c&&(F=w)}r&&((u=!f&&u)&&h--,i&&m.push(u))}if(h+=g,r&&g!==h){for(d=0;f=n[d++];)f(m,v,a,s);if(i){if(h>0)for(;g--;)m[g]||v[g]||(v[g]=Y.call(l));v=p(v)}Q.apply(l,v),c&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(F=w,_=y),m};return r?i(a):a}function y(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function b(e,t,n,i){var r,o,a,s,c,f=u(e);if(!i&&1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&I&&k.relative[o[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(be,we),t)||[])[0]))return n;e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!k.relative[s=a.type]);)if((c=k.find[s])&&(i=c(a.matches[0].replace(be,we),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&d(o)))return Q.apply(n,i),n;break}}return S(e,f)(i,t,!I,n,ve.test(e)&&l(t.parentNode)||t),n}var w,x,k,C,$,S,_,T,A,E,M,D,I,O,N,P,L,R="sizzle"+-new Date,j=e.document,F=0,H=0,z=n(),B=n(),W=n(),U=function(e,t){return e===t&&(A=!0),0},q="undefined",V=1<<31,K={}.hasOwnProperty,G=[],Y=G.pop,X=G.push,Q=G.push,J=G.slice,Z=G.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=ne.replace("w","w#"),re="\\["+te+"*("+ne+")"+te+"*(?:([*^$|!~]?=)"+te+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ie+")|)|)"+te+"*\\]",oe=":("+ne+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+re.replace(3,8)+")*)|.*)\\)|)",ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),se=new RegExp("^"+te+"*,"+te+"*"),le=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ce=new RegExp("="+te+"*([^\\]'\"]*?)"+te+"*\\]","g"),ue=new RegExp(oe),de=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Q.apply(G=J.call(j.childNodes),j.childNodes),G[j.childNodes.length].nodeType}catch(e){Q={apply:G.length?function(e,t){X.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},$=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},E=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:j,i=n.defaultView;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,D=n.documentElement,I=!$(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){E()},!1):i.attachEvent&&i.attachEvent("onunload",function(){E()})),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=r(function(e){return D.appendChild(e).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),x.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==q&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n=typeof e.getAttributeNode!==q&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=x.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==q)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=x.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==q&&I)return t.getElementsByClassName(e)},N=[],O=[],(x.qsa=ge.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&O.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+te+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=ge.test(P=D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(e){x.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),N.push("!=",oe)}),O=O.length&&new RegExp(O.join("|")),N=N.length&&new RegExp(N.join("|")),t=ge.test(D.compareDocumentPosition),L=t||ge.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===j&&L(j,e)?-1:t===n||t.ownerDocument===j&&L(j,t)?1:T?Z.call(T,e)-Z.call(T,t):0:4&i?-1:1)}:function(e,t){if(e===t)return A=!0,0;var i,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:T?Z.call(T,e)-Z.call(T,t):0;if(o===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===j?-1:c[r]===j?1:0},n):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&E(e),n=n.replace(ce,"='$1']"),x.matchesSelector&&I&&(!N||!N.test(n))&&(!O||!O.test(n)))try{var i=P.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&E(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&E(e);var n=k.attrHandle[t.toLowerCase()],i=n&&K.call(k.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:x.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!x.detectDuplicates,T=!x.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return T=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},k=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ue.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==q&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(u=m[R]||(m[R]={}),c=u[e]||[],h=c[0]===F&&c[1],f=c[0]===F&&c[2],d=h&&m.childNodes[h];d=++h&&d&&d[g]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[F,h,f];break}}else if(y&&(c=(t[R]||(t[R]={}))[e])&&c[0]===F)f=c[1];else for(;(d=++h&&d&&d[g]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[R]||(d[R]={}))[e]=[F,f]),d!==t)););return(f-=r)===i||f%i==0&&f/i>=0}}},PSEUDO:function(e,n){var r,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(n):o.length>1?(r=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=Z.call(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(ae,"$1"));return r[R]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:s(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(w);return c.prototype=k.filters=k.pseudos,k.setFilters=new c,S=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=u(e)),n=t.length;n--;)o=m(t[n]),o[R]?i.push(o):r.push(o);o=W(e,v(r,i))}return o},x.sortStable=R.split("").sort(U).join("")===R,x.detectDuplicates=!!A,E(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ee,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(n);le.find=he,le.expr=he.selectors,le.expr[":"]=le.expr.pseudos,le.unique=he.uniqueSort,le.text=he.getText,le.isXMLDoc=he.isXML,le.contains=he.contains;var pe=le.expr.match.needsContext,ge=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;le.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?le.find.matchesSelector(i,e)?[i]:[]:le.find.matches(e,le.grep(t,function(e){return 1===e.nodeType}))},le.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(le(e).filter(function(){for(t=0;t<r;t++)if(le.contains(i[t],this))return!0}));for(t=0;t<r;t++)le.find(e,i[t],n);return n=this.pushStack(r>1?le.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&pe.test(e)?le(e):e||[],!1).length}});var ve,ye=n.document,be=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(le.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:be.exec(e))||!n[1]&&t)return!t||t.jquery?(t||ve).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof le?t[0]:t,le.merge(this,le.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ye,!0)),ge.test(n[1])&&le.isPlainObject(t))for(n in t)le.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((i=ye.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return ve.find(e);this.length=1,this[0]=i}return this.context=ye,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):le.isFunction(e)?void 0!==ve.ready?ve.ready(e):e(le):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),le.makeArray(e,this))}).prototype=le.fn,ve=le(ye);var we=/^(?:parents|prev(?:Until|All))/,xe={children:!0,contents:!0,next:!0,prev:!0};le.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!le(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),le.fn.extend({has:function(e){var t,n=le(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(le.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=pe.test(e)||"string"!=typeof e?le(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&le.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?le.unique(o):o)},index:function(e){return e?"string"==typeof e?le.inArray(this[0],le(e)):le.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(le.unique(le.merge(this.get(),le(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),le.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return le.dir(e,"parentNode")},parentsUntil:function(e,t,n){return le.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return le.dir(e,"nextSibling")},prevAll:function(e){return le.dir(e,"previousSibling")},nextUntil:function(e,t,n){return le.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return le.dir(e,"previousSibling",n)},siblings:function(e){return le.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return le.sibling(e.firstChild)},contents:function(e){return le.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:le.merge([],e.childNodes)}},function(e,t){le.fn[e]=function(n,i){var r=le.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=le.filter(i,r)),this.length>1&&(xe[e]||(r=le.unique(r)),we.test(e)&&(r=r.reverse())),this.pushStack(r)}});var ke=/\S+/g,Ce={};le.Callbacks=function(e){e="string"==typeof e?Ce[e]||c(e):le.extend({},e);var t,n,i,r,o,a,s=[],l=!e.once&&[],u=function(c){for(n=e.memory&&c,i=!0,o=a||0,a=0,r=s.length,t=!0;s&&o<r;o++)if(!1===s[o].apply(c[0],c[1])&&e.stopOnFalse){n=!1;break}t=!1,s&&(l?l.length&&u(l.shift()):n?s=[]:d.disable())},d={add:function(){if(s){var i=s.length;!function t(n){le.each(n,function(n,i){var r=le.type(i);"function"===r?e.unique&&d.has(i)||s.push(i):i&&i.length&&"string"!==r&&t(i)})}(arguments),t?r=s.length:n&&(a=i,u(n))}return this},remove:function(){return s&&le.each(arguments,function(e,n){for(var i;(i=le.inArray(n,s,i))>-1;)s.splice(i,1),t&&(i<=r&&r--,i<=o&&o--)}),this},has:function(e){return e?le.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],r=0,this},disable:function(){return s=l=n=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!s||i&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},le.extend({Deferred:function(e){var t=[["resolve","done",le.Callbacks("once memory"),"resolved"],["reject","fail",le.Callbacks("once memory"),"rejected"],["notify","progress",le.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return le.Deferred(function(n){le.each(t,function(t,o){var a=le.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&le.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?le.extend(e,i):i}},r={};return i.pipe=i.then,le.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=Z.call(arguments),a=o.length,s=1!==a||e&&le.isFunction(e.promise)?a:0,l=1===s?e:le.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?Z.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&le.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var $e;le.fn.ready=function(e){return le.ready.promise().done(e),this},le.extend({isReady:!1,readyWait:1,holdReady:function(e){e?le.readyWait++:le.ready(!0)},ready:function(e){if(!0===e?!--le.readyWait:!le.isReady){if(!ye.body)return setTimeout(le.ready);le.isReady=!0,!0!==e&&--le.readyWait>0||($e.resolveWith(ye,[le]),le.fn.trigger&&le(ye).trigger("ready").off("ready"))}}}),le.ready.promise=function(e){if(!$e)if($e=le.Deferred(),"complete"===ye.readyState)setTimeout(le.ready);else if(ye.addEventListener)ye.addEventListener("DOMContentLoaded",d,!1),n.addEventListener("load",d,!1);else{ye.attachEvent("onreadystatechange",d),n.attachEvent("onload",d);var t=!1;try{t=null==n.frameElement&&ye.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!le.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}u(),le.ready()}}()}return $e.promise(e)};var Se,_e="undefined";for(Se in le(se))break;se.ownLast="0"!==Se,se.inlineBlockNeedsLayout=!1,le(function(){var e,t,n=ye.getElementsByTagName("body")[0];n&&(e=ye.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=ye.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==_e&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(se.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=ye.createElement("div");if(null==se.deleteExpando){se.deleteExpando=!0;try{delete e.test}catch(e){se.deleteExpando=!1}}e=null}(),le.acceptData=function(e){var t=le.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/([A-Z])/g;le.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?le.cache[e[le.expando]]:e[le.expando])&&!h(e)},data:function(e,t,n){return p(e,t,n)},removeData:function(e,t){return g(e,t)},_data:function(e,t,n){return p(e,t,n,!0)},_removeData:function(e,t){return g(e,t,!0)}}),le.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=le.data(o),1===o.nodeType&&!le._data(o,"parsedAttrs"))){for(n=a.length;n--;)i=a[n].name,0===i.indexOf("data-")&&(i=le.camelCase(i.slice(5)),f(o,i,r[i]));le._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){le.data(this,e)}):arguments.length>1?this.each(function(){le.data(this,e,t)}):o?f(o,e,le.data(o,e)):void 0},removeData:function(e){return this.each(function(){le.removeData(this,e)})}}),le.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=le._data(e,t),n&&(!i||le.isArray(n)?i=le._data(e,t,le.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=le.queue(e,t),i=n.length,r=n.shift(),o=le._queueHooks(e,t),a=function(){le.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return le._data(e,n)||le._data(e,n,{empty:le.Callbacks("once memory").add(function(){le._removeData(e,t+"queue"),le._removeData(e,n)})})}}),le.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?le.queue(this[0],e):void 0===t?this:this.each(function(){var n=le.queue(this,e,t);le._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&le.dequeue(this,e)})},dequeue:function(e){return this.each(function(){le.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=le.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=le._data(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Me=["Top","Right","Bottom","Left"],De=function(e,t){return e=t||e,"none"===le.css(e,"display")||!le.contains(e.ownerDocument,e)},Ie=le.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===le.type(n)){r=!0;for(s in n)le.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,le.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(le(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},Oe=/^(?:checkbox|radio)$/i;!function(){var e=ye.createDocumentFragment(),t=ye.createElement("div"),n=ye.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",se.leadingWhitespace=3===t.firstChild.nodeType,se.tbody=!t.getElementsByTagName("tbody").length,se.htmlSerialize=!!t.getElementsByTagName("link").length,se.html5Clone="<:nav></:nav>"!==ye.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),se.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,se.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){se.noCloneEvent=!1}),t.cloneNode(!0).click()),null==se.deleteExpando){se.deleteExpando=!0;try{delete t.test}catch(e){se.deleteExpando=!1}}e=t=n=null}(),function(){var e,t,i=ye.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(se[e+"Bubbles"]=t in n)||(i.setAttribute(t,"t"),se[e+"Bubbles"]=!1===i.attributes[t].expando);i=null}();var Ne=/^(?:input|select|textarea)$/i,Pe=/^key/,Le=/^(?:mouse|contextmenu)|click/,Re=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;le.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,g,m=le._data(e);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=le.guid++),(a=m.events)||(a=m.events={}),(u=m.handle)||(u=m.handle=function(e){return typeof le===_e||e&&le.event.triggered===e.type?void 0:le.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(ke)||[""],s=t.length;s--;)o=je.exec(t[s])||[],h=g=o[1],p=(o[2]||"").split(".").sort(),h&&(c=le.event.special[h]||{},h=(r?c.delegateType:c.bindType)||h,c=le.event.special[h]||{},d=le.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&le.expr.match.needsContext.test(r),namespace:p.join(".")},l),(f=a[h])||(f=a[h]=[],f.delegateCount=0,c.setup&&!1!==c.setup.call(e,i,p,u)||(e.addEventListener?e.addEventListener(h,u,!1):e.attachEvent&&e.attachEvent("on"+h,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),le.event.global[h]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,g,m=le.hasData(e)&&le._data(e);if(m&&(u=m.events)){for(t=(t||"").match(ke)||[""],c=t.length;c--;)if(s=je.exec(t[c])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(d=le.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||le.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)le.event.remove(e,h+t[c],n,i,!0);le.isEmptyObject(u)&&(delete m.handle,le._removeData(e,"events"))}},trigger:function(e,t,i,r){var o,a,s,l,c,u,d,f=[i||ye],h=oe.call(e,"type")?e.type:e,p=oe.call(e,"namespace")?e.namespace.split("."):[];if(s=u=i=i||ye,3!==i.nodeType&&8!==i.nodeType&&!Re.test(h+le.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[le.expando]?e:new le.Event(h,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:le.makeArray(t,[e]),c=le.event.special[h]||{},r||!c.trigger||!1!==c.trigger.apply(i,t))){if(!r&&!c.noBubble&&!le.isWindow(i)){for(l=c.delegateType||h,Re.test(l+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),u=s;u===(i.ownerDocument||ye)&&f.push(u.defaultView||u.parentWindow||n)}for(d=0;(s=f[d++])&&!e.isPropagationStopped();)e.type=d>1?l:c.bindType||h,o=(le._data(s,"events")||{})[e.type]&&le._data(s,"handle"),o&&o.apply(s,t),(o=a&&s[a])&&o.apply&&le.acceptData(s)&&(e.result=o.apply(s,t),!1===e.result&&e.preventDefault());if(e.type=h,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(f.pop(),t))&&le.acceptData(i)&&a&&i[h]&&!le.isWindow(i)){u=i[a],u&&(i[a]=null),le.event.triggered=h;try{i[h]()}catch(e){}le.event.triggered=void 0,u&&(i[a]=u)}return e.result}},dispatch:function(e){e=le.event.fix(e);var t,n,i,r,o,a=[],s=Z.call(arguments),l=(le._data(this,"events")||{})[e.type]||[],c=le.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=le.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(n=((le.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],o=0;o<s;o++)i=t[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?le(n,this).index(l)>=0:le.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[le.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Le.test(r)?this.mouseHooks:Pe.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new le.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ye),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ye,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===y()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(le.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return le.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=le.extend(new le.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?le.event.trigger(r,null,t):le.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},le.removeEvent=ye.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===_e&&(e[i]=null),e.detachEvent(i,n))},le.Event=function(e,t){if(!(this instanceof le.Event))return new le.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault())?m:v):this.type=e,t&&le.extend(this,t),this.timeStamp=e&&e.timeStamp||le.now(),this[le.expando]=!0},le.Event.prototype={isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=m,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=m,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m,this.stopPropagation()}},le.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){le.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||le.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),se.submitBubbles||(le.event.special.submit={setup:function(){if(le.nodeName(this,"form"))return!1;le.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=le.nodeName(t,"input")||le.nodeName(t,"button")?t.form:void 0;n&&!le._data(n,"submitBubbles")&&(le.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),le._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&le.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(le.nodeName(this,"form"))return!1;le.event.remove(this,"._submit")}}),se.changeBubbles||(le.event.special.change={setup:function(){if(Ne.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(le.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),le.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),le.event.simulate("change",this,e,!0)})),!1;le.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ne.test(t.nodeName)&&!le._data(t,"changeBubbles")&&(le.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||le.event.simulate("change",this.parentNode,e,!0)}),le._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return le.event.remove(this,"._change"),!Ne.test(this.nodeName)}}),se.focusinBubbles||le.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){le.event.simulate(t,e.target,le.event.fix(e),!0)};le.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=le._data(i,t);r||i.addEventListener(e,n,!0),le._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=le._data(i,t)-1;r?le._data(i,t,r):(i.removeEventListener(e,n,!0),le._removeData(i,t))}}}),le.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=v;else if(!i)return this;return 1===r&&(a=i,i=function(e){return le().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=le.guid++)),this.each(function(){le.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,le(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=v),this.each(function(){le.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){le.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return le.event.trigger(e,t,n,!0)}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",He=/ jQuery\d+="(?:null|\d+)"/g,ze=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Be=/^\s+/,We=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ue=/<([\w:]+)/,qe=/<tbody/i,Ve=/<|&#?\w+;/,Ke=/<(?:script|style|link)/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^$|\/(?:java|ecma)script/i,Xe=/^true\/(.*)/,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:se.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ze=b(ye),et=Ze.appendChild(ye.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,le.extend({clone:function(e,t,n){var i,r,o,a,s,l=le.contains(e.ownerDocument,e);if(se.html5Clone||le.isXMLDoc(e)||!ze.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(et.innerHTML=e.outerHTML,et.removeChild(o=et.firstChild)),!(se.noCloneEvent&&se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||le.isXMLDoc(e)))for(i=w(o),s=w(e),a=0;null!=(r=s[a]);++a)i[a]&&T(r,i[a]);if(t)if(n)for(s=s||w(e),i=i||w(o),a=0;null!=(r=s[a]);a++)_(r,i[a]);else _(e,o);return i=w(o,"script"),i.length>0&&S(i,!l&&w(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u,d=e.length,f=b(t),h=[],p=0;p<d;p++)if((o=e[p])||0===o)if("object"===le.type(o))le.merge(h,o.nodeType?[o]:o);else if(Ve.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=(Ue.exec(o)||["",""])[1].toLowerCase(),u=Je[l]||Je._default,s.innerHTML=u[1]+o.replace(We,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!se.leadingWhitespace&&Be.test(o)&&h.push(t.createTextNode(Be.exec(o)[0])),!se.tbody)for(o="table"!==l||qe.test(o)?"<table>"!==u[1]||qe.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)le.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(le.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(o));for(s&&f.removeChild(s),se.appendChecked||le.grep(w(h,"input"),x),p=0;o=h[p++];)if((!i||-1===le.inArray(o,i))&&(a=le.contains(o.ownerDocument,o),s=w(f.appendChild(o),"script"),a&&S(s),n))for(r=0;o=s[r++];)Ye.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,i,r,o,a=0,s=le.expando,l=le.cache,c=se.deleteExpando,u=le.event.special;null!=(n=e[a]);a++)if((t||le.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?le.event.remove(n,i):le.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==_e?n.removeAttribute(s):n[s]=null,J.push(r))}}}),le.fn.extend({text:function(e){return Ie(this,function(e){return void 0===e?le.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ye).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||k(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?le.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||le.cleanData(w(n)),n.parentNode&&(t&&le.contains(n.ownerDocument,n)&&S(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&le.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&le.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return le.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(He,""):void 0;if("string"==typeof e&&!Ke.test(e)&&(se.htmlSerialize||!ze.test(e))&&(se.leadingWhitespace||!Be.test(e))&&!Je[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(We,"<$1></$2>");try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(le.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,le.cleanData(w(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=ee.apply([],e);var n,i,r,o,a,s,l=0,c=this.length,u=this,d=c-1,f=e[0],h=le.isFunction(f);if(h||c>1&&"string"==typeof f&&!se.checkClone&&Ge.test(f))return this.each(function(n){var i=u.eq(n);h&&(e[0]=f.call(this,n,i.html())),i.domManip(e,t)});if(c&&(s=le.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=le.map(w(s,"script"),C),r=o.length;l<c;l++)i=s,l!==d&&(i=le.clone(i,!0,!0),r&&le.merge(o,w(i,"script"))),t.call(this[l],i,l);if(r)for(a=o[o.length-1].ownerDocument,le.map(o,$),l=0;l<r;l++)i=o[l],Ye.test(i.type||"")&&!le._data(i,"globalEval")&&le.contains(a,i)&&(i.src?le._evalUrl&&le._evalUrl(i.src):le.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Qe,"")));s=n=null}return this}}),le.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){le.fn[e]=function(e){for(var n,i=0,r=[],o=le(e),a=o.length-1;i<=a;i++)n=i===a?this:this.clone(!0),le(o[i])[t](n),te.apply(r,n.get());return this.pushStack(r)}});var tt,nt={};!function(){var e,t,n=ye.createElement("div");n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",se.opacity=/^0.5/.test(e.style.opacity),se.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,se.shrinkWrapBlocks=function(){var e,n,i;if(null==t){if(!(e=ye.getElementsByTagName("body")[0]))return;n=ye.createElement("div"),i=ye.createElement("div"),e.appendChild(n).appendChild(i),t=!1,typeof i.style.zoom!==_e&&(i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0;width:1px;padding:1px;zoom:1",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t=3!==i.offsetWidth),e.removeChild(n),e=n=i=null}return t}}();var it,rt,ot=/^margin/,at=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),st=/^(top|right|bottom|left)$/;n.getComputedStyle?(it=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},rt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||it(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||le.contains(e.ownerDocument,e)||(a=le.style(e,t)),at.test(a)&&ot.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):ye.documentElement.currentStyle&&(it=function(e){return e.currentStyle},rt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||it(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),at.test(a)&&!st.test(t)&&(i=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),function(){function e(){var e,t,i=ye.getElementsByTagName("body")[0];i&&(e=ye.createElement("div"),t=ye.createElement("div"),e.style.cssText=c,i.appendChild(e).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",le.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){r=4===t.offsetWidth}),o=!0,a=!1,s=!0,n.getComputedStyle&&(a="1%"!==(n.getComputedStyle(t,null)||{}).top,o="4px"===(n.getComputedStyle(t,null)||{width:"4px"}).width),i.removeChild(e),t=i=null)}var t,i,r,o,a,s,l=ye.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=l.getElementsByTagName("a")[0],t.style.cssText="float:left;opacity:.5",se.opacity=/^0.5/.test(t.style.opacity),se.cssFloat=!!t.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===l.style.backgroundClip,t=l=null,le.extend(se,{reliableHiddenOffsets:function(){if(null!=i)return i;var e,t,n,r=ye.createElement("div"),o=ye.getElementsByTagName("body")[0];return o?(r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=ye.createElement("div"),e.style.cssText=c,o.appendChild(e).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=r.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",i=n&&0===t[0].offsetHeight,o.removeChild(e),r=o=null,i):void 0},boxSizing:function(){return null==r&&e(),r},boxSizingReliable:function(){return null==o&&e(),o},pixelPosition:function(){return null==a&&e(),a},reliableMarginRight:function(){var e,t,i,r;if(null==s&&n.getComputedStyle){if(!(e=ye.getElementsByTagName("body")[0]))return;t=ye.createElement("div"),i=ye.createElement("div"),t.style.cssText=c,e.appendChild(t).appendChild(i),r=i.appendChild(ye.createElement("div")),r.style.cssText=i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0",r.style.marginRight=r.style.width="0",i.style.width="1px",s=!parseFloat((n.getComputedStyle(r,null)||{}).marginRight),e.removeChild(t)}return s}})}(),le.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var lt=/alpha\([^)]*\)/i,ct=/opacity\s*=\s*([^)]*)/,ut=/^(none|table(?!-c[ea]).+)/,dt=new RegExp("^("+Ee+")(.*)$","i"),ft=new RegExp("^([+-])=("+Ee+")","i"),ht={position:"absolute",visibility:"hidden",display:"block"},pt={letterSpacing:0,fontWeight:400},gt=["Webkit","O","Moz","ms"];le.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:se.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=le.camelCase(t),l=e.style;if(t=le.cssProps[s]||(le.cssProps[s]=D(l,s)),a=le.cssHooks[t]||le.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];if(o=typeof n,"string"===o&&(r=ft.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(le.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||le.cssNumber[s]||(n+="px"),se.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{l[t]="",l[t]=n}catch(e){}}},css:function(e,t,n,i){var r,o,a,s=le.camelCase(t);return t=le.cssProps[s]||(le.cssProps[s]=D(e.style,s)),a=le.cssHooks[t]||le.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,i)),"normal"===o&&t in pt&&(o=pt[t]),""===n||n?(r=parseFloat(o),!0===n||le.isNumeric(r)?r||0:o):o}}),le.each(["height","width"],function(e,t){le.cssHooks[t]={get:function(e,n,i){if(n)return 0===e.offsetWidth&&ut.test(le.css(e,"display"))?le.swap(e,ht,function(){return P(e,t,i)}):P(e,t,i)},set:function(e,n,i){var r=i&&it(e);return O(e,n,i?N(e,t,i,se.boxSizing()&&"border-box"===le.css(e,"boxSizing",!1,r),r):0)}}}),se.opacity||(le.cssHooks.opacity={get:function(e,t){return ct.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=le.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===le.trim(o.replace(lt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=lt.test(o)?o.replace(lt,r):o+" "+r)}}),le.cssHooks.marginRight=M(se.reliableMarginRight,function(e,t){if(t)return le.swap(e,{display:"inline-block"},rt,[e,"marginRight"])}),le.each({margin:"",padding:"",border:"Width"},function(e,t){le.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Me[i]+t]=o[i]||o[i-2]||o[0];return r}},ot.test(e)||(le.cssHooks[e+t].set=O)}),le.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var i,r,o={},a=0;if(le.isArray(t)){for(i=it(e),r=t.length;a<r;a++)o[t[a]]=le.css(e,t[a],!1,i);return o}return void 0!==n?le.style(e,t,n):le.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){De(this)?le(this).show():le(this).hide()})}}),le.Tween=L,L.prototype={constructor:L,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(le.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.options.duration?this.pos=t=le.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=le.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){le.fx.step[e.prop]?le.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[le.cssProps[e.prop]]||le.cssHooks[e.prop])?le.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},le.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},le.fx=L.prototype.init,le.fx.step={};var mt,vt,yt=/^(?:toggle|show|hide)$/,bt=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),wt=/queueHooks$/,xt=[H],kt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=bt.exec(t),o=r&&r[3]||(le.cssNumber[e]?"":"px"),a=(le.cssNumber[e]||"px"!==o&&+i)&&bt.exec(le.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do{s=s||".5",a/=s,le.style(n.elem,e,a+o)}while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};le.Animation=le.extend(B,{tweener:function(e,t){le.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],kt[n]=kt[n]||[],kt[n].unshift(t)},prefilter:function(e,t){t?xt.unshift(e):xt.push(e)}}),le.speed=function(e,t,n){var i=e&&"object"==typeof e?le.extend({},e):{complete:n||!n&&t||le.isFunction(e)&&e,duration:e,easing:n&&t||t&&!le.isFunction(t)&&t};return i.duration=le.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in le.fx.speeds?le.fx.speeds[i.duration]:le.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){le.isFunction(i.old)&&i.old.call(this),i.queue&&le.dequeue(this,i.queue)},i},le.fn.extend({fadeTo:function(e,t,n,i){return this.filter(De).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=le.isEmptyObject(e),o=le.speed(t,n,i),a=function(){var t=B(this,le.extend({},e),o);(r||le._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=le.timers,a=le._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&wt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||le.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=le._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=le.timers,a=i?i.length:0;for(n.finish=!0,le.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),le.each(["toggle","show","hide"],function(e,t){var n=le.fn[t];le.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,r)}}),le.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){le.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),le.timers=[],le.fx.tick=function(){var e,t=le.timers,n=0;for(mt=le.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||le.fx.stop(),mt=void 0},le.fx.timer=function(e){le.timers.push(e),e()?le.fx.start():le.timers.pop()},le.fx.interval=13,le.fx.start=function(){vt||(vt=setInterval(le.fx.tick,le.fx.interval))},le.fx.stop=function(){clearInterval(vt),vt=null},le.fx.speeds={slow:600,fast:200,_default:400},le.fn.delay=function(e,t){return e=le.fx?le.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r=ye.createElement("div");r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=r.getElementsByTagName("a")[0],n=ye.createElement("select"),i=n.appendChild(ye.createElement("option")),t=r.getElementsByTagName("input")[0],e.style.cssText="top:1px",se.getSetAttribute="t"!==r.className,se.style=/top/.test(e.getAttribute("style")),se.hrefNormalized="/a"===e.getAttribute("href"),se.checkOn=!!t.value,se.optSelected=i.selected,se.enctype=!!ye.createElement("form").enctype,n.disabled=!0,se.optDisabled=!i.disabled,t=ye.createElement("input"),t.setAttribute("value",""),se.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),se.radioValue="t"===t.value,e=t=n=i=r=null}();var Ct=/\r/g;le.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=le.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,le(this).val()):e,null==r?r="":"number"==typeof r?r+="":le.isArray(r)&&(r=le.map(r,function(e){return null==e?"":e+""})),(t=le.valHooks[this.type]||le.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=le.valHooks[r.type]||le.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Ct,""):null==n?"":n):void 0}}),le.extend({valHooks:{option:{get:function(e){var t=le.find.attr(e,"value");return null!=t?t:le.text(e)}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(n=i[l],(n.selected||l===r)&&(se.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!le.nodeName(n.parentNode,"optgroup"))){if(t=le(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=le.makeArray(t),a=r.length;a--;)if(i=r[a],le.inArray(le.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),le.each(["radio","checkbox"],function(){le.valHooks[this]={set:function(e,t){if(le.isArray(t))return e.checked=le.inArray(le(e).val(),t)>=0}},se.checkOn||(le.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var $t,St,_t=le.expr.attrHandle,Tt=/^(?:checked|selected)$/i,At=se.getSetAttribute,Et=se.input;le.fn.extend({attr:function(e,t){return Ie(this,le.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){le.removeAttr(this,e)})}}),le.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===_e?le.prop(e,t,n):(1===o&&le.isXMLDoc(e)||(t=t.toLowerCase(),i=le.attrHooks[t]||(le.expr.match.bool.test(t)?St:$t)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=le.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void le.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ke);if(o&&1===e.nodeType)for(;n=o[r++];)i=le.propFix[n]||n,le.expr.match.bool.test(n)?Et&&At||!Tt.test(n)?e[i]=!1:e[le.camelCase("default-"+n)]=e[i]=!1:le.attr(e,n,""),e.removeAttribute(At?n:i)},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&le.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),St={set:function(e,t,n){return!1===t?le.removeAttr(e,n):Et&&At||!Tt.test(n)?e.setAttribute(!At&&le.propFix[n]||n,n):e[le.camelCase("default-"+n)]=e[n]=!0,n}},le.each(le.expr.match.bool.source.match(/\w+/g),function(e,t){var n=_t[t]||le.find.attr;_t[t]=Et&&At||!Tt.test(t)?function(e,t,i){var r,o;return i||(o=_t[t],_t[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,_t[t]=o),r}:function(e,t,n){if(!n)return e[le.camelCase("default-"+t)]?t.toLowerCase():null}}),Et&&At||(le.attrHooks.value={set:function(e,t,n){if(!le.nodeName(e,"input"))return $t&&$t.set(e,t,n);e.defaultValue=t}}),At||($t={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},_t.id=_t.name=_t.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},le.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:$t.set},le.attrHooks.contenteditable={set:function(e,t,n){$t.set(e,""!==t&&t,n)}},le.each(["width","height"],function(e,t){le.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),se.style||(le.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Mt=/^(?:input|select|textarea|button|object)$/i,Dt=/^(?:a|area)$/i;le.fn.extend({prop:function(e,t){return Ie(this,le.prop,e,t,arguments.length>1)},removeProp:function(e){return e=le.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),le.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!le.isXMLDoc(e),o&&(t=le.propFix[t]||t,r=le.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=le.find.attr(e,"tabindex");return t?parseInt(t,10):Mt.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}}}),se.hrefNormalized||le.each(["href","src"],function(e,t){le.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),se.optSelected||(le.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),le.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){le.propFix[this.toLowerCase()]=this}),se.enctype||(le.propFix.enctype="encoding");var It=/[\t\r\n\f]/g;le.fn.extend({addClass:function(e){var t,n,i,r,o,a,s=0,l=this.length,c="string"==typeof e&&e;if(le.isFunction(e))return this.each(function(t){le(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(ke)||[];s<l;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(It," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=le.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(le.isFunction(e))return this.each(function(t){le(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(ke)||[];s<l;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(It," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?le.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):le.isFunction(e)?this.each(function(n){le(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=le(this),o=e.match(ke)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else n!==_e&&"boolean"!==n||(this.className&&le._data(this,"__className__",this.className),this.className=this.className||!1===e?"":le._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(It," ").indexOf(t)>=0)return!0;return!1}}),le.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){le.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),le.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ot=le.now(),Nt=/\?/,Pt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;le.parseJSON=function(e){if(n.JSON&&n.JSON.parse)return n.JSON.parse(e+"");var t,i=null,r=le.trim(e+"");return r&&!le.trim(r.replace(Pt,function(e,n,r,o){return t&&n&&(i=0),0===i?e:(t=r||n,i+=!o-!r,"")}))?Function("return "+r)():le.error("Invalid JSON: "+e)},le.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{n.DOMParser?(i=new DOMParser,t=i.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||le.error("Invalid XML: "+e),t};var Lt,Rt,jt=/#.*$/,Ft=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,zt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qt={},Vt={},Kt="*/".concat("*");try{Rt=location.href}catch(e){Rt=ye.createElement("a"),Rt.href="",Rt=Rt.href}Lt=Ut.exec(Rt.toLowerCase())||[],le.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt,type:"GET",isLocal:zt.test(Lt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":le.parseJSON,"text xml":le.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,le.ajaxSettings),t):q(le.ajaxSettings,e)},ajaxPrefilter:W(qt),ajaxTransport:W(Vt),ajax:function(e,t){function n(e,t,n,i){var r,u,v,y,w,k=t;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,a=i||"",x.readyState=e>0?4:0,r=e>=200&&e<300||304===e,n&&(y=V(d,x,n)),y=K(d,y,x,r),r?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(le.lastModified[o]=w),(w=x.getResponseHeader("etag"))&&(le.etag[o]=w)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=y.state,u=y.data,v=y.error,r=!v)):(v=k,!e&&k||(k="error",e<0&&(e=0))),x.status=e,x.statusText=(t||k)+"",r?p.resolveWith(f,[u,k,x]):p.rejectWith(f,[x,k,v]),x.statusCode(m),m=void 0,l&&h.trigger(r?"ajaxSuccess":"ajaxError",[x,d,r?u:v]),g.fireWith(f,[x,k]),l&&(h.trigger("ajaxComplete",[x,d]),--le.active||le.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,l,c,u,d=le.ajaxSetup({},t),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?le(f):le.event,p=le.Deferred(),g=le.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Ht.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),n(0,t),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||Rt)+"").replace(jt,"").replace(Wt,Lt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=le.trim(d.dataType||"*").toLowerCase().match(ke)||[""],null==d.crossDomain&&(i=Ut.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Lt[1]&&i[2]===Lt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Lt[3]||("http:"===Lt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=le.param(d.data,d.traditional)),U(qt,d,t,x),2===b)return x;l=d.global,l&&0==le.active++&&le.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Nt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+Ot++):o+(Nt.test(o)?"&":"?")+"_="+Ot++)),d.ifModified&&(le.lastModified[o]&&x.setRequestHeader("If-Modified-Since",le.lastModified[o]),le.etag[o]&&x.setRequestHeader("If-None-Match",le.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Kt+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)x.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===b))return x.abort();w="abort";for(r in{success:1,error:1,complete:1})x[r](d[r]);if(c=U(Vt,d,t,x)){x.readyState=1,l&&h.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,c.send(v,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return le.get(e,t,n,"json")},getScript:function(e,t){return le.get(e,void 0,t,"script")}}),le.each(["get","post"],function(e,t){le[t]=function(e,n,i,r){return le.isFunction(n)&&(r=r||i,i=n,n=void 0),le.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),le.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){le.fn[t]=function(e){return this.on(t,e)}}),le._evalUrl=function(e){return le.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},le.fn.extend({wrapAll:function(e){if(le.isFunction(e))return this.each(function(t){le(this).wrapAll(e.call(this,t))});if(this[0]){var t=le(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return le.isFunction(e)?this.each(function(t){le(this).wrapInner(e.call(this,t))}):this.each(function(){var t=le(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=le.isFunction(e);return this.each(function(n){le(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){le.nodeName(this,"body")||le(this).replaceWith(this.childNodes)}).end()}}),le.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!se.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||le.css(e,"display"))},le.expr.filters.visible=function(e){return!le.expr.filters.hidden(e)};var Gt=/%20/g,Yt=/\[\]$/,Xt=/\r?\n/g,Qt=/^(?:submit|button|image|reset|file)$/i,Jt=/^(?:input|select|textarea|keygen)/i;le.param=function(e,t){var n,i=[],r=function(e,t){t=le.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=le.ajaxSettings&&le.ajaxSettings.traditional),le.isArray(e)||e.jquery&&!le.isPlainObject(e))le.each(e,function(){r(this.name,this.value)});else for(n in e)G(n,e[n],t,r);return i.join("&").replace(Gt,"+")},le.fn.extend({serialize:function(){return le.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=le.prop(this,"elements");return e?le.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!le(this).is(":disabled")&&Jt.test(this.nodeName)&&!Qt.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var n=le(this).val();return null==n?null:le.isArray(n)?le.map(n,function(e){return{name:t.name,value:e.replace(Xt,"\r\n")}}):{name:t.name,value:n.replace(Xt,"\r\n")}}).get()}}),le.ajaxSettings.xhr=void 0!==n.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||X()}:Y;var Zt=0,en={},tn=le.ajaxSettings.xhr();n.ActiveXObject&&le(n).on("unload",function(){for(var e in en)en[e](void 0,!0)}),se.cors=!!tn&&"withCredentials"in tn,tn=se.ajax=!!tn,tn&&le.ajaxTransport(function(e){if(!e.crossDomain||se.cors){var t;return{send:function(n,i){var r,o=e.xhr(),a=++Zt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),t=function(n,r){var s,l,c;if(t&&(r||4===o.readyState))if(delete en[a],t=void 0,o.onreadystatechange=le.noop,r)4!==o.readyState&&o.abort();else{c={},s=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&i(s,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=en[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),le.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return le.globalEval(e),e}}}),le.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),le.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ye.head||le("head")[0]||ye.documentElement;return{send:function(i,r){t=ye.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var nn=[],rn=/(=)\?(?=&|$)|\?\?/;le.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nn.pop()||le.expando+"_"+Ot++;return this[e]=!0,e}}),le.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,a,s=!1!==e.jsonp&&(rn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=le.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(rn,"$1"+r):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||le.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,nn.push(r)),a&&le.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),le.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ye;var i=ge.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=le.buildFragment([e],t,r),r&&r.length&&le(r).remove(),le.merge([],i.childNodes))};var on=le.fn.load;le.fn.load=function(e,t,n){if("string"!=typeof e&&on)return on.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=e.slice(s,e.length),e=e.slice(0,s)),le.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&le.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?le("<div>").append(le.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},le.expr.filters.animated=function(e){return le.grep(le.timers,function(t){return e===t.elem}).length};var an=n.document.documentElement;le.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=le.css(e,"position"),d=le(e),f={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=le.css(e,"top"),l=le.css(e,"left"),c=("absolute"===u||"fixed"===u)&&le.inArray("auto",[o,l])>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),le.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):d.css(f)}},le.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){le.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,le.contains(t,r)?(typeof r.getBoundingClientRect!==_e&&(i=r.getBoundingClientRect()),n=Q(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===le.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),le.nodeName(e[0],"html")||(n=e.offset()),n.top+=le.css(e[0],"borderTopWidth",!0),n.left+=le.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-le.css(i,"marginTop",!0),left:t.left-n.left-le.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||an;e&&!le.nodeName(e,"html")&&"static"===le.css(e,"position");)e=e.offsetParent;return e||an})}}),le.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);le.fn[e]=function(i){return Ie(this,function(e,i,r){var o=Q(e);if(void 0===r)return o?t in o?o[t]:o.document.documentElement[i]:e[i];o?o.scrollTo(n?le(o).scrollLeft():r,n?r:le(o).scrollTop()):e[i]=r},e,i,arguments.length,null)}}),le.each(["top","left"],function(e,t){le.cssHooks[t]=M(se.pixelPosition,function(e,n){if(n)return n=rt(e,t),at.test(n)?le(e).position()[t]+"px":n})}),le.each({Height:"height",Width:"width"},function(e,t){le.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){le.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return Ie(this,function(t,n,i){var r;return le.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?le.css(t,n,a):le.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),le.fn.size=function(){return this.length},le.fn.andSelf=le.fn.addBack,i=[],void 0!==(r=function(){return le}.apply(t,i))&&(e.exports=r);var sn=n.jQuery,ln=n.$;return le.noConflict=function(e){return n.$===le&&(n.$=ln),e&&n.jQuery===le&&(n.jQuery=sn),le},typeof o===_e&&(n.jQuery=n.$=le),le})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(56),o=i(r),a=n(381),s=i(a),l=n(144),c=i(l),u=n(382),d=i(u),f=n(384),h=i(f),p=n(385),g=i(p),m=n(386),v=i(m),y=n(387),b=i(y),w=n(388),x=i(w),k=n(389),C=i(k),$=n(390),S=i($);o.default.module("breadboard.services",[]).service("configService",g.default).service("websocketFactory",c.default).service("clientGraph",d.default).service("scriptInjector",s.default).service("clientFactory",h.default).service("languageService",v.default).service("csvService",x.default).service("downloadService",C.default).service("alertService",S.default).factory("breadboardFactory",b.default)},function(e,t,n){"use strict";function i(e,t){e.STATUS=t}n(433),n(71);var r=n(434),o=function(e){return e&&e.__esModule?e:{default:e}}(r);angular.module("breadboard.tab-status").directive("tabStatus",function(){return{restrict:"E",scope:{status:"="},controller:i,templateUrl:o.default}}),i.$inject=["$scope","STATUS"]},function(e,t,n){var i=n(7).f,r=n(11),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(0),r=n(24),o=n(3),a=n(78),s="["+a+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(e,t,n){var r={},s=o(function(){return!!a[e]()||l[e]()!=l}),c=r[e]=s?t(f):a[e];n&&(r[n]=c),i(i.P+i.F*s,"String",r)},f=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},function(e,t){e.exports={}},function(e,t,n){var i=n(4);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(u(i.parts[o],t));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s=o[1],l=o[2],c=o[3],u={css:s,media:l,sourceMap:c};i[a]?i[a].parts.push(u):n.push(i[a]={id:a,parts:[u]})}return n}function o(e,t){var n=m(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=m(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),o(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=y++;n=v||(v=s(t)),i=d.bind(null,n,c,!1),r=d.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),i=h.bind(null,n,t),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=f.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function d(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=w(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},g=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),m=function(e){var t={};return function(n){if(void 0===t[n]){var i=e.call(this,n);if(i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[n]=i}return t[n]}}(function(e){return document.querySelector(e)}),v=null,y=0,b=[],w=n(394);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=g()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,o.push(l)}e&&i(r(e,t),t);for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415)},function(e,t,n){var i=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(20),r=n(5)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){n(354),e.exports=angular},function(e,t,n){var i=n(2),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var i=n(16),r=n(8),o=n(36);e.exports=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(20);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(4),r=n(20),o=n(5)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(5)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(1);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var i=n(12),r=n(13),o=n(3),a=n(24),s=n(5);e.exports=function(e,t,n){var l=s(e),c=n(a,l,""[e]),u=c[0],d=c[1];o(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,u),i(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){var i=n(1),r=n(10),o=n(5)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[o])?t:r(n)}},function(e,t,n){"use strict";var i=n(2),r=n(0),o=n(13),a=n(42),s=n(30),l=n(41),c=n(40),u=n(4),d=n(3),f=n(62),h=n(46),p=n(79);e.exports=function(e,t,n,g,m,v){var y=i[e],b=y,w=m?"set":"add",x=b&&b.prototype,k={},C=function(e){var t=x[e];o(x,e,"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||x.forEach&&!d(function(){(new b).entries().next()}))){var $=new b,S=$[w](v?{}:-0,1)!=$,_=d(function(){$.has(1)}),T=f(function(e){new b(e)}),A=!v&&d(function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)});T||(b=t(function(t,n){c(t,b,e);var i=p(new y,t,b);return void 0!=n&&l(n,m,i[w],i),i}),b.prototype=x,x.constructor=b),(_||A)&&(C("delete"),C("has"),m&&C("get")),(A||S)&&C(w),v&&x.clear&&delete x.clear}else b=g.getConstructor(t,e,m,w),a(b.prototype,n),s.NEED=!0;return h(b,e),k[e]=b,r(r.G+r.W+r.F*(b!=y),k),v||g.setStrong(b,e,m),b}},function(e,t,n){for(var i,r=n(2),o=n(12),a=n(33),s=a("typed_array"),l=a("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(i=r[f[d++]])?(o(i.prototype,s,!0),o(i.prototype,l,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(e,t,n){"use strict";e.exports=n(34)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var i=n(0);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var i=n(0),r=n(10),o=n(19),a=n(41);e.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,s,l=arguments[1];return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(n=[],t?(i=0,s=o(l,arguments[2],2),a(e,!1,function(e){n.push(s(e,i++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=angular.module("breadboard.constants",[]).constant("STATUS",{UNLOADED:0,LOADING:1,UNCHANGED:2,MODIFIED:3,SAVING:4,SAVED:5,ERROR:6})},function(e,t,n){var i=n(4),r=n(2).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(2),r=n(22),o=n(34),a=n(104),s=n(7).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var i=n(57)("keys"),r=n(33);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(2).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(4),r=n(1),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n(19)(Function.call,n(17).f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var i=n(4),r=n(77).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(e,o),e}},function(e,t,n){"use strict";var i=n(25),r=n(24);e.exports=function(e){var t=String(r(this)),n="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var i=n(25),r=n(24);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var i=n(34),r=n(0),o=n(13),a=n(12),s=n(11),l=n(48),c=n(85),u=n(46),d=n(18),f=n(5)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,g,m,v,y){c(n,t,g);var b,w,x,k=function(e){if(!h&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",$="values"==m,S=!1,_=e.prototype,T=_[f]||_["@@iterator"]||m&&_[m],A=!h&&T||k(m),E=m?$?k("entries"):A:void 0,M="Array"==t?_.entries||T:T;if(M&&(x=d(M.call(new e)))!==Object.prototype&&x.next&&(u(x,C,!0),i||s(x,f)||a(x,f,p)),$&&T&&"values"!==T.name&&(S=!0,A=function(){return T.call(this)}),i&&!y||!h&&!S&&_[f]||a(_,f,A),l[t]=A,l[C]=p,m)if(b={values:$?A:k("values"),keys:v?A:k("keys"),entries:E},y)for(w in b)w in _||o(_,w,b[w]);else r(r.P+r.F*(h||S),t,b);return b}},function(e,t,n){"use strict";var i=n(37),r=n(32),o=n(46),a={};n(12)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(61),r=n(24);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var i=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var i=n(48),r=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){"use strict";var i=n(7),r=n(32);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var i=n(55),r=n(5)("iterator"),o=n(48);e.exports=n(22).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i=n(243);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){"use strict";var i=n(9),r=n(36),o=n(8);e.exports=function(e){for(var t=i(this),n=o(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var i=n(31),r=n(120),o=n(48),a=n(16);e.exports=n(84)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var i,r,o,a=n(19),s=n(110),l=n(76),c=n(72),u=n(2),d=u.process,f=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},i(m),m},h=function(e){delete v[e]},"process"==n(20)(d)?i=function(e){d.nextTick(a(y,e,1))}:g&&g.now?i=function(e){g.now(a(y,e,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=b,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:h}},function(e,t,n){var i=n(2),r=n(94).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(20)(a);e.exports=function(){var e,t,n,c=function(){var i,r;for(l&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve();n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=r(t),this.reject=r(n)}var r=n(10);e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";function i(e,t,n){var i,r,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?j(2,-24)-j(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for(e=R(e),e!=e||e===P?(r=e!=e?1:0,i=l):(i=F(H(e)/z),e*(o=j(2,-i))<1&&(i--,o*=2),e+=i+c>=1?u/o:u*j(2,1-c),e*o>=2&&(i++,o/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(e*o-1)*j(2,t),i+=c):(r=e*j(2,c-1)*j(2,t),i=0));t>=8;a[d++]=255&r,r/=256,t-=8);for(i=i<<t|r,s+=t;s>0;a[d++]=255&i,i/=256,s-=8);return a[--d]|=128*f,a}function r(e,t,n){var i,r=8*n-t-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(i=u&(1<<-s)-1,u>>=-s,s+=t;s>0;i=256*i+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return i?NaN:c?-P:P;i+=j(2,t),u-=a}return(c?-1:1)*i*j(2,u-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function l(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function c(e){return i(e,52,8)}function u(e){return i(e,23,4)}function d(e,t,n){_(e[E],t,{get:function(){return this[n]}})}function f(e,t,n,i){var r=+n,o=$(r);if(o+t>e[W])throw N(M);var a=e[B]._b,s=o+e[U],l=a.slice(s,s+t);return i?l:l.reverse()}function h(e,t,n,i,r,o){var a=+n,s=$(a);if(s+t>e[W])throw N(M);for(var l=e[B]._b,c=s+e[U],u=i(+r),d=0;d<t;d++)l[c+d]=u[o?d:t-d-1]}var p=n(2),g=n(6),m=n(34),v=n(67),y=n(12),b=n(42),w=n(3),x=n(40),k=n(25),C=n(8),$=n(129),S=n(38).f,_=n(7).f,T=n(92),A=n(46),E="prototype",M="Wrong index!",D=p.ArrayBuffer,I=p.DataView,O=p.Math,N=p.RangeError,P=p.Infinity,L=D,R=O.abs,j=O.pow,F=O.floor,H=O.log,z=O.LN2,B=g?"_b":"buffer",W=g?"_l":"byteLength",U=g?"_o":"byteOffset";if(v.ABV){if(!w(function(){D(1)})||!w(function(){new D(-1)})||w(function(){return new D,new D(1.5),new D(NaN),"ArrayBuffer"!=D.name})){D=function(e){return x(this,D),new L($(e))};for(var q,V=D[E]=L[E],K=S(L),G=0;K.length>G;)(q=K[G++])in D||y(D,q,L[q]);m||(V.constructor=D)}var Y=new I(new D(2)),X=I[E].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||b(I[E],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else D=function(e){x(this,D,"ArrayBuffer");var t=$(e);this._b=T.call(new Array(t),0),this[W]=t},I=function(e,t,n){x(this,I,"DataView"),x(e,D,"DataView");var i=e[W],r=k(t);if(r<0||r>i)throw N("Wrong offset!");if(n=void 0===n?i-r:C(n),r+n>i)throw N("Wrong length!");this[B]=e,this[U]=r,this[W]=n},g&&(d(D,"byteLength","_l"),d(I,"buffer","_b"),d(I,"byteLength","_l"),d(I,"byteOffset","_o")),b(I[E],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(f(this,4,e,arguments[1]))},getUint32:function(e){return o(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return r(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return r(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){h(this,1,e,a,t)},setUint8:function(e,t){h(this,1,e,a,t)},setInt16:function(e,t){h(this,2,e,s,t,arguments[2])},setUint16:function(e,t){h(this,2,e,s,t,arguments[2])},setInt32:function(e,t){h(this,4,e,l,t,arguments[2])},setUint32:function(e,t){h(this,4,e,l,t,arguments[2])},setFloat32:function(e,t){h(this,4,e,u,t,arguments[2])},setFloat64:function(e,t){h(this,8,e,c,t,arguments[2])}});A(D,"ArrayBuffer"),A(I,"DataView"),y(I[E],v.VIEW,!0),t.ArrayBuffer=D,t.DataView=I},function(e,t,n){var i=n(2),r=i.navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(402);var r=n(416),o=i(r),a=n(417),s=i(a);angular.module("breadboard.create-first-user").directive("createFirstUser",function(){return{restrict:"E",scope:{},controller:s.default,templateUrl:o.default}})},function(e,t,n){"use strict";n(440),n(441),n(45),n(71),n(43),n(52),n(44),angular.module("breadboard.steps",["breadboard.services","breadboard.constants","breadboard.steps.service","breadboard.tab-status","ui.codemirror"])},function(e,t,n){"use strict";n(452),n(453),n(45),n(71),n(43),n(52),n(44),angular.module("breadboard.content",["breadboard.services","breadboard.constants","breadboard.content.service","breadboard.tab-status","ui.codemirror"])},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=!n(6)&&!n(3)(function(){return 7!=Object.defineProperty(n(72)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(5)},function(e,t,n){var i=n(11),r=n(16),o=n(58)(!1),a=n(74)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var i=n(7),r=n(1),o=n(35);e.exports=n(6)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var i=n(16),r=n(38).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):r(i(e))}},function(e,t,n){"use strict";var i=n(35),r=n(59),o=n(54),a=n(9),s=n(53),l=Object.assign;e.exports=!l||n(3)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=a(e),l=arguments.length,c=1,u=r.f,d=o.f;l>c;)for(var f,h=s(arguments[c++]),p=u?i(h).concat(u(h)):i(h),g=p.length,m=0;g>m;)d.call(h,f=p[m++])&&(n[f]=h[f]);return n}:l},function(e,t,n){"use strict";var i=n(10),r=n(4),o=n(110),a=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";s[t]=Function("F,a","return new F("+i.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(t,i.length,i):o(t,i,e)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(2).parseInt,r=n(47).trim,o=n(78),a=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(e,t){var n=r(String(e),3);return i(n,t>>>0||(a.test(n)?16:10))}:i},function(e,t,n){var i=n(2).parseFloat,r=n(47).trim;e.exports=1/i(n(78)+"-0")!=-1/0?function(e){var t=r(String(e),3),n=i(t);return 0===n&&"-"==t.charAt(0)?-0:n}:i},function(e,t,n){var i=n(20);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},function(e,t,n){var i=n(4),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var i=n(81),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126),c=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),u=i(e);return r<l?u*c(r/l/a)*l*a:(t=(1+a/o)*r,n=t-(t-r),n>s||n!=n?u*(1/0):u*n)}},function(e,t,n){var i=n(1);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(10),r=n(9),o=n(53),a=n(8);e.exports=function(e,t,n,s,l){i(t);var c=r(e),u=o(c),d=a(c.length),f=l?d-1:0,h=l?-1:1;if(n<2)for(;;){if(f in u){s=u[f],f+=h;break}if(f+=h,l?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:d>f;f+=h)f in u&&(s=t(s,u[f],f,c));return s}},function(e,t,n){"use strict";var i=n(9),r=n(36),o=n(8);e.exports=[].copyWithin||function(e,t){var n=i(this),a=o(n.length),s=r(e,a),l=r(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:r(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(6)&&"g"!=/./g.flags&&n(7).f(RegExp.prototype,"flags",{configurable:!0,get:n(63)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(1),r=n(4),o=n(96);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(125),r=n(49);e.exports=n(66)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(r(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,t,n){"use strict";var i=n(7).f,r=n(37),o=n(42),a=n(19),s=n(40),l=n(41),c=n(84),u=n(120),d=n(39),f=n(6),h=n(30).fastKey,p=n(49),g=f?"_s":"size",m=function(e,t){var n,i=h(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,i){s(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=i&&l(i,n,e[c],e)});return o(u.prototype,{clear:function(){for(var e=p(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=p(this,t),i=m(n,e);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[g]--}return!!i},forEach:function(e){p(this,t);for(var n,i=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(p(this,t),e)}}),f&&i(u.prototype,"size",{get:function(){return p(this,t)[g]}}),u},def:function(e,t,n){var i,r,o=m(e,t);return o?o.v=n:(e._l=o={i:r=h(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[g]++,"F"!==r&&(e._i[r]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?u(0,n.k):"values"==t?u(0,n.v):u(0,[n.k,n.v]):(e._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var i=n(125),r=n(49);e.exports=n(66)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,n){"use strict";var i,r=n(27)(0),o=n(13),a=n(30),s=n(108),l=n(128),c=n(4),u=n(3),d=n(49),f=a.getWeak,h=Object.isExtensible,p=l.ufstore,g={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(c(e)){var t=f(e);return!0===t?p(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},y=e.exports=n(66)("WeakMap",m,v,l,!0,!0);u(function(){return 7!=(new y).set((Object.freeze||Object)(g),7).get(g)})&&(i=l.getConstructor(m,"WeakMap"),s(i.prototype,v),a.NEED=!0,r(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];o(t,e,function(t,r){if(c(t)&&!h(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},function(e,t,n){"use strict";var i=n(42),r=n(30).getWeak,o=n(1),a=n(4),s=n(40),l=n(41),c=n(27),u=n(11),d=n(49),f=c(5),h=c(6),p=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return f(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e(function(e,i){s(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=i&&l(i,n,e[o],e)});return i(c.prototype,{delete:function(e){if(!a(e))return!1;var n=r(e);return!0===n?g(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=r(e);return!0===n?g(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var i=r(o(t),!0);return!0===i?g(e).set(t,n):i[e._i]=n,e},ufstore:g}},function(e,t,n){var i=n(25),r=n(8);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var i=n(38),r=n(59),o=n(1),a=n(2).Reflect;e.exports=a&&a.ownKeys||function(e){var t=i.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function i(e,t,n,c,u,d,f,h){for(var p,g,m=u,v=0,y=!!f&&s(f,h,3);v<c;){if(v in n){if(p=y?y(n[v],v,t):n[v],g=!1,o(p)&&(g=p[l],g=void 0!==g?!!g:r(p)),g&&d>0)m=i(e,t,p,a(p.length),m,d-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=p}m++}v++}return m}var r=n(60),o=n(4),a=n(8),s=n(19),l=n(5)("isConcatSpreadable");e.exports=i},function(e,t,n){var i=n(8),r=n(80),o=n(24);e.exports=function(e,t,n,a){var s=String(o(e)),l=s.length,c=void 0===n?" ":String(n),u=i(t);if(u<=l||""==c)return s;var d=u-l,f=r.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},function(e,t,n){var i=n(35),r=n(16),o=n(54).f;e.exports=function(e){return function(t){for(var n,a=r(t),s=i(a),l=s.length,c=0,u=[];l>c;)o.call(a,n=s[c++])&&u.push(e?[n,a[n]]:a[n]);return u}}},function(e,t,n){var i=n(55),r=n(135);e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,n){var i=n(41);e.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,i,r){return 0===arguments.length||e!=e||t!=t||n!=n||i!=i||r!=r?NaN:e===1/0||e===-1/0?e:(e-t)*(r-i)/(n-t)+i}},function(e,t,n){!function(e){!function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(i&&"/"==n){t.tokenize=null;break}i="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function i(e,t){return p=t,e}function r(e,t){var n=e.next();if(v[n]){var r=v[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?i(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),i("atom","hash")):"!"==n?(e.match(/^\s*\w*/),i("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),i("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=a,i("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),i("property","word")):i(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),i("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?i("variable-2","variable-definition"):i("variable-2","variable")):e.match(/^\w+-/)?i("meta","meta"):void 0}function o(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),i("string","string")}}function a(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),i(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n,i){return e.context=new s(n,t.indentation()+(!1===i?0:m),e.context),n}function c(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function u(e,t,n){return D[n.context.type](e,t,n)}function d(e,t,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return u(e,t,n)}function f(e){var t=e.current().toLowerCase();g=T.hasOwnProperty(t)?"atom":_.hasOwnProperty(t)?"keyword":"variable"}var h=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var p,g,m=t.indentUnit,v=n.tokenHooks,y=n.documentTypes||{},b=n.mediaTypes||{},w=n.mediaFeatures||{},x=n.mediaValueKeywords||{},k=n.propertyKeywords||{},C=n.nonStandardPropertyKeywords||{},$=n.fontProperties||{},S=n.counterDescriptors||{},_=n.colorKeywords||{},T=n.valueKeywords||{},A=n.allowNested,E=n.lineComment,M=!0===n.supportsAtComponent,D={};return D.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return c(n);if(M&&/@component/.test(e))return l(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return l(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return l(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)g="builtin";else if("word"==e)g="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(A&&"("==e)return l(n,t,"parens")}return n.context.type},D.block=function(e,t,n){if("word"==e){var i=t.current().toLowerCase();return k.hasOwnProperty(i)?(g="property","maybeprop"):C.hasOwnProperty(i)?(g="string-2","maybeprop"):A?(g=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(g+=" error","maybeprop")}return"meta"==e?"block":A||"hash"!=e&&"qualifier"!=e?D.top(e,t,n):(g="error","block")},D.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):u(e,t,n)},D.prop=function(e,t,n){if(";"==e)return c(n);if("{"==e&&A)return l(n,t,"propBlock");if("}"==e||"{"==e)return d(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)f(t);else if("interpolation"==e)return l(n,t,"interpolation")}else g+=" error";return"prop"},D.propBlock=function(e,t,n){return"}"==e?c(n):"word"==e?(g="property","maybeprop"):n.context.type},D.parens=function(e,t,n){return"{"==e||"}"==e?d(e,t,n):")"==e?c(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&f(t),"parens")},D.pseudo=function(e,t,n){return"meta"==e?"pseudo":"word"==e?(g="variable-3",n.context.type):u(e,t,n)},D.documentTypes=function(e,t,n){return"word"==e&&y.hasOwnProperty(t.current())?(g="tag",n.context.type):D.atBlock(e,t,n)},D.atBlock=function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e||";"==e)return d(e,t,n);if("{"==e)return c(n)&&l(n,t,A?"block":"top");if("interpolation"==e)return l(n,t,"interpolation");if("word"==e){var i=t.current().toLowerCase();g="only"==i||"not"==i||"and"==i||"or"==i?"keyword":b.hasOwnProperty(i)?"attribute":w.hasOwnProperty(i)?"property":x.hasOwnProperty(i)?"keyword":k.hasOwnProperty(i)?"property":C.hasOwnProperty(i)?"string-2":T.hasOwnProperty(i)?"atom":_.hasOwnProperty(i)?"keyword":"error"}return n.context.type},D.atComponentBlock=function(e,t,n){return"}"==e?d(e,t,n):"{"==e?c(n)&&l(n,t,A?"block":"top",!1):("word"==e&&(g="error"),n.context.type)},D.atBlock_parens=function(e,t,n){return")"==e?c(n):"{"==e||"}"==e?d(e,t,n,2):D.atBlock(e,t,n)},D.restricted_atBlock_before=function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(g="variable","restricted_atBlock_before"):u(e,t,n)},D.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,c(n)):"word"==e?(g="@font-face"==n.stateArg&&!$.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!S.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},D.keyframes=function(e,t,n){return"word"==e?(g="variable","keyframes"):"{"==e?l(n,t,"top"):u(e,t,n)},D.at=function(e,t,n){return";"==e?c(n):"{"==e||"}"==e?d(e,t,n):("word"==e?g="tag":"hash"==e&&(g="builtin"),"at")},D.interpolation=function(e,t,n){return"}"==e?c(n):"{"==e||";"==e?d(e,t,n):("word"==e?g="variable":"variable"!=e&&"("!=e&&")"!=e&&(g="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:h?"block":"top",stateArg:null,context:new s(h?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||r)(e,t);return n&&"object"==typeof n&&(p=n[1],n=n[0]),g=n,"comment"!=p&&(t.state=D[t.state](p,e,t)),g},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),n.prev&&("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=i||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"atBlock"!=n.type)||(r=Math.max(0,n.indent-m)):(n=n.prev,r=n.indent)),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:E,fold:"brace"}});var i=["domain","regexp","url","url-prefix"],r=t(i),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(o),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(s),c=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=t(c),d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],f=t(d),h=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],p=t(h),g=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],m=t(g),v=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],y=t(v),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],w=t(b),x=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],k=t(x),C=i.concat(o).concat(s).concat(c).concat(d).concat(h).concat(b).concat(x);e.registerHelper("hintWords","css",C),e.defineMIME("text/css",{documentTypes:r,mediaTypes:a,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:f,nonStandardPropertyKeywords:p,fontProperties:m,counterDescriptors:y,colorKeywords:w,valueKeywords:k,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:f,nonStandardPropertyKeywords:p,colorKeywords:w,valueKeywords:k,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:f,nonStandardPropertyKeywords:p,colorKeywords:w,valueKeywords:k,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:a,mediaFeatures:l,propertyKeywords:f,nonStandardPropertyKeywords:p,fontProperties:m,counterDescriptors:y,colorKeywords:w,valueKeywords:k,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css",helperType:"gss"})}(n(15))}()},function(e,t,n){!function(e){!function(e){"use strict";e.defineMode("javascript",function(t,n){function i(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}function r(e,t,n){return Ee=e,Me=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==n&&e.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if("="==n&&e.eat(">"))return r("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),r("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),r("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),r("comment","comment")):Ae(e,t,1)?(i(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),r("regexp","string-2")):(e.eat("="),r("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),r("error","error");if(je.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),r("operator","operator",e.current());if(Le.test(n)){e.eatWhile(Le);var o=e.current();if("."!=t.lastType){if(Re.propertyIsEnumerable(o)){var c=Re[o];return r(c.type,c.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return r("async","keyword",o)}return r("variable","variable",o)}}function a(e){return function(t,n){var i,a=!1;if(Oe&&"@"==t.peek()&&t.match(Fe))return n.tokenize=o,r("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||a);)a=!a&&"\\"==i;return a||(n.tokenize=o),r("string","string")}}function s(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=o;break}i="*"==n}return r("comment","comment")}function l(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}i=!i&&"\\"==n}return r("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(Pe){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));i&&(n=i.index)}for(var r=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=He.indexOf(s);if(l>=0&&l<3){if(!r){++a;break}if(0==--r){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++r;else if(Le.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!r){++a;break}}}o&&!r&&(t.fatArrowAt=a)}}function u(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function d(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==t)return!0}function f(e,t,n,i,r){var o=e.cc;for(Be.state=e,Be.stream=r,Be.marked=null,Be.cc=o,Be.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():Ne?k:x)(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Be.marked?Be.marked:"variable"==n&&d(e,i)?"variable-2":t}}function h(){for(var e=arguments.length-1;e>=0;e--)Be.cc.push(arguments[e])}function p(){return h.apply(null,arguments),!0}function g(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var i=Be.state;if(Be.marked="def",i.context){if(t(i.localVars))return;i.localVars={name:e,next:i.localVars}}else{if(t(i.globalVars))return;n.globalVars&&(i.globalVars={name:e,next:i.globalVars})}}function m(){Be.state.context={prev:Be.state.context,vars:Be.state.localVars},Be.state.localVars=We}function v(){Be.state.localVars=Be.state.context.vars,Be.state.context=Be.state.context.prev}function y(e,t){var n=function(){var n=Be.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new u(i,Be.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Be.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?p():";"==e?h():p(t)}return t}function x(e,t){return"var"==e?p(y("vardef",t.length),te,w(";"),b):"keyword a"==e?p(y("form"),$,x,b):"keyword b"==e?p(y("form"),x,b):"keyword d"==e?Be.stream.match(/^\s*$/,!1)?p():p(y("stat"),_,w(";"),b):"debugger"==e?p(w(";")):"{"==e?p(y("}"),W,b):";"==e?p():"if"==e?("else"==Be.state.lexical.info&&Be.state.cc[Be.state.cc.length-1]==b&&Be.state.cc.pop()(),p(y("form"),$,x,b,ae)):"function"==e?p(fe):"for"==e?p(y("form"),se,x,b):"variable"==e?Pe&&"type"==t?(Be.marked="keyword",p(K,w("operator"),K,w(";"))):Pe&&"declare"==t?(Be.marked="keyword",p(x)):Pe&&("module"==t||"enum"==t)&&Be.stream.match(/^\s*\w/,!1)?(Be.marked="keyword",p(y("form"),ne,w("{"),y("}"),W,b,b)):p(y("stat"),L):"switch"==e?p(y("form"),$,w("{"),y("}","switch"),W,b,b):"case"==e?p(k,w(":")):"default"==e?p(w(":")):"catch"==e?p(y("form"),m,w("("),he,w(")"),x,b,v):"class"==e?p(y("form"),ge,b):"export"==e?p(y("stat"),be,b):"import"==e?p(y("stat"),xe,b):"async"==e?p(x):"@"==t?p(k,x):h(y("stat"),k,w(";"),b)}function k(e){return S(e,!1)}function C(e){return S(e,!0)}function $(e){return"("!=e?h():p(y(")"),k,w(")"),b)}function S(e,t){if(Be.state.fatArrowAt==Be.stream.start){var n=t?I:D;if("("==e)return p(m,y(")"),z(he,")"),b,w("=>"),n,v);if("variable"==e)return h(m,ne,w("=>"),n,v)}var i=t?A:T;return ze.hasOwnProperty(e)?p(i):"function"==e?p(fe,i):"class"==e?p(y("form"),pe,b):"keyword c"==e||"async"==e?p(t?C:k):"("==e?p(y(")"),_,w(")"),b,i):"operator"==e||"spread"==e?p(t?C:k):"["==e?p(y("]"),_e,b,i):"{"==e?B(j,"}",null,i):"quasi"==e?h(E,i):"new"==e?p(O(t)):p()}function _(e){return e.match(/[;\}\)\],]/)?h():h(k)}function T(e,t){return","==e?p(k):A(e,t,!1)}function A(e,t,n){var i=0==n?T:A,r=0==n?k:C;return"=>"==e?p(m,n?I:D,v):"operator"==e?/\+\+|--/.test(t)||Pe&&"!"==t?p(i):Pe&&"<"==t&&Be.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?p(y(">"),z(K,">"),b,i):"?"==t?p(k,w(":"),r):p(r):"quasi"==e?h(E,i):";"!=e?"("==e?B(C,")","call",i):"."==e?p(R,i):"["==e?p(y("]"),_,w("]"),b,i):Pe&&"as"==t?(Be.marked="keyword",p(K,i)):"regexp"==e?(Be.state.lastType=Be.marked="operator",Be.stream.backUp(Be.stream.pos-Be.stream.start-1),p(r)):void 0:void 0}function E(e,t){return"quasi"!=e?h():"${"!=t.slice(t.length-2)?p(E):p(k,M)}function M(e){if("}"==e)return Be.marked="string-2",Be.state.tokenize=l,p(E)}function D(e){return c(Be.stream,Be.state),h("{"==e?x:k)}function I(e){return c(Be.stream,Be.state),h("{"==e?x:C)}function O(e){return function(t){return"."==t?p(e?P:N):"variable"==t&&Pe?p(J,e?A:T):h(e?C:k)}}function N(e,t){if("target"==t)return Be.marked="keyword",p(T)}function P(e,t){if("target"==t)return Be.marked="keyword",p(A)}function L(e){return":"==e?p(b,x):h(T,w(";"),b)}function R(e){if("variable"==e)return Be.marked="property",p()}function j(e,t){if("async"==e)return Be.marked="property",p(j);if("variable"==e||"keyword"==Be.style){if(Be.marked="property","get"==t||"set"==t)return p(F);var n;return Pe&&Be.state.fatArrowAt==Be.stream.start&&(n=Be.stream.match(/^\s*:\s*/,!1))&&(Be.state.fatArrowAt=Be.stream.pos+n[0].length),p(H)}return"number"==e||"string"==e?(Be.marked=Oe?"property":Be.style+" property",p(H)):"jsonld-keyword"==e?p(H):"modifier"==e?p(j):"["==e?p(k,w("]"),H):"spread"==e?p(C,H):"*"==t?(Be.marked="keyword",p(j)):":"==e?h(H):void 0}function F(e){return"variable"!=e?h(H):(Be.marked="property",p(fe))}function H(e){return":"==e?p(C):"("==e?h(fe):void 0}function z(e,t,n){function i(r,o){if(n?n.indexOf(r)>-1:","==r){var a=Be.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),p(function(n,i){return n==t||i==t?h():h(e)},i)}return r==t||o==t?p():p(w(t))}return function(n,r){return n==t||r==t?p():h(e,i)}}function B(e,t,n){for(var i=3;i<arguments.length;i++)Be.cc.push(arguments[i]);return p(y(t,n),z(e,t),b)}function W(e){return"}"==e?p():h(x,W)}function U(e,t){if(Pe){if(":"==e)return p(K);if("?"==t)return p(U)}}function q(e){if(Pe&&":"==e)return Be.stream.match(/^\s*\w+\s+is\b/,!1)?p(k,V,K):p(K)}function V(e,t){if("is"==t)return Be.marked="keyword",p()}function K(e,t){return"variable"==e||"void"==t?"keyof"==t?(Be.marked="keyword",p(K)):(Be.marked="type",p(Q)):"string"==e||"number"==e||"atom"==e?p(Q):"["==e?p(y("]"),z(K,"]",","),b,Q):"{"==e?p(y("}"),z(Y,"}",",;"),b,Q):"("==e?p(z(X,")"),G):void 0}function G(e){if("=>"==e)return p(K)}function Y(e,t){return"variable"==e||"keyword"==Be.style?(Be.marked="property",p(Y)):"?"==t?p(Y):":"==e?p(K):"["==e?p(k,U,w("]"),Y):void 0}function X(e){return"variable"==e?p(X):":"==e?p(K):void 0}function Q(e,t){return"<"==t?p(y(">"),z(K,">"),b,Q):"|"==t||"."==e?p(K):"["==e?p(w("]"),Q):"extends"==t?p(K):void 0}function J(e,t){if("<"==t)return p(y(">"),z(K,">"),b,Q)}function Z(){return h(K,ee)}function ee(e,t){if("="==t)return p(K)}function te(){return h(ne,U,re,oe)}function ne(e,t){return"modifier"==e?p(ne):"variable"==e?(g(t),p()):"spread"==e?p(ne):"["==e?B(ne,"]"):"{"==e?B(ie,"}"):void 0}function ie(e,t){return"variable"!=e||Be.stream.match(/^\s*:/,!1)?("variable"==e&&(Be.marked="property"),"spread"==e?p(ne):"}"==e?h():p(w(":"),ne,re)):(g(t),p(re))}function re(e,t){if("="==t)return p(C)}function oe(e){if(","==e)return p(te)}function ae(e,t){if("keyword b"==e&&"else"==t)return p(y("form","else"),x,b)}function se(e){if("("==e)return p(y(")"),le,w(")"),b)}function le(e){return"var"==e?p(te,w(";"),ue):";"==e?p(ue):"variable"==e?p(ce):h(k,w(";"),ue)}function ce(e,t){return"in"==t||"of"==t?(Be.marked="keyword",p(k)):p(T,ue)}function ue(e,t){return";"==e?p(de):"in"==t||"of"==t?(Be.marked="keyword",p(k)):h(k,w(";"),de)}function de(e){")"!=e&&p(k)}function fe(e,t){return"*"==t?(Be.marked="keyword",p(fe)):"variable"==e?(g(t),p(fe)):"("==e?p(m,y(")"),z(he,")"),b,q,x,v):Pe&&"<"==t?p(y(">"),z(Z,">"),b,fe):void 0}function he(e,t){return"@"==t&&p(k,he),"spread"==e||"modifier"==e?p(he):h(ne,U,re)}function pe(e,t){return"variable"==e?ge(e,t):me(e,t)}function ge(e,t){if("variable"==e)return g(t),p(me)}function me(e,t){return"<"==t?p(y(">"),z(Z,">"),b,me):"extends"==t||"implements"==t||Pe&&","==e?p(Pe?K:k,me):"{"==e?p(y("}"),ve,b):void 0}function ve(e,t){return"modifier"==e||"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t)&&Be.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Be.marked="keyword",p(ve)):"variable"==e||"keyword"==Be.style?(Be.marked="property",p(Pe?ye:fe,ve)):"["==e?p(k,w("]"),Pe?ye:fe,ve):"*"==t?(Be.marked="keyword",p(ve)):";"==e?p(ve):"}"==e?p():"@"==t?p(k,ve):void 0}function ye(e,t){return"?"==t?p(ye):":"==e?p(K,re):"="==t?p(C):h(fe)}function be(e,t){return"*"==t?(Be.marked="keyword",p(Se,w(";"))):"default"==t?(Be.marked="keyword",p(k,w(";"))):"{"==e?p(z(we,"}"),Se,w(";")):h(x)}function we(e,t){return"as"==t?(Be.marked="keyword",p(w("variable"))):"variable"==e?h(C,we):void 0}function xe(e){return"string"==e?p():h(ke,Ce,Se)}function ke(e,t){return"{"==e?B(ke,"}"):("variable"==e&&g(t),"*"==t&&(Be.marked="keyword"),p($e))}function Ce(e){if(","==e)return p(ke,Ce)}function $e(e,t){if("as"==t)return Be.marked="keyword",p(ke)}function Se(e,t){if("from"==t)return Be.marked="keyword",p(k)}function _e(e){return"]"==e?p():h(z(C,"]"))}function Te(e,t){return"operator"==e.lastType||","==e.lastType||je.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Ae(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var Ee,Me,De=t.indentUnit,Ie=n.statementIndent,Oe=n.jsonld,Ne=n.json||Oe,Pe=n.typescript,Le=n.wordCharacters||/[\w$\xa1-\uffff]/,Re=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"},s={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e("new"),delete:i,void:i,throw:i,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:i,export:e("export"),import:e("import"),extends:i,await:i};if(Pe){var l={type:"variable",style:"type"},c={interface:e("class"),implements:i,namespace:i,public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),readonly:e("modifier"),string:l,number:l,boolean:l,any:l};for(var u in c)s[u]=c[u]}return s}(),je=/[+\-*&%=<>!?|~^@]/,Fe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,He="([{}])",ze={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Be={state:null,column:null,marked:null,cc:null},We={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new u((e||0)-De,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Ee?n:(t.lastType="operator"!=Ee||"++"!=Me&&"--"!=Me?Ee:"incdec",f(t,n,Ee,Me,e))},indent:function(t,i){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var r,a=i&&i.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(i))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==b)l=l.prev;else if(u!=ae)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(r=t.cc[t.cc.length-1])&&(r==T||r==A)&&!/^[,\.=+\-*:?[\(]/.test(i));)l=l.prev;Ie&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,f=a==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info+1:0):"form"==d&&"{"==a?l.indented:"form"==d?l.indented+De:"stat"==d?l.indented+(Te(t,i)?Ie||De:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:De):l.indented+(/^(?:case|default)\b/.test(i)?De:2*De)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ne?null:"/*",blockCommentEnd:Ne?null:"*/",blockCommentContinue:Ne?null:" * ",lineComment:Ne?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Ne?"json":"javascript",jsonldMode:Oe,jsonMode:Ne,expressionAllowed:Ae,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=k&&t!=C||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(15))}()},function(e,t,n){!function(e){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(i,r){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(c(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(_=e.eat("/")?"closeTag":"openTag",t.tokenize=a,"tag bracket");if("&"==i){var r;return r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),r?"atom":"error"}return e.eatWhile(/[^&<]/),null}function a(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,_=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return _="equals",null;if("<"==n){t.tokenize=o,t.state=h,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=s(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=a;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=o;break}n.next()}return e}}function c(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=c(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=o;break}return n.tokenize=c(e-1),n.tokenize(t,n)}}return"meta"}}function u(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function d(e){e.context&&(e.context=e.context.prev)}function f(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!C.contextGrabbers.hasOwnProperty(n)||!C.contextGrabbers[n].hasOwnProperty(t))return;d(e)}}function h(e,t,n){return"openTag"==e?(n.tagStart=t.column(),p):"closeTag"==e?g:h}function p(e,t,n){return"word"==e?(n.tagName=t.current(),T="tag",y):(T="error",p)}function g(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&C.implicitlyClosed.hasOwnProperty(n.context.tagName)&&d(n),n.context&&n.context.tagName==i||!1===C.matchClosing?(T="tag",m):(T="tag error",v)}return T="error",v}function m(e,t,n){return"endTag"!=e?(T="error",m):(d(n),h)}function v(e,t,n){return T="error",m(e,t,n)}function y(e,t,n){if("word"==e)return T="attribute",b;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(i)?f(n,i):(f(n,i),n.context=new u(n,i,r==n.indented)),h}return T="error",y}function b(e,t,n){return"equals"==e?w:(C.allowMissing||(T="error"),y(e,t,n))}function w(e,t,n){return"string"==e?x:"word"==e&&C.allowUnquoted?(T="string",y):(T="error",y(e,t,n))}function x(e,t,n){return"string"==e?x:y(e,t,n)}var k=i.indentUnit,C={},$=r.htmlMode?t:n;for(var S in $)C[S]=$[S];for(var S in r)C[S]=r[S];var _,T;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:h,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;_=null;var n=t.tokenize(e,t);return(n||_)&&"comment"!=n&&(T=null,t.state=t.state(_||n,e,t),T&&(n="error"==T?n+" error":T)),n},indent:function(t,n,i){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+k;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=a&&t.tokenize!=o)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==C.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+k*(C.multilineTagIndentFactor||1);if(C.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;r;){if(r.tagName==s[2]){r=r.prev;break}if(!C.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(s)for(;r;){var l=C.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(s[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+k:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:C.htmlMode?"html":"xml",helperType:C.htmlMode?"html":"xml",skipAttribute:function(e){e.state==w&&(e.state=y)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(15))}()},function(e,t,n){!function(e){!function(e){"use strict";function t(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function n(e){return e.global?e:new RegExp(e.source,t(e)+"g")}function i(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function r(e,t,i){t=n(t);for(var r=i.line,o=i.ch,a=e.lastLine();r<=a;r++,o=0){t.lastIndex=o;var s=e.getLine(r),l=t.exec(s);if(l)return{from:g(r,l.index),to:g(r,l.index+l[0].length),match:l}}}function o(e,t,o){if(!i(t))return r(e,t,o);t=n(t);for(var a,s=1,l=o.line,c=e.lastLine();l<=c;){for(var u=0;u<s;u++){var d=e.getLine(l++);a=null==a?d:a+"\n"+d}s*=2,t.lastIndex=o.ch;var f=t.exec(a);if(f){var h=a.slice(0,f.index).split("\n"),p=f[0].split("\n"),m=o.line+h.length-1,v=h[h.length-1].length;return{from:g(m,v),to:g(m+p.length-1,1==p.length?v+p[0].length:p[p.length-1].length),match:f}}}}function a(e,t){for(var n,i=0;;){t.lastIndex=i;var r=t.exec(e);if(!r)return n;if(n=r,(i=n.index+(n[0].length||1))==e.length)return n}}function s(e,t,i){t=n(t);for(var r=i.line,o=i.ch,s=e.firstLine();r>=s;r--,o=-1){var l=e.getLine(r);o>-1&&(l=l.slice(0,o));var c=a(l,t);if(c)return{from:g(r,c.index),to:g(r,c.index+c[0].length),match:c}}}function l(e,t,i){t=n(t);for(var r,o=1,s=i.line,l=e.firstLine();s>=l;){for(var c=0;c<o;c++){var u=e.getLine(s--);r=null==r?u.slice(0,i.ch):u+"\n"+r}o*=2;var d=a(r,t);if(d){var f=r.slice(0,d.index).split("\n"),h=d[0].split("\n"),p=s+f.length,m=f[f.length-1].length;return{from:g(p,m),to:g(p+h.length-1,1==h.length?m+h[0].length:h[h.length-1].length),match:d}}}}function c(e,t,n,i){if(e.length==t.length)return n;for(var r=0,o=n+Math.max(0,e.length-t.length);;){if(r==o)return r;var a=r+o>>1,s=i(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:r=a+1}}function u(e,t,n,i){if(!t.length)return null;var r=i?h:p,o=r(t).split(/\r|\n\r?/);e:for(var a=n.line,s=n.ch,l=e.lastLine()+1-o.length;a<=l;a++,s=0){var u=e.getLine(a).slice(s),d=r(u);if(1==o.length){var f=d.indexOf(o[0]);if(-1==f)continue e;var n=c(u,d,f,r)+s;return{from:g(a,c(u,d,f,r)+s),to:g(a,c(u,d,f+o[0].length,r)+s)}}var m=d.length-o[0].length;if(d.slice(m)==o[0]){for(var v=1;v<o.length-1;v++)if(r(e.getLine(a+v))!=o[v])continue e;var y=e.getLine(a+o.length-1),b=r(y),w=o[o.length-1];if(b.slice(0,w.length)==w)return{from:g(a,c(u,d,m,r)+s),to:g(a+o.length-1,c(y,b,w.length,r))}}}}function d(e,t,n,i){if(!t.length)return null;var r=i?h:p,o=r(t).split(/\r|\n\r?/);e:for(var a=n.line,s=n.ch,l=e.firstLine()-1+o.length;a>=l;a--,s=-1){var u=e.getLine(a);s>-1&&(u=u.slice(0,s));var d=r(u);if(1==o.length){var f=d.lastIndexOf(o[0]);if(-1==f)continue e;return{from:g(a,c(u,d,f,r)),to:g(a,c(u,d,f+o[0].length,r))}}var m=o[o.length-1];if(d.slice(0,m.length)==m){for(var v=1,n=a-o.length+1;v<o.length-1;v++)if(r(e.getLine(n+v))!=o[v])continue e;var y=e.getLine(a+1-o.length),b=r(y);if(b.slice(b.length-o[0].length)==o[0])return{from:g(a+1-o.length,c(y,b,y.length-o[0].length,r)),to:g(a,c(u,d,m.length,r))}}}}function f(e,t,i,a){this.atOccurrence=!1,this.doc=e,i=i?e.clipPos(i):g(0,0),this.pos={from:i,to:i};var c;"object"==typeof a?c=a.caseFold:(c=a,a=null),"string"==typeof t?(null==c&&(c=!1),this.matches=function(n,i){return(n?d:u)(e,t,i,c)}):(t=n(t),a&&!1===a.multiline?this.matches=function(n,i){return(n?s:r)(e,t,i)}:this.matches=function(n,i){return(n?l:o)(e,t,i)})}var h,p,g=e.Pos;String.prototype.normalize?(h=function(e){return e.normalize("NFD").toLowerCase()},p=function(e){return e.normalize("NFD")}):(h=function(e){return e.toLowerCase()},p=function(e){return e}),f.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=g(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(g(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=g(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,g(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=g(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=g(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new f(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new f(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})}(n(15))}()},function(e,t,n){!function(e){!function(e){function t(e,t,i){var r=e.getLineHandle(t.line),o=t.ch-1,l=i&&i.afterCursor;null==l&&(l=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=!l&&o>=0&&s[r.text.charAt(o)]||s[r.text.charAt(++o)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(i&&i.strict&&u>0!=(o==t.ch))return null;var d=e.getTokenTypeAt(a(t.line,o+1)),f=n(e,a(t.line,o+(u>0?1:0)),u,d||null,i);return null==f?null:{from:a(t.line,o),to:f&&f.pos,match:f&&f.ch==c.charAt(0),forward:u>0}}function n(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,c=[],u=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,d=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),f=t.line;f!=d;f+=n){var h=e.getLine(f);if(h){var p=n>0?0:h.length-1,g=n>0?h.length:-1;if(!(h.length>o))for(f==t.line&&(p=t.ch-(n<0?1:0));p!=g;p+=n){var m=h.charAt(p);if(u.test(m)&&(void 0===i||e.getTokenTypeAt(a(f,p+1))==i)){var v=s[m];if(">"==v.charAt(1)==n>0)c.push(m);else{if(!c.length)return{pos:a(f,p),ch:m};c.pop()}}}}}return f-n!=(n>0?e.lastLine():e.firstLine())&&null}function i(e,n,i){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&t(e,l[c].head,i);if(u&&e.getLine(u.from.line).length<=r){var d=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(u.from,a(u.from.line,u.from.ch+1),{className:d})),u.to&&e.getLine(u.to.line).length<=r&&s.push(e.markText(u.to,a(u.to.line,u.to.ch+1),{className:d}))}}if(s.length){o&&e.state.focused&&e.focus();var f=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!n)return f;setTimeout(f,800)}}function r(e){e.operation(function(){l&&(l(),l=null),l=i(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),a=e.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&(t.off("cursorActivity",r),l&&(l(),l=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",r))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,i){return(i||"boolean"==typeof n)&&(i?(i.strict=n,n=i):n=n?{strict:!0}:null),t(this,e,n)}),e.defineExtension("scanForBracket",function(e,t,i,r){return n(this,e,t,i,r)})}(n(15))}()},function(e,t,n){var i,r;(function(){function n(e){function t(t,n,i,r,o,a){for(;o>=0&&o<a;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=C(i,o,4);var a=!M(n)&&k.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=e),t(n,i,r,a,l,s)}}function o(e){return function(t,n,i){n=$(n,i);for(var r=E(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function a(e,t,n){return function(i,r,o){var a=0,s=E(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(p.call(i,a,s),k.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(i[o]===r)return o;return-1}}function s(e,t){var n=P.length,i=e.constructor,r=k.isFunction(i)&&i.prototype||d,o="constructor";for(k.has(e,o)&&!k.contains(t,o)&&t.push(o);n--;)(o=P[n])in e&&e[o]!==r[o]&&!k.contains(t,o)&&t.push(o)}var l=this,c=l._,u=Array.prototype,d=Object.prototype,f=Function.prototype,h=u.push,p=u.slice,g=d.toString,m=d.hasOwnProperty,v=Array.isArray,y=Object.keys,b=f.bind,w=Object.create,x=function(){},k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};void 0!==e&&e.exports&&(t=e.exports=k),t._=k,k.VERSION="1.8.3";var C=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},$=function(e,t,n){return null==e?k.identity:k.isFunction(e)?C(e,t,n):k.isObject(e)?k.matcher(e):k.property(e)};k.iteratee=function(e,t){return $(e,t,1/0)};var S=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},_=function(e){if(!k.isObject(e))return{};if(w)return w(e);x.prototype=e;var t=new x;return x.prototype=null,t},T=function(e){return function(t){return null==t?void 0:t[e]}},A=Math.pow(2,53)-1,E=T("length"),M=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=A};k.each=k.forEach=function(e,t,n){t=C(t,n);var i,r;if(M(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=k.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},k.map=k.collect=function(e,t,n){t=$(t,n);for(var i=!M(e)&&k.keys(e),r=(i||e).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},k.reduce=k.foldl=k.inject=n(1),k.reduceRight=k.foldr=n(-1),k.find=k.detect=function(e,t,n){var i;if(void 0!==(i=M(e)?k.findIndex(e,t,n):k.findKey(e,t,n))&&-1!==i)return e[i]},k.filter=k.select=function(e,t,n){var i=[];return t=$(t,n),k.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},k.reject=function(e,t,n){return k.filter(e,k.negate($(t)),n)},k.every=k.all=function(e,t,n){t=$(t,n);for(var i=!M(e)&&k.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},k.some=k.any=function(e,t,n){t=$(t,n);for(var i=!M(e)&&k.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},k.contains=k.includes=k.include=function(e,t,n,i){return M(e)||(e=k.values(e)),("number"!=typeof n||i)&&(n=0),k.indexOf(e,t,n)>=0},k.invoke=function(e,t){var n=p.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matcher(t))},k.findWhere=function(e,t){return k.find(e,k.matcher(t))},k.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e){e=M(e)?e:k.values(e);for(var s=0,l=e.length;s<l;s++)(i=e[s])>o&&(o=i)}else t=$(t,n),k.each(e,function(e,n,i){((r=t(e,n,i))>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},k.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=M(e)?e:k.values(e);for(var s=0,l=e.length;s<l;s++)(i=e[s])<o&&(o=i)}else t=$(t,n),k.each(e,function(e,n,i){((r=t(e,n,i))<a||r===1/0&&o===1/0)&&(o=e,a=r)});return o},k.shuffle=function(e){for(var t,n=M(e)?e:k.values(e),i=n.length,r=Array(i),o=0;o<i;o++)t=k.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},k.sample=function(e,t,n){return null==t||n?(M(e)||(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))},k.sortBy=function(e,t,n){return t=$(t,n),k.pluck(k.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,i){var r={};return n=$(n,i),k.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};k.groupBy=D(function(e,t,n){k.has(e,n)?e[n].push(t):e[n]=[t]}),k.indexBy=D(function(e,t,n){e[n]=t}),k.countBy=D(function(e,t,n){k.has(e,n)?e[n]++:e[n]=1}),k.toArray=function(e){return e?k.isArray(e)?p.call(e):M(e)?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:M(e)?e.length:k.keys(e).length},k.partition=function(e,t,n){t=$(t,n);var i=[],r=[];return k.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},k.first=k.head=k.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:k.initial(e,e.length-t)},k.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},k.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:k.rest(e,Math.max(0,e.length-t))},k.rest=k.tail=k.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var I=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=E(e);a<s;a++){var l=e[a];if(M(l)&&(k.isArray(l)||k.isArguments(l))){t||(l=I(l,t,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};k.flatten=function(e,t){return I(e,t,!1)},k.without=function(e){return k.difference(e,p.call(arguments,1))},k.uniq=k.unique=function(e,t,n,i){k.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=$(n,i));for(var r=[],o=[],a=0,s=E(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t?(a&&o===c||r.push(l),o=c):n?k.contains(o,c)||(o.push(c),r.push(l)):k.contains(r,l)||r.push(l)}return r},k.union=function(){return k.uniq(I(arguments,!0,!0))},k.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=E(e);i<r;i++){var o=e[i];if(!k.contains(t,o)){for(var a=1;a<n&&k.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},k.difference=function(e){var t=I(arguments,!0,!0,1);return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(e){for(var t=e&&k.max(e,E).length||0,n=Array(t),i=0;i<t;i++)n[i]=k.pluck(e,i);return n},k.object=function(e,t){for(var n={},i=0,r=E(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.findIndex=o(1),k.findLastIndex=o(-1),k.sortedIndex=function(e,t,n,i){n=$(n,i,1);for(var r=n(t),o=0,a=E(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},k.indexOf=a(1,k.findIndex,k.sortedIndex),k.lastIndexOf=a(-1,k.findLastIndex),k.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var O=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=_(e.prototype),a=e.apply(o,r);return k.isObject(a)?a:o};k.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,p.call(arguments,1));if(!k.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return O(e,i,t,this,n.concat(p.call(arguments)))};return i},k.partial=function(e){var t=p.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;a<r;a++)o[a]=t[a]===k?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return O(e,n,this,this,o)};return n},k.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=k.bind(e[n],e);return e},k.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return k.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},k.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=k.partial(k.delay,k,1),k.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:k.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var c=k.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return i=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(l,u)),o}},k.debounce=function(e,t,n){var i,r,o,a,s,l=function(){var c=k.now()-a;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=k.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(o,r),o=r=null),s}},k.wrap=function(e,t){return k.partial(t,e)},k.negate=function(e){return function(){return!e.apply(this,arguments)}},k.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},k.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},k.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},k.once=k.partial(k.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(e){if(!k.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return N&&s(e,t),t},k.allKeys=function(e){if(!k.isObject(e))return[];var t=[];for(var n in e)t.push(n);return N&&s(e,t),t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},k.mapObject=function(e,t,n){t=$(t,n);for(var i,r=k.keys(e),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=t(e[i],i,e);return a},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=S(k.allKeys),k.extendOwn=k.assign=S(k.keys),k.findKey=function(e,t,n){t=$(t,n);for(var i,r=k.keys(e),o=0,a=r.length;o<a;o++)if(i=r[o],t(e[i],i,e))return i},k.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;k.isFunction(t)?(r=k.allKeys(a),i=C(t,n)):(r=I(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=r.length;s<l;s++){var c=r[s],u=a[c];i(u,c,a)&&(o[c]=u)}return o},k.omit=function(e,t,n){if(k.isFunction(t))t=k.negate(t);else{var i=k.map(I(arguments,!1,!1,1),String);t=function(e,t){return!k.contains(i,t)}}return k.pick(e,t,n)},k.defaults=S(k.allKeys,!0),k.create=function(e,t){var n=_(e);return t&&k.extendOwn(n,t),n},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e},k.isMatch=function(e,t){var n=k.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var L=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=g.call(e);if(r!==g.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!L(e[l],t[l],n,i))return!1}else{var c,u=k.keys(e);if(l=u.length,k.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!k.has(t,c)||!L(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};k.isEqual=function(e,t){return L(e,t)},k.isEmpty=function(e){return null==e||(M(e)&&(k.isArray(e)||k.isString(e)||k.isArguments(e))?0===e.length:0===k.keys(e).length)},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=v||function(e){return"[object Array]"===g.call(e)},k.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){k["is"+e]=function(t){return g.call(t)==="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return k.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(e){return"function"==typeof e||!1}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!==+e},k.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===g.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return null!=e&&m.call(e,t)},k.noConflict=function(){return l._=c,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.noop=function(){},k.property=T,k.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},k.matcher=k.matches=function(e){return e=k.extendOwn({},e),function(t){return k.isMatch(t,e)}},k.times=function(e,t,n){var i=Array(Math.max(0,e));t=C(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=k.invert(R),F=function(e){var t=function(t){return e[t]},n="(?:"+k.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};k.escape=F(R),k.unescape=F(j),k.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),k.isFunction(i)?i.call(e):i};var H=0;k.uniqueId=function(e){var t=++H+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,U=function(e){return"\\"+B[e]};k.template=function(e,t,n){!t&&n&&(t=n),t=k.defaults({},t,k.templateSettings);var i=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(W,U),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,k)};return s.source="function("+(t.variable||"obj")+"){\n"+o+"}",s},k.chain=function(e){var t=k(e);return t._chain=!0,t};var q=function(e,t){return e._chain?k(t).chain():t};k.mixin=function(e){k.each(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),q(this,n.apply(k,e))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],q(this,n)}}),k.each(["concat","join","slice"],function(e){var t=u[e];k.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},i=[],void 0!==(r=function(){return k}.apply(t,i))&&(e.exports=r)}).call(this)},function(e,t,n){n(377),e.exports="ngFileUpload"},function(e,t,n){"use strict";function i(e){var t;return"WebSocket"in e?t=WebSocket:"MozWebSocket"in e&&(t=MozWebSocket),t?function(e){return new t(e)}:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$window"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(420),o=i(r);n(421);var a=n(426),s=i(a);angular.module("breadboard.amt-admin").directive("amtAdmin",function(){return{restrict:"E",scope:{experiment:"=",experimentInstance:"=",onCreateHit:"&"},controller:s.default,templateUrl:o.default}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(427);var r=n(429),o=i(r),a=n(430),s=i(a);angular.module("breadboard.create-new-experiment").directive("createNewExperiment",function(){return{restrict:"E",scope:{userExperiments:"="},controller:o.default,controllerAs:"vm",templateUrl:s.default}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(431),n(45);var r=n(437),o=i(r),a=n(438),s=i(a);angular.module("breadboard.customize").directive("customize",function(){return{restrict:"E",scope:{experimentId:"=",actions:"="},link:function(e){angular.extend(e.actions,{saveCustomize:function(){e.saveCustomize()}})},controllerAs:"vm",controller:s.default,templateUrl:o.default}})},function(e,t,n){"use strict";n(463);var i=n(464),r=function(e){return e&&e.__esModule?e:{default:e}}(i);angular.module("breadboard.instance-parameters").directive("instanceParameters",function(){return{restrict:"E",scope:{instance:"="},templateUrl:r.default}})},function(e,t,n){"use strict";var i=n(56),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(143),n(44),r.default.module("breadboard.experiment-import",["ngFileUpload","breadboard.services"])},function(e,t,n){n(151),e.exports=n(353)},function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[i](e,t,{writable:!0,configurable:!0,value:n})}if(n(152),n(349),n(350),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var i="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(102))},function(e,t,n){n(153),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(233),n(234),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(93),n(257),n(258),n(121),n(259),n(260),n(261),n(262),n(263),n(124),n(126),n(127),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),e.exports=n(22)},function(e,t,n){"use strict";var i=n(2),r=n(11),o=n(6),a=n(0),s=n(13),l=n(30).KEY,c=n(3),u=n(57),d=n(46),f=n(33),h=n(5),p=n(104),g=n(73),m=n(154),v=n(60),y=n(1),b=n(4),w=n(16),x=n(23),k=n(32),C=n(37),$=n(107),S=n(17),_=n(7),T=n(35),A=S.f,E=_.f,M=$.f,D=i.Symbol,I=i.JSON,O=I&&I.stringify,N=h("_hidden"),P=h("toPrimitive"),L={}.propertyIsEnumerable,R=u("symbol-registry"),j=u("symbols"),F=u("op-symbols"),H=Object.prototype,z="function"==typeof D,B=i.QObject,W=!B||!B.prototype||!B.prototype.findChild,U=o&&c(function(){return 7!=C(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=A(H,t);i&&delete H[t],E(e,t,n),i&&e!==H&&E(H,t,i)}:E,q=function(e){var t=j[e]=C(D.prototype);return t._k=e,t},V=z&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},K=function(e,t,n){return e===H&&K(F,t,n),y(e),t=x(t,!0),y(n),r(j,t)?(n.enumerable?(r(e,N)&&e[N][t]&&(e[N][t]=!1),n=C(n,{enumerable:k(0,!1)})):(r(e,N)||E(e,N,k(1,{})),e[N][t]=!0),U(e,t,n)):E(e,t,n)},G=function(e,t){y(e);for(var n,i=m(t=w(t)),r=0,o=i.length;o>r;)K(e,n=i[r++],t[n]);return e},Y=function(e,t){return void 0===t?C(e):G(C(e),t)},X=function(e){var t=L.call(this,e=x(e,!0));return!(this===H&&r(j,e)&&!r(F,e))&&(!(t||!r(this,e)||!r(j,e)||r(this,N)&&this[N][e])||t)},Q=function(e,t){if(e=w(e),t=x(t,!0),e!==H||!r(j,t)||r(F,t)){var n=A(e,t);return!n||!r(j,t)||r(e,N)&&e[N][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=M(w(e)),i=[],o=0;n.length>o;)r(j,t=n[o++])||t==N||t==l||i.push(t);return i},Z=function(e){for(var t,n=e===H,i=M(n?F:w(e)),o=[],a=0;i.length>a;)!r(j,t=i[a++])||n&&!r(H,t)||o.push(j[t]);return o};z||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(F,n),r(this,N)&&r(this[N],e)&&(this[N][e]=!1),U(this,e,k(1,n))};return o&&W&&U(H,e,{configurable:!0,set:t}),q(e)},s(D.prototype,"toString",function(){return this._k}),S.f=Q,_.f=K,n(38).f=$.f=J,n(54).f=X,n(59).f=Z,o&&!n(34)&&s(H,"propertyIsEnumerable",X,!0),p.f=function(e){return q(h(e))}),a(a.G+a.W+a.F*!z,{Symbol:D});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=T(h.store),ie=0;ne.length>ie;)g(ne[ie++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return r(R,e+="")?R[e]:R[e]=D(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!z,"Object",{create:Y,defineProperty:K,defineProperties:G,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),I&&a(a.S+a.F*(!z||c(function(){var e=D();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(b(t)||void 0!==e)&&!V(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!V(t))return t}),i[1]=t,O.apply(I,i)}}),D.prototype[P]||n(12)(D.prototype,P,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){var i=n(35),r=n(59),o=n(54);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var i=n(0);i(i.S,"Object",{create:n(37)})},function(e,t,n){var i=n(0);i(i.S+i.F*!n(6),"Object",{defineProperty:n(7).f})},function(e,t,n){var i=n(0);i(i.S+i.F*!n(6),"Object",{defineProperties:n(106)})},function(e,t,n){var i=n(16),r=n(17).f;n(26)("getOwnPropertyDescriptor",function(){return function(e,t){return r(i(e),t)}})},function(e,t,n){var i=n(9),r=n(18);n(26)("getPrototypeOf",function(){return function(e){return r(i(e))}})},function(e,t,n){var i=n(9),r=n(35);n(26)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){n(26)("getOwnPropertyNames",function(){return n(107).f})},function(e,t,n){var i=n(4),r=n(30).onFreeze;n(26)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(4),r=n(30).onFreeze;n(26)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(4),r=n(30).onFreeze;n(26)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(4);n(26)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(4);n(26)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(4);n(26)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(e,t,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(108)})},function(e,t,n){var i=n(0);i(i.S,"Object",{is:n(170)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(77).set})},function(e,t,n){"use strict";var i=n(55),r={};r[n(5)("toStringTag")]="z",r+""!="[object z]"&&n(13)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(e,t,n){var i=n(0);i(i.P,"Function",{bind:n(109)})},function(e,t,n){var i=n(7).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(6)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var i=n(4),r=n(18),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(7).f(a,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var i=n(0),r=n(111);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(e,t,n){var i=n(0),r=n(112);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(e,t,n){"use strict";var i=n(2),r=n(11),o=n(20),a=n(79),s=n(23),l=n(3),c=n(38).f,u=n(17).f,d=n(7).f,f=n(47).trim,h=i.Number,p=h,g=h.prototype,m="Number"==o(n(37)(g)),v="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():f(t,3);var n,i,r,o=t.charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var a,l=t.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>r)return NaN;return parseInt(l,i)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(m?l(function(){g.valueOf.call(n)}):"Number"!=o(n))?a(new p(y(t)),n,h):y(t)};for(var b,w=n(6)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)r(p,b=w[x])&&!r(h,b)&&d(h,b,u(p,b));h.prototype=g,g.constructor=h,n(13)(i,"Number",h)}},function(e,t,n){"use strict";var i=n(0),r=n(25),o=n(113),a=n(80),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*c[n],c[n]=i%1e7,i=l(i/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=l(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)},g=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,i,s,l=o(this,u),c=r(e),m="",v="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(t=g(l*p(2,69,1))-69,n=t<0?l*p(2,-t,1):l/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),i=c;i>=7;)d(1e7,0),i-=7;for(d(p(10,i,1),0),i=t-1;i>=23;)f(1<<23),i-=23;f(1<<i),d(1,1),f(2),v=h()}else d(0,n),d(1<<-t,0),v=h()+a.call("0",c);return c>0?(s=v.length,v=m+(s<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c))):v=m+v,v}})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(113),a=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var i=n(0),r=n(2).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,n){var i=n(0);i(i.S,"Number",{isInteger:n(114)})},function(e,t,n){var i=n(0);i(i.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(0),r=n(114),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return r(e)&&o(e)<=9007199254740991}})},function(e,t,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(0),r=n(112);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,n){var i=n(0),r=n(111);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,n){var i=n(0),r=n(115),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+o(e-1)*o(e+1))}})},function(e,t,n){function i(e){return isFinite(e=+e)&&0!=e?e<0?-i(-e):Math.log(e+Math.sqrt(e*e+1)):e}var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:i})},function(e,t,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var i=n(0),r=n(81);i(i.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,n){var i=n(0),r=n(82);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,n){var i=n(0);i(i.S,"Math",{fround:n(116)})},function(e,t,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(e,t){for(var n,i,o=0,a=0,s=arguments.length,l=0;a<s;)n=r(arguments[a++]),l<n?(i=l/n,o=o*i*i+1,l=n):n>0?(i=n/l,o+=i*i):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,t,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(3)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var i=n(0);i(i.S,"Math",{log1p:n(115)})},function(e,t,n){var i=n(0);i(i.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var i=n(0);i(i.S,"Math",{sign:n(81)})},function(e,t,n){var i=n(0),r=n(82),o=Math.exp;i(i.S+i.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var i=n(0),r=n(82),o=Math.exp;i(i.S,"Math",{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var i=n(0);i(i.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var i=n(0),r=n(36),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,a=0;i>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var i=n(0),r=n(16),o=n(8);i(i.S,"String",{raw:function(e){for(var t=r(e.raw),n=o(t.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(47)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var i=n(83)(!0);n(84)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var i=n(0),r=n(83)(!1);i(i.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(0),r=n(8),o=n(86),a="".endsWith;i(i.P+i.F*n(87)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(t.length),s=void 0===n?i:Math.min(r(n),i),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){"use strict";var i=n(0),r=n(86);i(i.P+i.F*n(87)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(0);i(i.P,"String",{repeat:n(80)})},function(e,t,n){"use strict";var i=n(0),r=n(8),o=n(86),a="".startsWith;i(i.P+i.F*n(87)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return a?a.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){"use strict";n(14)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(14)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(14)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(14)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(14)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(14)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(14)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(14)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(14)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(14)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(14)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(14)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(14)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var i=n(0),r=n(9),o=n(23);i(i.P+i.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=r(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(0),r=n(232);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,n){"use strict";var i=n(3),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(13)(i,"toString",function(){var e=o.call(this);return e===e?r.call(this):"Invalid Date"})},function(e,t,n){var i=n(5)("toPrimitive"),r=Date.prototype;i in r||n(12)(r,i,n(235))},function(e,t,n){"use strict";var i=n(1),r=n(23);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!=e)}},function(e,t,n){var i=n(0);i(i.S,"Array",{isArray:n(60)})},function(e,t,n){"use strict";var i=n(19),r=n(0),o=n(9),a=n(117),s=n(88),l=n(8),c=n(89),u=n(90);r(r.S+r.F*!n(62)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,d,f=o(e),h="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(f);if(m&&(g=i(g,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(t=l(f.length),n=new h(t);t>v;v++)c(n,v,m?g(f[v],v):f[v]);else for(d=y.call(f),n=new h;!(r=d.next()).done;v++)c(n,v,m?a(d,g,[r.value,v],!0):r.value);return n.length=v,n}})},function(e,t,n){"use strict";var i=n(0),r=n(89);i(i.S+i.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var i=n(0),r=n(16),o=[].join;i(i.P+i.F*(n(53)!=Object||!n(21)(o)),"Array",{join:function(e){return o.call(r(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var i=n(0),r=n(76),o=n(20),a=n(36),s=n(8),l=[].slice;i(i.P+i.F*n(3)(function(){r&&l.call(r)}),"Array",{slice:function(e,t){var n=s(this.length),i=o(this);if(t=void 0===t?n:t,"Array"==i)return l.call(this,e,t);for(var r=a(e,n),c=a(t,n),u=s(c-r),d=new Array(u),f=0;f<u;f++)d[f]="String"==i?this.charAt(r+f):this[r+f];return d}})},function(e,t,n){"use strict";var i=n(0),r=n(10),o=n(9),a=n(3),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(21)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),r(e))}})},function(e,t,n){"use strict";var i=n(0),r=n(27)(0),o=n(21)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(4),r=n(60),o=n(5)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var i=n(0),r=n(27)(1);i(i.P+i.F*!n(21)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(27)(2);i(i.P+i.F*!n(21)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(27)(3);i(i.P+i.F*!n(21)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(27)(4);i(i.P+i.F*!n(21)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(118);i(i.P+i.F*!n(21)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var i=n(0),r=n(118);i(i.P+i.F*!n(21)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var i=n(0),r=n(58)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(21)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(16),o=n(25),a=n(8),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(21)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=r(this),n=a(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},function(e,t,n){var i=n(0);i(i.P,"Array",{copyWithin:n(119)}),n(31)("copyWithin")},function(e,t,n){var i=n(0);i(i.P,"Array",{fill:n(92)}),n(31)("fill")},function(e,t,n){"use strict";var i=n(0),r=n(27)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)("find")},function(e,t,n){"use strict";var i=n(0),r=n(27)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)(o)},function(e,t,n){n(39)("Array")},function(e,t,n){var i=n(2),r=n(79),o=n(7).f,a=n(38).f,s=n(61),l=n(63),c=i.RegExp,u=c,d=c.prototype,f=/a/g,h=/a/g,p=new c(f)!==f;if(n(6)&&(!p||n(3)(function(){return h[n(5)("match")]=!1,c(f)!=f||c(h)==h||"/a/i"!=c(f,"i")}))){c=function(e,t){var n=this instanceof c,i=s(e),o=void 0===t;return!n&&i&&e.constructor===c&&o?e:r(p?new u(i&&!o?e.source:e,t):u((i=e instanceof c)?e.source:e,i&&o?l.call(e):t),n?this:d,c)};for(var g=a(u),m=0;g.length>m;)!function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})}(g[m++]);d.constructor=c,c.prototype=d,n(13)(i,"RegExp",c)}n(39)("RegExp")},function(e,t,n){"use strict";n(121);var i=n(1),r=n(63),o=n(6),a=/./.toString,s=function(e){n(13)(RegExp.prototype,"toString",e,!0)};n(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,n){n(64)("match",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(64)("replace",2,function(e,t,n){return[function(i,r){"use strict";var o=e(this),a=void 0==i?void 0:i[t];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(e,t,n){n(64)("search",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(64)("split",2,function(e,t,i){"use strict";var r=n(61),o=i,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];i=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return o.call(n,e,t);var i,c,u,d,f,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,m=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,p+"g");for(l||(i=new RegExp("^"+v.source+"$(?!\\s)",p));(c=v.exec(n))&&!((u=c.index+c[0][s])>g&&(h.push(n.slice(g,c.index)),!l&&c[s]>1&&c[0].replace(i,function(){for(f=1;f<arguments[s]-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c[s]>1&&c.index<n[s]&&a.apply(h,c.slice(1)),d=c[0][s],g=u,h[s]>=m));)v.lastIndex===c.index&&v.lastIndex++;return g===n[s]?!d&&v.test("")||h.push(""):h.push(n.slice(g)),h[s]>m?h.slice(0,m):h}}else"0".split(void 0,0)[s]&&(i=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,r){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(e,t,n){"use strict";var i,r,o,a,s=n(34),l=n(2),c=n(19),u=n(55),d=n(0),f=n(4),h=n(10),p=n(40),g=n(41),m=n(65),v=n(94).set,y=n(95)(),b=n(96),w=n(122),x=n(123),k=l.TypeError,C=l.process,$=l.Promise,S="process"==u(C),_=function(){},T=r=b.f,A=!!function(){try{var e=$.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(_,_)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(_)instanceof t}catch(e){}}(),E=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var i=e._v,r=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=r?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain;try{a?(r||(2==e._h&&O(e),e._h=1),!0===a?n=i:(c&&c.enter(),n=a(i),c&&c.exit()),n===t.promise?l(k("Promise-chain cycle")):(o=E(n))?o.call(n,s,l):s(n)):l(i)}catch(e){l(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){v.call(l,function(){var t,n,i,r=e._v,o=I(e);if(o&&(t=w(function(){S?C.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=S||I(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},I=function(e){return 1!==e._h&&0===(e._a||e._c).length},O=function(e){v.call(l,function(){var t;S?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},P=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=E(e))?y(function(){var i={_w:n,_d:!1};try{t.call(e,c(P,i,1),c(N,i,1))}catch(e){N.call(i,e)}}):(n._v=e,n._s=1,M(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};A||($=function(e){p(this,$,"Promise","_h"),h(e),i.call(this);try{e(c(P,this,1),c(N,this,1))}catch(e){N.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(42)($.prototype,{then:function(e,t){var n=T(m(this,$));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(P,e,1),this.reject=c(N,e,1)},b.f=T=function(e){return e===$||e===a?new o(e):r(e)}),d(d.G+d.W+d.F*!A,{Promise:$}),n(46)($,"Promise"),n(39)("Promise"),a=n(22).Promise,d(d.S+d.F*!A,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!A),"Promise",{resolve:function(e){return x(s&&this===a?$:this,e)}}),d(d.S+d.F*!(A&&n(62)(function(e){$.all(e).catch(_)})),"Promise",{all:function(e){var t=this,n=T(t),i=n.resolve,r=n.reject,o=w(function(){var n=[],o=0,a=1;g(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=T(t),i=n.reject,r=w(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t,n){"use strict";var i=n(128),r=n(49);n(66)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"WeakSet"),e,!0)}},i,!1,!0)},function(e,t,n){"use strict";var i=n(0),r=n(67),o=n(97),a=n(1),s=n(36),l=n(8),c=n(4),u=n(2).ArrayBuffer,d=n(65),f=o.ArrayBuffer,h=o.DataView,p=r.ABV&&u.isView,g=f.prototype.slice,m=r.VIEW;i(i.G+i.W+i.F*(u!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||c(e)&&m in e}}),i(i.P+i.U+i.F*n(3)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var n=a(this).byteLength,i=s(e,n),r=s(void 0===t?n:t,n),o=new(d(this,f))(l(r-i)),c=new h(this),u=new h(o),p=0;i<r;)u.setUint8(p++,c.getUint8(i++));return o}}),n(39)("ArrayBuffer")},function(e,t,n){var i=n(0);i(i.G+i.W+i.F*!n(67).ABV,{DataView:n(97).DataView})},function(e,t,n){n(28)("Int8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}},!0)},function(e,t,n){n(28)("Int16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Uint16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Int32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Uint32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Float32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Float64",8,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){var i=n(0),r=n(10),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var i=r(e),l=o(n);return a?a(i,t,l):s.call(i,t,l)}})},function(e,t,n){var i=n(0),r=n(37),o=n(10),a=n(1),s=n(4),l=n(3),c=n(109),u=(n(2).Reflect||{}).construct,d=l(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),f=!l(function(){u(function(){})});i(i.S+i.F*(d||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var l=n.prototype,h=r(s(l)?l:Object.prototype),p=Function.apply.call(e,h,t);return s(p)?p:h}})},function(e,t,n){var i=n(7),r=n(0),o=n(1),a=n(23);r(r.S+r.F*n(3)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return i.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var i=n(0),r=n(17).f,o=n(1);i(i.S,"Reflect",{deleteProperty:function(e,t){var n=r(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var i=n(0),r=n(1),o=function(e){this._t=r(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(85)(o,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){function i(e,t){var n,s,u=arguments.length<3?e:arguments[2];return c(e)===u?e[t]:(n=r.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(u):void 0:l(s=o(e))?i(s,t,u):void 0}var r=n(17),o=n(18),a=n(11),s=n(0),l=n(4),c=n(1);s(s.S,"Reflect",{get:i})},function(e,t,n){var i=n(17),r=n(0),o=n(1);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(o(e),t)}})},function(e,t,n){var i=n(0),r=n(18),o=n(1);i(i.S,"Reflect",{getPrototypeOf:function(e){return r(o(e))}})},function(e,t,n){var i=n(0);i(i.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var i=n(0),r=n(1),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return r(e),!o||o(e)}})},function(e,t,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(130)})},function(e,t,n){var i=n(0),r=n(1),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){r(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){function i(e,t,n){var l,f,h=arguments.length<4?e:arguments[3],p=o.f(u(e),t);if(!p){if(d(f=a(e)))return i(f,t,n,h);p=c(0)}return s(p,"value")?!(!1===p.writable||!d(h)||(l=o.f(h,t)||c(0),l.value=n,r.f(h,t,l),0)):void 0!==p.set&&(p.set.call(h,n),!0)}var r=n(7),o=n(17),a=n(18),s=n(11),l=n(0),c=n(32),u=n(1),d=n(4);l(l.S,"Reflect",{set:i})},function(e,t,n){var i=n(0),r=n(77);r&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var i=n(0),r=n(58)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)("includes")},function(e,t,n){"use strict";var i=n(0),r=n(131),o=n(9),a=n(8),s=n(10),l=n(91);i(i.P,"Array",{flatMap:function(e){var t,n,i=o(this);return s(e),t=a(i.length),n=l(i,0),r(n,i,i,t,0,1,e,arguments[1]),n}}),n(31)("flatMap")},function(e,t,n){"use strict";var i=n(0),r=n(131),o=n(9),a=n(8),s=n(25),l=n(91);i(i.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),i=l(t,0);return r(i,t,t,n,0,void 0===e?1:s(e)),i}}),n(31)("flatten")},function(e,t,n){"use strict";var i=n(0),r=n(83)(!0);i(i.P,"String",{at:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(0),r=n(132),o=n(98);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var i=n(0),r=n(132),o=n(98);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(47)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(47)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var i=n(0),r=n(24),o=n(8),a=n(61),s=n(63),l=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};n(85)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),i(i.P,"String",{matchAll:function(e){if(r(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in l?String(e.flags):s.call(e),i=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(e.lastIndex),new c(i,t)}})},function(e,t,n){n(73)("asyncIterator")},function(e,t,n){n(73)("observable")},function(e,t,n){var i=n(0),r=n(130),o=n(16),a=n(17),s=n(89);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),l=a.f,c=r(i),u={},d=0;c.length>d;)void 0!==(n=l(i,t=c[d++]))&&s(u,t,n);return u}})},function(e,t,n){var i=n(0),r=n(133)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){var i=n(0),r=n(133)(!0);i(i.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){"use strict";var i=n(0),r=n(9),o=n(10),a=n(7);n(6)&&i(i.P+n(68),"Object",{__defineGetter__:function(e,t){a.f(r(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(0),r=n(9),o=n(10),a=n(7);n(6)&&i(i.P+n(68),"Object",{__defineSetter__:function(e,t){a.f(r(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(0),r=n(9),o=n(23),a=n(18),s=n(17).f;n(6)&&i(i.P+n(68),"Object",{__lookupGetter__:function(e){var t,n=r(this),i=o(e,!0);do{if(t=s(n,i))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var i=n(0),r=n(9),o=n(23),a=n(18),s=n(17).f;n(6)&&i(i.P+n(68),"Object",{__lookupSetter__:function(e){var t,n=r(this),i=o(e,!0);do{if(t=s(n,i))return t.set}while(n=a(n))}})},function(e,t,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(134)("Map")})},function(e,t,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(134)("Set")})},function(e,t,n){n(69)("Map")},function(e,t,n){n(69)("Set")},function(e,t,n){n(69)("WeakMap")},function(e,t,n){n(69)("WeakSet")},function(e,t,n){n(70)("Map")},function(e,t,n){n(70)("Set")},function(e,t,n){n(70)("WeakMap")},function(e,t,n){n(70)("WeakSet")},function(e,t,n){var i=n(0);i(i.G,{global:n(2)})},function(e,t,n){var i=n(0);i(i.S,"System",{global:n(2)})},function(e,t,n){var i=n(0),r=n(20);i(i.S,"Error",{isError:function(e){return"Error"===r(e)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var i=n(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var i=n(0),r=180/Math.PI;i(i.S,"Math",{degrees:function(e){return e*r}})},function(e,t,n){var i=n(0),r=n(136),o=n(116);i(i.S,"Math",{fscale:function(e,t,n,i,a){return o(r(e,t,n,i,a))}})},function(e,t,n){var i=n(0);i(i.S,"Math",{iaddh:function(e,t,n,i){var r=e>>>0,o=t>>>0,a=n>>>0;return o+(i>>>0)+((r&a|(r|a)&~(r+a>>>0))>>>31)|0}})},function(e,t,n){var i=n(0);i(i.S,"Math",{isubh:function(e,t,n,i){var r=e>>>0,o=t>>>0,a=n>>>0;return o-(i>>>0)-((~r&a|~(r^a)&r-a>>>0)>>>31)|0}})},function(e,t,n){var i=n(0);i(i.S,"Math",{imulh:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i,a=n>>16,s=i>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var i=n(0),r=Math.PI/180;i(i.S,"Math",{radians:function(e){return e*r}})},function(e,t,n){var i=n(0);i(i.S,"Math",{scale:n(136)})},function(e,t,n){var i=n(0);i(i.S,"Math",{umulh:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var i=n(0),r=n(22),o=n(2),a=n(65),s=n(123);i(i.P+i.R,"Promise",{finally:function(e){var t=a(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i=n(0),r=n(96),o=n(122);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var i=n(29),r=n(1),o=i.key,a=i.set;i.exp({defineMetadata:function(e,t,n,i){a(e,t,r(n),o(i))}})},function(e,t,n){var i=n(29),r=n(1),o=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),i=a(r(t),n,!1);if(void 0===i||!i.delete(e))return!1;if(i.size)return!0;var l=s.get(t);return l.delete(n),!!l.size||s.delete(t)}})},function(e,t,n){var i=n(29),r=n(1),o=n(18),a=i.has,s=i.get,l=i.key,c=function(e,t,n){if(a(e,t,n))return s(e,t,n);var i=o(t);return null!==i?c(e,i,n):void 0};i.exp({getMetadata:function(e,t){return c(e,r(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,n){var i=n(126),r=n(135),o=n(29),a=n(1),s=n(18),l=o.keys,c=o.key,u=function(e,t){var n=l(e,t),o=s(e);if(null===o)return n;var a=u(o,t);return a.length?n.length?r(new i(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return u(a(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,n){var i=n(29),r=n(1),o=i.get,a=i.key;i.exp({getOwnMetadata:function(e,t){return o(e,r(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var i=n(29),r=n(1),o=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(e){return o(r(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var i=n(29),r=n(1),o=n(18),a=i.has,s=i.key,l=function(e,t,n){if(a(e,t,n))return!0;var i=o(t);return null!==i&&l(e,i,n)};i.exp({hasMetadata:function(e,t){return l(e,r(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var i=n(29),r=n(1),o=i.has,a=i.key;i.exp({hasOwnMetadata:function(e,t){return o(e,r(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var i=n(29),r=n(1),o=n(10),a=i.key,s=i.set;i.exp({metadata:function(e,t){return function(n,i){s(e,t,(void 0!==i?r:o)(n),a(i))}}})},function(e,t,n){var i=n(0),r=n(95)(),o=n(2).process,a="process"==n(20)(o);i(i.G,{asap:function(e){var t=a&&o.domain;r(t?t.bind(e):e)}})},function(e,t,n){"use strict";var i=n(0),r=n(2),o=n(22),a=n(95)(),s=n(5)("observable"),l=n(10),c=n(1),u=n(40),d=n(42),f=n(12),h=n(41),p=h.RETURN,g=function(e){return null==e?void 0:l(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,m(e))},b=function(e,t){c(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&m(this)};b.prototype=d({},{unsubscribe:function(){y(this)}});var w=function(e){this._s=e};w.prototype=d({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var i=g(n.next);if(i)return i.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var i=g(n.error);if(!i)throw e;e=i.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var i=g(n.complete);e=i?i.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var x=function(e){u(this,x,"Observable","_f")._f=l(e)};d(x.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||r.Promise)(function(n,i){l(e);var r=t.subscribe({next:function(t){try{return e(t)}catch(e){i(e),r.unsubscribe()}},error:i,complete:n})})}}),d(x,{from:function(e){var t="function"==typeof this?this:x,n=g(c(e)[s]);if(n){var i=c(n.call(e));return i.constructor===t?i:new t(function(e){return i.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(h(e,!1,function(e){if(t.next(e),n)return p})===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:x)(function(e){var t=!1;return a(function(){if(!t){for(var i=0;i<n.length;++i)if(e.next(n[i]),t)return;e.complete()}}),function(){t=!0}})}}),f(x.prototype,s,function(){return this}),i(i.G,{Observable:x}),n(39)("Observable")},function(e,t,n){var i=n(2),r=n(0),o=n(98),a=[].slice,s=/MSIE .\./.test(o),l=function(e){return function(t,n){var i=arguments.length>2,r=!!i&&a.call(arguments,2);return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};r(r.G+r.B+r.F*s,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(e,t,n){var i=n(0),r=n(94);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){for(var i=n(93),r=n(35),o=n(13),a=n(2),s=n(12),l=n(48),c=n(5),u=c("iterator"),d=c("toStringTag"),f=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(h),g=0;g<p.length;g++){var m,v=p[g],y=h[v],b=a[v],w=b&&b.prototype;if(w&&(w[u]||s(w,u,f),w[d]||s(w,d,v),l[v]=f,y))for(m in i)w[m]||o(w,m,i[m],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,i){var o=t&&t.prototype instanceof r?t:r,a=Object.create(o.prototype),s=new h(i||[]);return a._invoke=c(e,n,s),a}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function n(t,r,o,a){var s=i(e[t],e,r);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},a)}a(s.arg)}function r(e,t){function i(){return new Promise(function(i,r){n(e,t,i,r)})}return o=o?o.then(i,i):i()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var o;this._invoke=r}function c(e,t,n){var r=S;return function(o,a){if(r===T)throw new Error("Generator is already running");if(r===A){if("throw"===o)throw a;return g()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=u(s,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===S)throw r=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=T;var c=i(e,t,n);if("normal"===c.type){if(r=n.done?A:_,c.arg===E)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=A,n.method="throw",n.arg=c.arg)}}}function u(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,u(e,t),"throw"===t.method))return E;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,E;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,E):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,E)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function p(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return i.next=i}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",x=b.asyncIterator||"@@asyncIterator",k=b.toStringTag||"@@toStringTag",C="object"==typeof e,$=t.regeneratorRuntime;if($)return void(C&&(e.exports=$));$=t.regeneratorRuntime=C?e.exports:{},$.wrap=n;var S="suspendedStart",_="suspendedYield",T="executing",A="completed",E={},M={};M[w]=function(){return this};var D=Object.getPrototypeOf,I=D&&D(D(p([])));I&&I!==v&&y.call(I,w)&&(M=I);var O=a.prototype=r.prototype=Object.create(M);o.prototype=O.constructor=a,a.constructor=o,a[k]=o.displayName="GeneratorFunction",$.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},$.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(O),e},$.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[x]=function(){return this},$.AsyncIterator=l,$.async=function(e,t,i,r){var o=new l(n(e,t,i,r));return $.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(O),O[k]="Generator",O[w]=function(){return this},O.toString=function(){return"[object Generator]"},$.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},$.values=p,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return o.type="throw",o.arg=e,n.next=t,i&&(n.method="next",n.arg=m),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=y.call(r,"catchLoc"),s=y.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&y.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;f(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),E}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(102))},function(e,t,n){n(351),e.exports=n(22).RegExp.escape},function(e,t,n){var i=n(0),r=n(352)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(e){return r(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(43),i(n(56)),n(355),n(356),n(357),n(359),n(361),n(363),n(364),n(365),n(366);var r=n(15),o=i(r);n(367),n(137),n(138),n(139),n(368),n(369),n(370),n(372),n(373),n(374),window.CodeMirror=o.default},function(e,t,n){/**
 * @license AngularJS v1.2.32
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t,n){"use strict";function i(e){return function(){var t,n,i=arguments[0],r="["+(e?e+":":"")+i+"] ",o=arguments[1],a=arguments;for(t=r+o.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<a.length?(t=a[n+2],"function"==typeof t?t.toString().replace(/ ?\{[\s\S]*$/,""):void 0===t?"undefined":"string"!=typeof t?B(t):t):e}),t=t+"\nhttp://errors.angularjs.org/1.2.32/"+(e?e+"/":"")+i,n=2;n<arguments.length;n++)t=t+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(function(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):void 0===e?"undefined":"string"!=typeof e?JSON.stringify(e):e}(arguments[n]));return new Error(t)}}function r(e){if(null==e||S(e))return!1;var t=e.length;return!(1!==e.nodeType||!t)||w(e)||Dn(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var i;if(e)if(C(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i);else if(Dn(e)||r(e))for(i=0;i<e.length;i++)t.call(n,e[i],i);else if(e.forEach&&e.forEach!==o)e.forEach(t,n);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i);return e}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var i=a(e),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function l(e){return function(t,n){e(n,t)}}function c(){for(var e,t=Mn.length;t;){if(t--,57==(e=Mn[t].charCodeAt(0)))return Mn[t]="A",Mn.join("");if(90!=e)return Mn[t]=String.fromCharCode(e+1),Mn.join("");Mn[t]="0"}return Mn.unshift("0"),Mn.join("")}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){var t=e.$$hashKey;return o(arguments,function(t){t!==e&&o(t,function(t,n){e[n]=t})}),u(e,t),e}function f(e){return parseInt(e,10)}function h(e,t){return d(new(d(function(){},{prototype:e})),t)}function p(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return void 0===e}function y(e){return void 0!==e}function b(e){return null!=e&&"object"==typeof e}function w(e){return"string"==typeof e}function x(e){return"number"==typeof e}function k(e){return"[object Date]"===Tn.call(e)}function C(e){return"function"==typeof e}function $(e){return"[object RegExp]"===Tn.call(e)}function S(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function _(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===Tn.call(e)}function A(e){return"[object Blob]"===Tn.call(e)}function E(e){return e&&C(e.then)}function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function D(e,t,n){var i=[];return o(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i}function I(e,t){return-1!=O(e,t)}function O(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function N(e,t){var n=O(e,t);return n>=0&&e.splice(n,1),t}function P(e,t,n,i){if(S(e)||_(e))throw An("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw An("cpi","Can't copy! Source and destination are identical.");if(n=n||[],i=i||[],b(e)){var r=O(n,e);if(-1!==r)return i[r];n.push(e),i.push(t)}var a;if(Dn(e)){t.length=0;for(var s=0;s<e.length;s++)a=P(e[s],null,n,i),b(e[s])&&(n.push(e[s]),i.push(a)),t.push(a)}else{var l=t.$$hashKey;Dn(t)?t.length=0:o(t,function(e,n){delete t[n]});for(var c in e)a=P(e[c],null,n,i),b(e[c])&&(n.push(e[c]),i.push(a)),t[c]=a;u(t,l)}}else t=e,e&&(Dn(e)?t=P(e,[],n,i):k(e)?t=new Date(e.getTime()):$(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):b(e)&&(t=P(e,{},n,i)));return t}function L(e,t){if(Dn(e)){t=t||[];for(var n=0;n<e.length;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var i in e)!mn.call(e,i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function R(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r,o,a=typeof e;if(a==typeof t&&"object"==a){if(!Dn(e)){if(k(e))return!!k(t)&&(isNaN(e.getTime())&&isNaN(t.getTime())||e.getTime()===t.getTime());if($(e)&&$(t))return e.toString()==t.toString();if(_(e)||_(t)||S(e)||S(t)||Dn(t))return!1;o={};for(r in e)if("$"!==r.charAt(0)&&!C(e[r])){if(!R(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!o.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==n&&!C(t[r]))return!1;return!0}if(!Dn(t))return!1;if((i=e.length)==t.length){for(r=0;r<i;r++)if(!R(e[r],t[r]))return!1;return!0}}return!1}function j(e,t,n){return e.concat(Sn.call(t,n))}function F(e,t){return Sn.call(e,t||0)}function H(e,t){var n=arguments.length>2?F(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Sn.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function z(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)?r=n:S(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":_(i)&&(r="$SCOPE"),r}function B(e,t){return void 0===e?n:JSON.stringify(e,z,t?"  ":null)}function W(e){return w(e)?JSON.parse(e):e}function U(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=gn(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function q(e){e=xn(e).clone();try{e.empty()}catch(e){}var t=xn("<div>").append(e).html();try{return 3===e[0].nodeType?gn(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+gn(t)})}catch(e){return gn(t)}}function V(e){try{return decodeURIComponent(e)}catch(e){}}function K(e){var t,n,i={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=V(t[0]),y(n))){var r=!y(t[1])||V(t[1]);mn.call(i,n)?Dn(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r}}),i}function G(e){var t=[];return o(e,function(e,n){Dn(e)?o(e,function(e){t.push(X(n,!0)+(!0===e?"":"="+X(e,!0)))}):t.push(X(n,!0)+(!0===e?"":"="+X(e,!0)))}),t.length?t.join("&"):""}function Y(e){return X(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function Q(e,n){function i(e){e&&s.push(e)}var r,a,s=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;o(l,function(n){l[n]=!0,i(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(o(e.querySelectorAll("."+n),i),o(e.querySelectorAll("."+n+"\\:"),i),o(e.querySelectorAll("["+n+"]"),i))}),o(s,function(e){if(!r){var t=" "+e.className+" ",n=c.exec(t);n?(r=e,a=(n[2]||"").replace(/\s+/g,",")):o(e.attributes,function(t){!r&&l[t.name]&&(r=e,a=t.value)})}}),r&&n(r,a?[a]:[])}function J(n,i){var r=function(){if(n=xn(n),n.injector()){var e=n[0]===t?"document":q(n);throw An("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.unshift("ng");var r=De(i);return r.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,i,r){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),r},a=/^NG_DEFER_BOOTSTRAP!/;if(e&&!a.test(e.name))return r();e.name=e.name.replace(a,""),En.resumeBootstrap=function(e){o(e,function(e){i.push(e)}),r()}}function Z(e,t){return t=t||"_",e.replace(Nn,function(e,n){return(n?t:"")+e.toLowerCase()})}function ee(e,t,n){if(!e)throw An("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function te(e,t,n){return n&&Dn(e)&&(e=e[e.length-1]),ee(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ne(e,t){if("hasOwnProperty"===e)throw An("badname","hasOwnProperty is not a valid {0} name",t)}function ie(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&C(e)?H(o,e):e}function re(e){var t=e[0],n=e[e.length-1];if(t===n)return xn(t);var i=t,r=[i];do{if(!(i=i.nextSibling))break;r.push(i)}while(i!==n);return xn(r)}function oe(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||i,t(o,"module",function(){var e={};return function(i,o,a){return function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name","module")}(i),o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,n,i){return function(){return t[i||"push"]([e,n,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],r=[],s=e("$injector","invoke"),l={_invokeQueue:t,_runBlocks:r,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return r.push(e),this}};return a&&s(a),l})}})}function ae(){return++Rn}function se(e){return e.replace(Hn,function(e,t,n,i){return i?n.toUpperCase():n}).replace(zn,"Moz$1")}function le(e,t,n,i){function r(e){var r,a,s,l,c,u,d,f=n&&e?[this.filter(e)]:[this],h=t;if(!i||null!=e)for(;f.length;)for(r=f.shift(),a=0,s=r.length;a<s;a++)for(l=xn(r[a]),h?l.triggerHandler("$destroy"):h=!h,c=0,u=(d=l.children()).length;c<u;c++)f.push(kn(d[c]));return o.apply(this,arguments)}var o=kn.fn[e];o=o.$original||o,r.$original=o,kn.fn[e]=r}function ce(e){return!Un.test(e)}function ue(e,t){var n,i,r,o,a,s,l=t.createDocumentFragment(),c=[];if(ce(e))c.push(t.createTextNode(e));else{for(n=l.appendChild(t.createElement("div")),i=(qn.exec(e)||["",""])[1].toLowerCase(),r=Kn[i]||Kn._default,n.innerHTML="<div>&#160;</div>"+r[1]+e.replace(Vn,"<$1></$2>")+r[2],n.removeChild(n.firstChild),o=r[0];o--;)n=n.lastChild;for(a=0,s=n.childNodes.length;a<s;++a)c.push(n.childNodes[a]);n=l.firstChild,n.textContent=""}return l.textContent="",l.innerHTML="",c}function de(e,n){n=n||t;var i;return(i=Wn.exec(e))?[n.createElement(i[1])]:ue(e,n)}function fe(e){if(e instanceof fe)return e;if(w(e)&&(e=In(e)),!(this instanceof fe)){if(w(e)&&"<"!=e.charAt(0))throw Bn("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new fe(e)}w(e)?(ke(this,de(e)),xn(t.createDocumentFragment()).append(this)):ke(this,e)}function he(e){return e.cloneNode(!0)}function pe(e){me(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)pe(n[t])}function ge(e,t,n,i){if(y(i))throw Bn("offargs","jqLite#off() does not support the `selector` argument");var r=ve(e,"events");ve(e,"handle")&&(v(t)?o(r,function(t,n){Fn(e,n,t),delete r[n]}):o(t.split(" "),function(t){v(n)?(Fn(e,t,r[t]),delete r[t]):N(r[t]||[],n)}))}function me(e,t){var i=e.ng339,r=Ln[i];if(r){if(t)return void delete Ln[i].data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ge(e)),delete Ln[i],e.ng339=n}}function ve(e,t,n){var i=e.ng339,r=Ln[i||-1];if(!y(n))return r&&r[t];r||(e.ng339=i=ae(),r=Ln[i]={}),r[t]=n}function ye(e,t,n){var i=ve(e,"data"),r=y(n),o=!r&&y(t),a=o&&!b(t);if(i||a||ve(e,"data",i={}),r)i[t]=n;else{if(!o)return i;if(a)return i&&i[t];d(i,t)}}function be(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function we(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",In((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+In(t)+" "," ")))})}function xe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=In(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",In(n))}}function ke(e,t){if(t){t=t.nodeName||!y(t.length)||S(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function Ce(e,t){return $e(e,"$"+(t||"ngController")+"Controller")}function $e(e,t,i){9==e.nodeType&&(e=e.documentElement);for(var r=Dn(t)?t:[t];e;){for(var o=0,a=r.length;o<a;o++)if((i=xn.data(e,r[o]))!==n)return i;e=e.parentNode||11===e.nodeType&&e.host}}function Se(e){for(var t=0,n=e.childNodes;t<n.length;t++)pe(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function _e(e,t){var n=Yn[t.toLowerCase()];return n&&Xn[e.nodeName]&&n}function Te(e,n){var i=function(i,r){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||t),v(i.defaultPrevented)){var a=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,a.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented||!1===i.returnValue},o(L(n[r||i.type]||[]),function(t){t.call(e,i)}),wn<=8?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=e,i}function Ae(e,t){var i,r=typeof e;return"function"==r||"object"==r&&null!==e?"function"==typeof(i=e.$$hashKey)?i=e.$$hashKey():i===n&&(i=e.$$hashKey=(t||c)()):i=e,r+":"+i}function Ee(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Me(e){var t,n,i,r;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(ei,""),i=n.match(Qn),o(i[1].split(Jn),function(e){e.replace(Zn,function(e,n,i){t.push(i)})})),e.$inject=t):Dn(e)?(r=e.length-1,te(e[r],"fn"),t=e.slice(0,r)):te(e,"fn",!0),t}function De(e){function t(e){return function(t,n){if(!b(t))return e(t,n);o(t,l(e))}}function n(e,t){if(ne(e,"service"),(C(t)||Dn(t))&&(t=x.instantiate(t)),!t.$get)throw ti("pget","Provider '{0}' must define $get factory method.",e);return y[e+h]=t}function i(e,t){return n(e,{$get:t})}function r(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function a(e,t){return i(e,m(t))}function s(e,t){ne(e,"constant"),y[e]=t,k[e]=t}function c(e,t){var n=x.get(e+h),i=n.$get;n.$get=function(){var e=$.invoke(i,n);return $.invoke(t,null,{$delegate:e})}}function u(e){var t,n,i,r,a=[];return o(e,function(e){if(!v.get(e)){v.put(e,!0);try{if(w(e))for(t=Cn(e),a=a.concat(u(t.requires)).concat(t._runBlocks),n=t._invokeQueue,i=0,r=n.length;i<r;i++){var o=n[i],s=x.get(o[0]);s[o[1]].apply(s,o[2])}else C(e)?a.push(x.invoke(e)):Dn(e)?a.push(x.invoke(e)):te(e,"module")}catch(t){throw Dn(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ti("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),a}function d(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===f)throw ti("cdep","Circular dependency found: {0}",n+" <- "+g.join(" <- "));return e[n]}try{return g.unshift(n),e[n]=f,e[n]=t(n)}catch(t){throw e[n]===f&&delete e[n],t}finally{g.shift()}}function i(e,t,i){var r,o,a,s=[],l=Me(e);for(o=0,r=l.length;o<r;o++){if("string"!=typeof(a=l[o]))throw ti("itkn","Incorrect injection token! Expected service name as string, got {0}",a);s.push(i&&i.hasOwnProperty(a)?i[a]:n(a))}return Dn(e)&&(e=e[r]),e.apply(t,s)}function r(e,t){var n,r,o=function(){};return o.prototype=(Dn(e)?e[e.length-1]:e).prototype,n=new o,r=i(e,n,t),b(r)||C(r)?r:n}return{invoke:i,instantiate:r,get:n,annotate:Me,has:function(t){return y.hasOwnProperty(t+h)||e.hasOwnProperty(t)}}}var f={},h="Provider",g=[],v=new Ee([],!0),y={$provide:{provider:t(n),factory:t(i),service:t(r),value:t(a),constant:t(s),decorator:c}},x=y.$injector=d(y,function(){throw ti("unpr","Unknown provider: {0}",g.join(" <- "))}),k={},$=k.$injector=d(k,function(e){var t=x.get(e+h);return $.invoke(t.$get,t)});return o(u(e),function(e){$.invoke(e||p)}),$}function Ie(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return o(e,function(e){t||"a"!==gn(e.nodeName)||(t=e)}),t}function a(){var e,i=n.hash();i?(e=s.getElementById(i))?e.scrollIntoView():(e=r(s.getElementsByName(i)))?e.scrollIntoView():"top"===i&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(a)}),a}]}function Oe(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ne(e,t,i,r){function a(e){try{e.apply(null,F(arguments,1))}finally{if(0==--b)for(;x.length;)try{x.pop()()}catch(e){i.error(e)}}}function s(e){var t=e.indexOf("#");return-1===t?"":e.substr(t+1)}function l(e,t){!function n(){o(C,function(e){e()}),k=t(n,e)}()}function c(){$!=u.url()&&($=u.url(),o(T,function(e){e(u.url())}))}var u=this,d=t[0],f=e.location,h=e.history,g=e.setTimeout,m=e.clearTimeout,y={};u.isMock=!1;var b=0,x=[];u.$$completeOutstandingRequest=a,u.$$incOutstandingRequestCount=function(){b++},u.notifyWhenNoOutstandingRequests=function(e){o(C,function(e){e()}),0===b?e():x.push(e)};var k,C=[];u.addPollFn=function(e){return v(k)&&l(100,g),C.push(e),e};var $=f.href,S=t.find("base"),_=null;u.url=function(t,n){if(f!==e.location&&(f=e.location),h!==e.history&&(h=e.history),t){if($==t)return;var i=$&&ot($)===ot(t);return $=t,!i&&r.history?n?h.replaceState(null,"",t):(h.pushState(null,"",t),S.attr("href",S.attr("href"))):(i||(_=t),n?f.replace(t):i?f.hash=s(t):f.href=t),u}return _||f.href.replace(/%27/g,"'")};var T=[],A=!1;u.onUrlChange=function(t){return A||(r.history&&xn(e).on("popstate",c),r.hashchange?xn(e).on("hashchange",c):u.addPollFn(c),A=!0),T.push(t),t},u.$$checkUrlChange=c,u.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var E={},M="",D=u.baseHref();u.cookies=function(e,t){var r,o,a,s,l;if(!e){if(d.cookie!==M)for(M=d.cookie,o=M.split("; "),E={},s=0;s<o.length;s++)a=o[s],(l=a.indexOf("="))>0&&(e=unescape(a.substring(0,l)),E[e]===n&&(E[e]=unescape(a.substring(l+1))));return E}t===n?d.cookie=escape(e)+"=;path="+D+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(t)&&(r=(d.cookie=escape(e)+"="+escape(t)+";path="+D).length+1)>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!")},u.defer=function(e,t){var n;return b++,n=g(function(){delete y[n],a(e)},t||0),y[n]=!0,n},u.defer.cancel=function(e){return!!y[e]&&(delete y[e],m(e),a(p),!0)}}function Pe(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Ne(e,i,t,n)}]}function Le(){this.$get=function(){function e(e,n){function r(e){e!=f&&(h?h==e&&(h=e.n):h=e,o(e.n,e.p),o(e,f),f=e,f.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},f=null,h=null;return t[e]={put:function(e,t){if(c<Number.MAX_VALUE&&r(u[e]||(u[e]={key:e})),!v(t))return e in l||a++,l[e]=t,a>c&&this.remove(h.key),t},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==f&&(f=t.p),t==h&&(h=t.n),o(t.n,t.p),delete u[e]}delete l[e],a--},removeAll:function(){l={},a=0,u={},f=h=null},destroy:function(){l=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Re(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function je(e,i){var r={},a="Directive",s=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,c=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,u=/^(on[a-z]+|formaction)$/;this.directive=function t(n,i){return ne(n,"directive"),w(n)?(ee(i,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],e.factory(n+a,["$injector","$exceptionHandler",function(e,t){var i=[];return o(r[n],function(r,o){try{var a=e.invoke(r);C(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"A",i.push(a)}catch(e){t(e)}}),i}])),r[n].push(i)):o(n,l(t)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,l,f,p,m,v,y,x,k,$,S){function _(e,t,n,i,r){e instanceof xn||(e=xn(e)),o(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=xn(t).wrap("<span></span>").parent()[0])});var a=A(e,t,e,n,i,r);return T(e,"ng-scope"),function(t,n,i,r){ee(t,"scope");var s=n?Gn.clone.call(e):e;o(i,function(e,t){s.data("$"+t+"Controller",e)});for(var l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeType;1!==d&&9!==d||s.eq(l).data("$scope",t)}return n&&n(s,t),a&&a(t,s,s,r),s}}function T(e,t){try{e.addClass(t)}catch(e){}}function A(e,t,i,r,o,a){function s(e,i,r,o){var a,s,l,c,u,d,f,h,g=i.length,m=new Array(g);for(u=0;u<g;u++)m[u]=i[u];for(u=0,f=0,d=p.length;u<d;f++)l=m[f],a=p[u++],s=p[u++],a?(a.scope?(c=e.$new(),xn.data(l,"$scope",c)):c=e,h=a.transcludeOnThisElement?E(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?E(e,t):null,a(s,c,l,r,h)):s&&s(e,l.childNodes,n,o)}for(var l,c,u,d,f,h,p=[],g=0;g<e.length;g++)l=new Y,c=M(e[g],[],l,0===g?r:n,o),u=c.length?O(c,e[g],l,t,i,null,[],[],a):null,u&&u.scope&&T(l.$$element,"ng-scope"),f=u&&u.terminal||!(d=e[g].childNodes)||!d.length?null:A(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),p.push(u,f),h=h||u||f,a=null;return h?s:null}function E(e,t,n){return function(i,r,o){var a=!1;i||(i=e.$new(),i.$$transcluded=!0,a=!0);var s=t(i,r,o,n);return a&&s.on("$destroy",function(){i.$destroy()}),s}}function M(e,t,n,i,r){var o,a,l,u=e.nodeType,d=n.$attr;switch(u){case 1:a=$n(e).toLowerCase(),P(t,Fe(a),"E",i,r);for(var f,h,p,g,m,v,y=e.attributes,b=0,x=y&&y.length;b<x;b++){var k=!1,C=!1;f=y[b],(!wn||wn>=8||f.specified)&&(h=f.name,m=In(f.value),g=Fe(h),(v=te.test(g))&&(h=Z(g.substr(6),"-")),g===g.replace(/(Start|End)$/,"")+"Start"&&(k=h,C=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=Fe(h.toLowerCase()),d[p]=h,!v&&n.hasOwnProperty(p)||(n[p]=m,_e(e,p)&&(n[p]=!0)),V(e,t,m,p),P(t,p,"A",i,r,k,C))}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),l=e.className,w(l)&&""!==l)for(;o=c.exec(l);)p=Fe(o[2]),P(t,p,"C",i,r)&&(n[p]=In(o[3])),l=l.substr(o.index+o[0].length);break;case 3:if(11===wn)for(;e.parentNode&&e.nextSibling&&3===e.nextSibling.nodeType;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);W(t,e.nodeValue);break;case 8:try{(o=s.exec(e.nodeValue))&&(p=Fe(o[1]),P(t,p,"M",i,r)&&(n[p]=In(o[2])))}catch(e){}}return t.sort(z),t}function D(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw ri("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0);else i.push(e);return xn(i)}function I(e,t,n){return function(i,r,o,a,s){return r=D(r[0],t,n),e(i,r,o,a,s)}}function O(e,r,a,s,c,u,d,f,h){function p(e,t,n,i){e&&(n&&(e=I(e,n,i)),e.require=k.require,e.directiveName=$,(z===k||k.$$isolateScope)&&(e=G(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=I(t,n,i)),t.require=k.require,t.directiveName=$,(z===k||k.$$isolateScope)&&(t=G(t,{isolateScope:!0})),f.push(t))}function g(e,t,n,i){var r,a="data",s=!1;if(w(t)){for(;"^"==(r=t.charAt(0))||"?"==r;)t=t.substr(1),"^"==r&&(a="inheritedData"),s=s||"?"==r;if(r=null,i&&"data"===a&&(r=i[t]),!(r=r||n[a]("$"+t+"Controller"))&&!s)throw ri("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r}return Dn(t)&&(r=[],o(t,function(t){r.push(g(e,t,n,i))})),r}function y(e,t,s,c,u){function h(e,t){var i;return arguments.length<2&&(t=e,e=n),Q&&(i=S),u(e,t,i)}var p,y,b,w,x,k,C,$,S={};if(p=r===s?a:L(a,new Y(xn(s),a.$attr)),y=p.$$element,z){var _=/^\s*([@=&])(\??)\s*(\w*)\s*$/;C=t.$new(!0),!W||W!==z&&W!==z.$$originalDirective?y.data("$isolateScopeNoTemplate",C):y.data("$isolateScope",C),T(y,"ng-isolate-scope"),o(z.scope,function(e,n){var r,o,a,s,l=e.match(_)||[],c=l[3]||n,u="?"==l[2],d=l[1];switch(C.$$isolateBindings[n]=d+c,d){case"@":p.$observe(c,function(e){C[n]=e}),p.$$observers[c].$$scope=t,p[c]&&(C[n]=i(p[c])(t));break;case"=":if(u&&!p[c])return;o=m(p[c]),s=o.literal?R:function(e,t){return e===t||e!==e&&t!==t},a=o.assign||function(){throw r=C[n]=o(t),ri("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",p[c],z.name)},r=C[n]=o(t),C.$watch(function(){var e=o(t);return s(e,C[n])||(s(e,r)?a(t,e=C[n]):C[n]=e),r=e},null,o.literal);break;case"&":o=m(p[c]),C[n]=function(e){return o(t,e)};break;default:throw ri("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",z.name,n,e)}})}for($=u&&h,P&&o(P,function(e){var n,i={$scope:e===z||e.$$isolateScope?C:t,$element:y,$attrs:p,$transclude:$};k=e.controller,"@"==k&&(k=p[e.name]),n=v(k,i),S[e.name]=n,Q||y.data("$"+e.name+"Controller",n),e.controllerAs&&(i.$scope[e.controllerAs]=n)}),b=0,w=d.length;b<w;b++)try{(x=d[b])(x.isolateScope?C:t,y,p,x.require&&g(x.directiveName,x.require,y,S),$)}catch(e){l(e,q(y))}var A=t;for(z&&(z.template||null===z.templateUrl)&&(A=C),e&&e(A,s.childNodes,n,u),b=f.length-1;b>=0;b--)try{(x=f[b])(x.isolateScope?C:t,y,p,x.require&&g(x.directiveName,x.require,y,S),$)}catch(e){l(e,q(y))}}h=h||{};for(var x,k,$,S,A,E,O=-Number.MAX_VALUE,P=h.controllerDirectives,z=h.newIsolateScopeDirective,W=h.templateDirective,U=h.nonTlbTranscludeDirective,V=!1,X=!1,Q=h.hasElementTranscludeDirective,Z=a.$$element=xn(r),ee=u,te=s,ne=0,ie=e.length;ne<ie;ne++){k=e[ne];var re=k.$$start,oe=k.$$end;if(re&&(Z=D(r,re,oe)),S=n,O>k.priority)break;if((E=k.scope)&&(x=x||k,k.templateUrl||(B("new/isolated scope",z,k,Z),b(E)&&(z=k))),$=k.name,!k.templateUrl&&k.controller&&(E=k.controller,P=P||{},B("'"+$+"' controller",P[$],k,Z),P[$]=k),(E=k.transclude)&&(V=!0,k.$$tlb||(B("transclusion",U,k,Z),U=k),"element"==E?(Q=!0,O=k.priority,S=Z,Z=a.$$element=xn(t.createComment(" "+$+": "+a[$]+" ")),r=Z[0],K(c,F(S),r),te=_(S,s,O,ee&&ee.name,{nonTlbTranscludeDirective:U})):(S=xn(he(r)).contents(),Z.empty(),te=_(S,s))),k.template)if(X=!0,B("template",W,k,Z),W=k,E=C(k.template)?k.template(Z,a):k.template,E=J(E),k.replace){if(ee=k,S=ce(E)?[]:xn(In(E)),r=S[0],1!=S.length||1!==r.nodeType)throw ri("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");K(c,Z,r);var ae={$attr:{}},se=M(r,[],ae),le=e.splice(ne+1,e.length-(ne+1));z&&N(se),e=e.concat(se).concat(le),j(a,ae),ie=e.length}else Z.html(E);if(k.templateUrl)X=!0,B("template",W,k,Z),W=k,k.replace&&(ee=k),y=H(e.splice(ne,e.length-ne),Z,a,c,V&&te,d,f,{controllerDirectives:P,newIsolateScopeDirective:z,templateDirective:W,nonTlbTranscludeDirective:U}),ie=e.length;else if(k.compile)try{A=k.compile(Z,a,te),C(A)?p(null,A,re,oe):A&&p(A.pre,A.post,re,oe)}catch(e){l(e,q(Z))}k.terminal&&(y.terminal=!0,O=Math.max(O,k.priority))}return y.scope=x&&!0===x.scope,y.transcludeOnThisElement=V,y.templateOnThisElement=X,y.transclude=te,h.hasElementTranscludeDirective=Q,y}function N(e){for(var t=0,n=e.length;t<n;t++)e[t]=h(e[t],{$$isolateScope:!0})}function P(t,i,o,s,c,u,d){if(i===c)return null;var f=null;if(r.hasOwnProperty(i))for(var p,g=e.get(i+a),m=0,v=g.length;m<v;m++)try{p=g[m],(s===n||s>p.priority)&&-1!=p.restrict.indexOf(o)&&(u&&(p=h(p,{$$start:u,$$end:d})),t.push(p),f=p)}catch(e){l(e)}return f}function j(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(T(r,t),e.class=(e.class?e.class+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function H(e,t,n,i,r,a,s,l){var c,u,h=[],g=t[0],m=e.shift(),v=d({},m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=C(m.templateUrl)?m.templateUrl(t,n):m.templateUrl;return t.empty(),f.get(k.getTrustedResourceUrl(y),{cache:p}).success(function(d){var f,p,w,x;if(d=J(d),m.replace){if(w=ce(d)?[]:xn(In(d)),f=w[0],1!=w.length||1!==f.nodeType)throw ri("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,y);p={$attr:{}},K(i,t,f);var k=M(f,[],p);b(m.scope)&&N(k),e=k.concat(e),j(n,p)}else f=g,t.html(d);for(e.unshift(v),c=O(e,f,n,r,t,m,a,s,l),o(i,function(e,n){e==f&&(i[n]=t[0])}),u=A(t[0].childNodes,r);h.length;){var C=h.shift(),$=h.shift(),S=h.shift(),_=h.shift(),D=t[0];if($!==g){var I=$.className;l.hasElementTranscludeDirective&&m.replace||(D=he(f)),K(S,xn($),D),T(xn(D),I)}x=c.transcludeOnThisElement?E(C,c.transclude,_):_,c(u,C,D,i,x)}h=null}).error(function(e,t,n,i){throw ri("tpload","Failed to load template: {0}",i.url)}),function(e,t,n,i,r){var o=r;h?(h.push(t),h.push(n),h.push(i),h.push(o)):(c.transcludeOnThisElement&&(o=E(t,c.transclude,r)),c(u,t,n,i,o))}}function z(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function B(e,t,n,i){if(t)throw ri("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,q(i))}function W(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=t.length;return i&&T(e.parent(),"ng-binding"),function(e,t){var r=t.parent(),o=r.data("$binding")||[];o.push(n),r.data("$binding",o),i||T(r,"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function U(e,t){if("srcdoc"==t)return k.HTML;var n=$n(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"LINK"==n&&"href"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?k.RESOURCE_URL:void 0}function V(e,t,n,r){var o=i(n,!0);if(o){if("multiple"===r&&"SELECT"===$n(e))throw ri("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",q(e));t.push({priority:100,compile:function(){return{pre:function(t,n,a){var s=a.$$observers||(a.$$observers={});if(u.test(r))throw ri("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");(o=i(a[r],!0,U(e,r)))&&(a[r]=o(t),(s[r]||(s[r]=[])).$$inter=!0,(a.$$observers&&a.$$observers[r].$$scope||t).$watch(o,function(e,t){"class"===r&&e!=t?a.$updateClass(e,t):a.$set(r,e)}))}}}})}}function K(e,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]==a){e[r++]=i;for(var c=r,u=c+s-1,d=e.length;c<d;c++,u++)u<d?e[c]=e[u]:delete e[c];e.length-=s-1;break}l&&l.replaceChild(i,a);var f=t.createDocumentFragment();f.appendChild(a),i[xn.expando]=a[xn.expando];for(var h=1,p=n.length;h<p;h++){var g=n[h];xn(g).remove(),f.appendChild(g),delete n[h]}n[0]=i,n.length=1}function G(e,t){return d(function(){return e.apply(null,arguments)},e,t)}var Y=function(e,t){this.$$element=e,this.$attr=t||{}};Y.prototype={$normalize:Fe,$addClass:function(e){e&&e.length>0&&$.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&$.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=He(e,t),i=He(t,e);0===n.length?$.removeClass(this.$$element,i):0===i.length?$.addClass(this.$$element,n):$.setClass(this.$$element,n,i)},$set:function(e,t,i,r){var a,s=_e(this.$$element[0],e);s&&(this.$$element.prop(e,t),r=s),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Z(e,"-")),a=$n(this.$$element).toUpperCase(),("A"===a&&("href"===e||"xlinkHref"===e)||"IMG"===a&&"src"===e)&&(this[e]=t=S(t,"src"===e)),!1!==i&&(null===t||t===n?this.$$element.removeAttr(r):this.$$element.attr(r,t));var c=this.$$observers;c&&o(c[e],function(e){try{e(t)}catch(e){l(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers={}),r=i[e]||(i[e]=[]);return r.push(t),y.$evalAsync(function(){r.$$inter||t(n[e])}),t}};var X=i.startSymbol(),Q=i.endSymbol(),J="{{"==X||"}}"==Q?g:function(e){return e.replace(/\{\{/g,X).replace(/}}/g,Q)},te=/^ngAttr[A-Z]/;return _}]}function Fe(e){return se(e.replace(oi,""))}function He(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function ze(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){ne(t,"controller"),b(t)?d(e,t):e[t]=n},this.$get=["$injector","$window",function(n,r){return function(o,a){var s,l,c,u;if(w(o)&&(l=o.match(t),c=l[1],u=l[3],o=e.hasOwnProperty(c)?e[c]:ie(a.$scope,c,!0)||ie(r,c,!0),te(o,c,!0)),s=n.instantiate(o,a),u){if(!a||"object"!=typeof a.$scope)throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",c||o.name,u);a.$scope[u]=s}return s}}]}function Be(){this.$get=["$window",function(e){return xn(e.document)}]}function We(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Ue(e){var t,n,i,r={};return e?(o(e.split("\n"),function(e){i=e.indexOf(":"),t=gn(In(e.substr(0,i))),n=In(e.substr(i+1)),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r}function qe(e){var t=b(e)?e:n;return function(n){return t||(t=Ue(e)),n?t[gn(n)]||null:t}}function Ve(e,t,n){return C(n)?n(e,t):(o(n,function(n){e=n(e,t)}),e)}function Ke(e){return 200<=e&&e<300}function Ge(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,r={"Content-Type":"application/json;charset=utf-8"},a=this.defaults={transformResponse:[function(n){return w(n)&&(n=n.replace(i,""),e.test(n)&&t.test(n)&&(n=W(n))),n}],transformRequest:[function(e){return!b(e)||T(e)||A(e)?e:B(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(r),put:L(r),patch:L(r)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],c=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,i,r,u,f){function h(e){function t(e){var t=d({},e,{data:Ve(e.data,e.headers,i.transformResponse)});return Ke(e.status)?t:u.reject(t)}var i={method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},r=function(e){var t,n,i,r=a.headers,s=d({},e.headers);r=d({},r.common,r[gn(e.method)]);e:for(t in r){n=gn(t);for(i in s)if(gn(i)===n)continue e;s[t]=r[t]}return function(e){var t;o(e,function(n,i){C(n)&&(t=n(),null!=t?e[i]=t:delete e[i])})}(s),s}(e);d(i,e),i.headers=r,i.method=vn(i.method);var s=function(e){r=e.headers;var n=Ve(e.data,qe(r),e.transformRequest);return v(n)&&o(r,function(e,t){"content-type"===gn(t)&&delete r[t]}),v(e.withCredentials)&&!v(a.withCredentials)&&(e.withCredentials=a.withCredentials),p(e,n,r).then(t,t)},l=[s,n],c=u.when(i);for(o(x,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){var f=l.shift(),h=l.shift();c=c.then(f,h)}return c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,i)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,i)}),c},c}function p(i,o,s){function l(e,t,n,i){f&&(Ke(e)?f.put(k,[e,t,Ue(n),i]):f.remove(k)),c(t,e,n,i),r.$$phase||r.$apply()}function c(e,t,n,r){t=Math.max(t,0),(Ke(t)?w.resolve:w.reject)({data:e,status:t,headers:qe(n),config:i,statusText:r})}function d(){var e=O(h.pendingRequests,i);-1!==e&&h.pendingRequests.splice(e,1)}var f,p,w=u.defer(),x=w.promise,k=g(i.url,i.params);if(h.pendingRequests.push(i),x.then(d,d),!i.cache&&!a.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(f=b(i.cache)?i.cache:b(a.cache)?a.cache:m),f)if(p=f.get(k),y(p)){if(E(p))return p.then(d,d),p;Dn(p)?c(p[1],p[0],L(p[2]),p[3]):c(p,200,{},"OK")}else f.put(k,x);if(v(p)){var C=Ft(i.url)?t.cookies()[i.xsrfCookieName||a.xsrfCookieName]:n;C&&(s[i.xsrfHeaderName||a.xsrfHeaderName]=C),e(i.method,k,o,l,s,i.timeout,i.withCredentials,i.responseType)}return x}function g(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(Dn(e)||(e=[e]),o(e,function(e){b(e)&&(e=k(e)?e.toISOString():B(e)),n.push(X(t)+"="+X(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var m=i("$http"),x=[];return o(l,function(e){x.unshift(w(e)?f.get(e):f.invoke(e))}),o(c,function(e,t){var n=w(e)?f.get(e):f.invoke(e);x.splice(t,0,{response:function(e){return n(u.when(e))},responseError:function(e){return n(u.reject(e))}})}),h.pendingRequests=[],function(e){o(arguments,function(e){h[e]=function(t,n){return h(d(n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){h[e]=function(t,n,i){return h(d(i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=a,h}]}function Ye(t){if(wn<=8&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw i("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Xe(){this.$get=["$browser","$window","$document",function(e,t,n){return Qe(e,Ye,e.defer,t.angular.callbacks,n[0])}]}function Qe(e,t,n,i,r){function a(e,t,n){var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){Fn(o,"load",a),Fn(o,"error",a),r.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},jn(o,"load",a),jn(o,"error",a),wn<=8&&(o.onreadystatechange=function(){w(o.readyState)&&/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=null,a({type:"load"}))}),r.body.appendChild(o),a}var s=-1;return function(r,l,c,u,d,f,h,g){function m(){b=s,x&&x(),k&&k.abort()}function v(t,i,r,o,a){C&&n.cancel(C),x=k=null,0===i&&(i=r?200:"file"==jt(l).protocol?404:0),i=1223===i?204:i,a=a||"",t(i,r,o,a),e.$$completeOutstandingRequest(p)}var b;if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==gn(r)){var w="_"+(i.counter++).toString(36);i[w]=function(e){i[w].data=e,i[w].called=!0};var x=a(l.replace("JSON_CALLBACK","angular.callbacks."+w),w,function(e,t){v(u,e,i[w].data,"",t),i[w]=p})}else{var k=t(r);if(k.open(r,l,!0),o(d,function(e,t){y(e)&&k.setRequestHeader(t,e)}),k.onreadystatechange=function(){if(k&&4==k.readyState){var e=null,t=null,n="";b!==s&&(e=k.getAllResponseHeaders(),t="response"in k?k.response:k.responseText),b===s&&wn<10||(n=k.statusText),v(u,b||k.status,t,e,n)}},h&&(k.withCredentials=!0),g)try{k.responseType=g}catch(e){if("json"!==g)throw e}k.send(c||null)}if(f>0)var C=n(m,f);else E(f)&&f.then(m)}}function Je(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(o,l,c){for(var u,d,f,h,p=0,g=[],m=o.length,v=!1,y=[];p<m;)-1!=(u=o.indexOf(e,p))&&-1!=(d=o.indexOf(t,u+a))?(p!=u&&g.push(o.substring(p,u)),g.push(f=n(h=o.substring(u+a,d))),f.exp=h,p=d+s,v=!0):(p!=m&&g.push(o.substring(p)),p=m);if((m=g.length)||(g.push(""),m=1),c&&g.length>1)throw ai("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!l||v)return y.length=m,f=function(e){try{for(var t,n=0,a=m;n<a;n++){if("function"==typeof(t=g[n]))if(t=t(e),null==(t=c?r.getTrusted(c,t):r.valueOf(t)))t="";else switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=B(t)}y[n]=t}return y.join("")}catch(e){var s=ai("interr","Can't interpolate: {0}\n{1}",o,e.toString());i(s)}},f.exp=o,f.parts=g,f}var a=e.length,s=t.length;return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function Ze(){this.$get=["$rootScope","$window","$q",function(e,t,n){function i(i,o,a,s){var l=t.setInterval,c=t.clearInterval,u=n.defer(),d=u.promise,f=0,h=y(s)&&!s;return a=y(a)?a:0,d.then(null,null,i),d.$$intervalId=l(function(){u.notify(f++),a>0&&f>=a&&(u.resolve(f),c(d.$$intervalId),delete r[d.$$intervalId]),h||e.$apply()},o),r[d.$$intervalId]=u,d}var r={};return i.cancel=function(e){return!!(e&&e.$$intervalId in r)&&(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0)},i}]}function et(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function tt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Y(t[n]);return t.join("/")}function nt(e,t,n){var i=jt(e,n);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=f(i.port)||li[i.protocol]||null}function it(e,t,n){var i="/"!==e.charAt(0);i&&(e="/"+e);var r=jt(e,n);t.$$path=decodeURIComponent(i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=K(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function rt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function ot(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function at(e){return e.replace(/(#.+)|#$/,"$1")}function st(e){return e.substr(0,ot(e).lastIndexOf("/")+1)}function lt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function ct(e,t){this.$$html5=!0,t=t||"";var i=st(e);nt(e,this,e),this.$$parse=function(t){var n=rt(i,t);if(!w(n))throw ci("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,i);it(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),t=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=tt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){var a,s,l;return(a=rt(e,r))!==n?(s=a,l=(a=rt(t,a))!==n?i+(rt("/",a)||a):e+s):(a=rt(i,r))!==n?l=i+a:i==r+"/"&&(l=i),l&&this.$$parse(l),!!l}}function ut(e,t){var n=st(e);nt(e,this,e),this.$$parse=function(i){var r=rt(e,i)||rt(n,i),o="#"==r.charAt(0)?rt(t,r):this.$$html5?r:"";if(!w(o))throw ci("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',i,t);it(o,this,e),this.$$path=function(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=G(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=tt(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return ot(e)==ot(t)&&(this.$$parse(t),!0)}}function dt(e,t){this.$$html5=!0,ut.apply(this,arguments);var n=st(e);this.$$parseLinkUrl=function(i,r){var o,a;return e==ot(i)?o=i:(a=rt(n,i))?o=e+t+a:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=G(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=tt(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+t+this.$$url}}function ft(e){return function(){return this[e]}}function ht(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function pt(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(e){return y(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,r,o,a){function s(e){i.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,c,u,d=r.baseHref(),f=r.url();n?(u=lt(f)+(d||"/"),c=o.history?ct:dt):(u=ot(f),c=ut),l=new c(u,"#"+t),l.$$parseLinkUrl(f,f);var h=/^\s*(javascript|mailto):/i;a.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=xn(t.target);"a"!==gn(n[0].nodeName);)if(n[0]===a[0]||!(n=n.parent())[0])return;var o=n.prop("href"),s=n.attr("href")||n.attr("xlink:href");b(o)&&"[object SVGAnimatedString]"===o.toString()&&(o=jt(o.animVal).href),h.test(o)||!o||n.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(o,s)&&(t.preventDefault(),l.absUrl()!=r.url()&&(i.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=f&&r.url(l.absUrl(),!0),r.onUrlChange(function(e){l.absUrl()!=e&&(i.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),i.$broadcast("$locationChangeStart",e,t).defaultPrevented?(l.$$parse(t),r.url(t)):s(t)}),i.$$phase||i.$digest())});var p=0;return i.$watch(function(){var e=at(r.url()),t=at(l.absUrl()),n=l.$$replace;return p&&e==t||(p++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(r.url(l.absUrl(),n),s(e))})),l.$$replace=!1,p}),l}]}function gt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||p,a=!1;try{a=!!r.apply}catch(e){}return a?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function mt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw di("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function vt(e,t){if(e+="",!w(e))throw di("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function yt(e,t){if(e){if(e.constructor===e)throw di("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw di("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw di("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw di("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function bt(e,t){if(e){if(e.constructor===e)throw di("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===hi||e===pi||gi&&e===gi)throw di("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function wt(e,t,i,r,o){yt(e,r),o=o||{};for(var a,s=t.split("."),l=0;s.length>1;l++){a=mt(s.shift(),r);var c=yt(e[a],r);c||(c={},e[a]=c),e=c,e.then&&o.unwrapPromises&&(ui(r),"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return a=mt(s.shift(),r),yt(e[a],r),e[a]=i,i}function xt(e){return"constructor"==e}function kt(e,t,i,r,o,a,s){mt(e,a),mt(t,a),mt(i,a),mt(r,a),mt(o,a);var l=function(e){return yt(e,a)},c=s.expensiveChecks,u=c||xt(e)?l:g,d=c||xt(t)?l:g,f=c||xt(i)?l:g,h=c||xt(r)?l:g,p=c||xt(o)?l:g;return s.unwrapPromises?function(s,l){var c,g=l&&l.hasOwnProperty(e)?l:s;return null==g?g:(g=u(g[e]),g&&g.then&&(ui(a),"$$v"in g||(c=g,c.$$v=n,c.then(function(e){c.$$v=u(e)})),g=u(g.$$v)),t?null==g?n:(g=d(g[t]),g&&g.then&&(ui(a),"$$v"in g||(c=g,c.$$v=n,c.then(function(e){c.$$v=d(e)})),g=d(g.$$v)),i?null==g?n:(g=f(g[i]),g&&g.then&&(ui(a),"$$v"in g||(c=g,c.$$v=n,c.then(function(e){c.$$v=f(e)})),g=f(g.$$v)),r?null==g?n:(g=h(g[r]),g&&g.then&&(ui(a),"$$v"in g||(c=g,c.$$v=n,c.then(function(e){c.$$v=h(e)})),g=h(g.$$v)),o?null==g?n:(g=p(g[o]),g&&g.then&&(ui(a),"$$v"in g||(c=g,c.$$v=n,c.then(function(e){c.$$v=p(e)})),g=p(g.$$v)),g):g):g):g):g)}:function(a,s){var l=s&&s.hasOwnProperty(e)?s:a;return null==l?l:(l=u(l[e]),t?null==l?n:(l=d(l[t]),i?null==l?n:(l=f(l[i]),r?null==l?n:(l=h(l[r]),o?null==l?n:l=p(l[o]):l):l):l):l)}}function Ct(e,t){return function(n,i){return e(n,i,ui,yt,t)}}function $t(e,t,i){var r=t.expensiveChecks,a=r?xi:wi;if(a.hasOwnProperty(e))return a[e];var s,l=e.split("."),c=l.length;if(t.csp)s=c<6?kt(l[0],l[1],l[2],l[3],l[4],i,t):function(e,r){var o,a=0;do{o=kt(l[a++],l[a++],l[a++],l[a++],l[a++],i,t)(e,r),r=n,e=o}while(a<c);return o};else{var u="var p;\n";r&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=r;o(l,function(e,n){mt(e,i);var o=(n?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+'["'+e+'"]',a=r||xt(e);a&&(o="eso("+o+", fe)",d=!0),u+="if(s == null) return undefined;\ns="+o+";\n",t.unwrapPromises&&(u+='if (s && s.then) {\n pw("'+i.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v='+(a?"eso(v)":"v")+";});\n}\n s="+(a?"eso(s.$$v)":"s.$$v")+"\n}\n")}),u+="return s;";var f=new Function("s","l","pw","eso","fe",u);f.toString=m(u),(d||t.unwrapPromises)&&(f=Ct(f,i)),s=f}return"hasOwnProperty"!==e&&(a[e]=s),s}function St(){var e={},t={},n={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0,expensiveChecks:!1};this.unwrapPromises=function(e){return y(e)?(n.unwrapPromises=!!e,this):n.unwrapPromises},this.logPromiseWarnings=function(e){return y(e)?(n.logPromiseWarnings=e,this):n.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(i,r,o){n.csp=r.csp;var a={csp:n.csp,unwrapPromises:n.unwrapPromises,logPromiseWarnings:n.logPromiseWarnings,expensiveChecks:!0};return ui=function(e){n.logPromiseWarnings&&!fi.hasOwnProperty(e)&&(fi[e]=!0,o.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r,o){var s;switch(typeof r){case"string":var l=o?t:e;if(l.hasOwnProperty(r))return l[r];var c=o?a:n,u=new yi(c);return s=new bi(u,i,c).parse(r),"hasOwnProperty"!==r&&(l[r]=s),s;case"function":return r;default:return p}}}]}function _t(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Tt(function(t){e.$evalAsync(t)},t)}]}function Tt(e,t){function i(e){return e}function r(e){return c(e)}function a(e){var t=s(),n=0,i=Dn(e)?[]:{};return o(e,function(e,r){n++,l(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var s=function(){var o,a,c=[];return a={resolve:function(t){if(c){var i=c;c=n,o=l(t),i.length&&e(function(){for(var e,t=0,n=i.length;t<n;t++)e=i[t],o.then(e[0],e[1],e[2])})}},reject:function(e){a.resolve(u(e))},notify:function(t){if(c){var n=c;c.length&&e(function(){for(var e,i=0,r=n.length;i<r;i++)e=n[i],e[2](t)})}},promise:{then:function(e,n,a){var l=s(),u=function(n){try{l.resolve((C(e)?e:i)(n))}catch(e){l.reject(e),t(e)}},d=function(e){try{l.resolve((C(n)?n:r)(e))}catch(e){l.reject(e),t(e)}},f=function(e){try{l.notify((C(a)?a:i)(e))}catch(e){t(e)}};return c?c.push([u,d,f]):o.then(u,d,f),l.promise},catch:function(e){return this.then(null,e)},finally:function(e){function t(e,t){var n=s();return t?n.resolve(e):n.reject(e),n.promise}function n(n,r){var o=null;try{o=(e||i)()}catch(e){return t(e,!1)}return E(o)?o.then(function(){return t(n,r)},function(e){return t(e,!1)}):t(n,r)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},l=function(t){return E(t)?t:{then:function(n){var i=s();return e(function(){i.resolve(n(t))}),i.promise}}},c=function(e){var t=s();return t.reject(e),t.promise},u=function(n){return{then:function(i,o){var a=s();return e(function(){try{a.resolve((C(o)?o:r)(n))}catch(e){a.reject(e),t(e)}}),a.promise}}};return{defer:s,reject:c,when:function(n,o,a,u){var d,f=s(),h=function(e){try{return(C(o)?o:i)(e)}catch(e){return t(e),c(e)}},p=function(e){try{return(C(a)?a:r)(e)}catch(e){return t(e),c(e)}},g=function(e){try{return(C(u)?u:i)(e)}catch(e){t(e)}};return e(function(){l(n).then(function(e){d||(d=!0,f.resolve(l(e).then(h,p,g)))},function(e){d||(d=!0,f.resolve(p(e)))},function(e){d||f.notify(g(e))})}),f.promise},all:a}}function At(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Et(){var e=10,t=i("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,a,s,l){function u(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.this=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function d(e){if(v.$$phase)throw t("inprog","{0} already in progress",v.$$phase);v.$$phase=e}function f(){v.$$phase=null}function h(e,t){var n=s(e);return te(n,t),n}function g(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function m(){}u.prototype={constructor:u,$new:function(e){var t;return e?(t=new u,t.$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),t=new this.$$childScopeClass),t.this=t,t.$parent=this,t.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=t,this.$$childTail=t):this.$$childHead=this.$$childTail=t,t},$watch:function(e,t,i){var r=this,o=h(e,"watch"),a=r.$$watchers,s={fn:t,last:m,get:o,exp:e,eq:!!i};if(n=null,!C(t)){var l=h(t||p,"listener");s.fn=function(e,t,n){l(n)}}if("string"==typeof e&&o.constant){var c=s.fn;s.fn=function(e,t,n){c.call(this,e,t,n),N(a,s)}}return a||(a=r.$$watchers=[]),a.unshift(s),function(){N(a,s),n=null}},$watchCollection:function(e,t){function n(){o=f(c);var e,t;if(b(o))if(r(o)){a!==h&&(a=h,m=a.length=0,d++),e=o.length,m!==e&&(d++,a.length=m=e);for(var n=0;n<e;n++)a[n]!==a[n]&&o[n]!==o[n]||a[n]===o[n]||(d++,a[n]=o[n])}else{a!==p&&(a=p={},m=0,d++),e=0;for(t in o)o.hasOwnProperty(t)&&(e++,a.hasOwnProperty(t)?a[t]!==a[t]&&o[t]!==o[t]||a[t]===o[t]||(d++,a[t]=o[t]):(m++,a[t]=o[t],d++));if(m>e){d++;for(t in a)a.hasOwnProperty(t)&&!o.hasOwnProperty(t)&&(m--,delete a[t])}}else a!==o&&(a=o,d++);return d}function i(){if(g?(g=!1,t(o,o,c)):t(o,l,c),u)if(b(o))if(r(o)){l=new Array(o.length);for(var e=0;e<o.length;e++)l[e]=o[e]}else{l={};for(var n in o)mn.call(o,n)&&(l[n]=o[n])}else l=o}var o,a,l,c=this,u=t.length>1,d=0,f=s(e),h=[],p={},g=!0,m=0;return this.$watch(n,i)},$digest:function(){var i,r,o,s,c,u,h,p,g,v,y,b=this.$$asyncQueue,w=this.$$postDigestQueue,x=e,k=this,$=[];d("$digest"),l.$$checkUrlChange(),n=null;do{for(u=!1,p=k;b.length;){try{y=b.shift(),y.scope.$eval(y.expression)}catch(e){f(),a(e)}n=null}e:do{if(s=p.$$watchers)for(c=s.length;c--;)try{if(i=s[c])if((r=i.get(p))===(o=i.last)||(i.eq?R(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(i===n){u=!1;break e}}else u=!0,n=i,i.last=i.eq?P(r,null):r,i.fn(r,o===m?r:o,p),x<5&&(g=4-x,$[g]||($[g]=[]),v=C(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,v+="; newVal: "+B(r)+"; oldVal: "+B(o),$[g].push(v))}catch(e){f(),a(e)}if(!(h=p.$$childHead||p!==k&&p.$$nextSibling))for(;p!==k&&!(h=p.$$nextSibling);)p=p.$parent}while(p=h);if((u||b.length)&&!x--)throw f(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,B($))}while(u||b.length);for(f();w.length;)try{w.shift()()}catch(e){a(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v&&(o(this.$$listenerCount,H(null,g,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=p,this.$on=this.$watch=function(){return p})}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){v.$$phase||v.$$asyncQueue.length||l.defer(function(){v.$$asyncQueue.length&&v.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(e){a(e)}finally{f();try{v.$digest()}catch(e){throw a(e),e}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=O(n,t);-1!==i&&(n[i]=null,g(r,1,e))}},$emit:function(e,t){var n,i,r,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=j([c],arguments,1);do{for(n=s.$$listeners[e]||o,c.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,u)}catch(e){a(e)}else n.splice(i,1),i--,r--;if(l)return c;s=s.$parent}while(s);return c},$broadcast:function(e,t){for(var n,i,r,o=this,s=o,l=o,c={name:e,targetScope:o,preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=j([c],arguments,1);s=l;){for(c.currentScope=s,n=s.$$listeners[e]||[],i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,u)}catch(e){a(e)}else n.splice(i,1),i--,r--;if(!(l=s.$$listenerCount[e]&&s.$$childHead||s!==o&&s.$$nextSibling))for(;s!==o&&!(l=s.$$nextSibling);)s=s.$parent}return c}};var v=new u;return v}]}function Mt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return wn&&!(wn>=8)||""===(r=jt(n).href)||r.match(o)?n:"unsafe:"+r}}}function Dt(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function It(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw ki("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Dt(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if($(e))return new RegExp("^"+e.source+"$");throw ki("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Ot(e){var t=[];return y(e)&&o(e,function(e){t.push(It(e))}),t}function Nt(){this.SCE_CONTEXTS=Ci;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Ot(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Ot(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?Ft(t):!!e.exec(t.href)}function o(n){var i,o,a=jt(n.toString()),s=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var i=f.hasOwnProperty(e)?f[e]:null;if(!i)throw ki("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw ki("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)}function l(e){return e instanceof d?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||t===n||""===t)return t;var i=f.hasOwnProperty(e)?f[e]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(e===Ci.RESOURCE_URL){if(o(t))return t;throw ki("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ci.HTML)return u(t);throw ki("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw ki("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(u=i.get("$sanitize"));var d=a(),f={};return f[Ci.HTML]=a(d),f[Ci.CSS]=a(d),f[Ci.URL]=a(d),f[Ci.JS]=a(d),f[Ci.RESOURCE_URL]=a(f[Ci.URL]),{trustAs:s,getTrusted:c,valueOf:l}}]}function Pt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,i){if(e&&n.msie&&n.msieDocumentMode<8)throw ki("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=L(Ci);r.isEnabled=function(){return e},r.trustAs=i.trustAs,r.getTrusted=i.getTrusted,r.valueOf=i.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:function(t,n){return r.getTrusted(e,i(t,n))}};var a=r.parseAs,s=r.getTrusted,l=r.trustAs;return o(Ci,function(e,t){var n=gn(t);r[se("parse_as_"+n)]=function(t){return a(e,t)},r[se("get_trusted_"+n)]=function(t){return s(e,t)},r[se("trust_as_"+n)]=function(t){return l(e,t)}}),r}]}function Lt(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=f((/android (\d+)/.exec(gn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=s.documentMode,c=/^(Moz|webkit|O|ms)(?=[A-Z])/,u=s.body&&s.body.style,d=!1,h=!1;if(u){for(var p in u)if(i=c.exec(p)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),d=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!o||d&&h||(d=w(s.body.style.webkitTransition),h=w(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||o<4||a),hashchange:"onhashchange"in e&&(!l||l>7),hasEvent:function(e){if("input"==e&&9==wn)return!1;if(v(r[e])){var t=s.createElement("div");r[e]="on"+e in t}return r[e]},csp:On(),vendorPrefix:n,transitions:d,animations:h,android:o,msie:wn,msieDocumentMode:l}}]}function Rt(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,i){function r(r,a,s){var l,c=n.defer(),u=c.promise,d=y(s)&&!s;return l=t.defer(function(){try{c.resolve(r())}catch(e){c.reject(e),i(e)}finally{delete o[u.$$timeoutId]}d||e.$apply()},a),u.$$timeoutId=l,o[l]=c,u}var o={};return r.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},r}]}function jt(e,t){var n=e;return wn&&($i.setAttribute("href",n),n=$i.href),$i.setAttribute("href",n),{href:$i.href,protocol:$i.protocol?$i.protocol.replace(/:$/,""):"",host:$i.host,search:$i.search?$i.search.replace(/^\?/,""):"",hash:$i.hash?$i.hash.replace(/^#/,""):"",hostname:$i.hostname,port:$i.port,pathname:"/"===$i.pathname.charAt(0)?$i.pathname:"/"+$i.pathname}}function Ft(e){var t=w(e)?jt(e):e;return t.protocol===Si.protocol&&t.host===Si.host}function Ht(){this.$get=m(e)}function zt(e){function t(i,r){if(b(i)){var a={};return o(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Wt),t("date",Qt),t("filter",Bt),t("json",Jt),t("limitTo",Zt),t("lowercase",Mi),t("number",Ut),t("orderBy",en),t("uppercase",Di)}function Bt(){return function(e,t,n){if(!Dn(e))return e;var i=typeof n,r=[];r.check=function(e){for(var t=0;t<r.length;t++)if(!r[t](e))return!1;return!0},"function"!==i&&(n="boolean"===i&&n?function(e,t){return En.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var i in e)if("$"!==i.charAt(0)&&mn.call(e,i)&&n(e[i],t[i]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var o=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var i in e)if("$"!==i.charAt(0)&&o(e[i],t))return!0}return!1;case"array":for(var r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var a in t)!function(e){void 0!==t[e]&&r.push(function(n){return o("$"==e?n:n&&n[e],t[e])})}(a);break;case"function":r.push(t);break;default:return e}for(var s=[],l=0;l<e.length;l++){var c=e[l];r.check(c)&&s.push(c)}return s}}function Wt(e){var t=e.NUMBER_FORMATS;return function(e,n){return v(n)&&(n=t.CURRENCY_SYM),qt(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Ut(e){var t=e.NUMBER_FORMATS;return function(e,n){return qt(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function qt(e,t,n,i,r){if(null==e||!isFinite(e)||b(e))return"";var o=e<0;e=Math.abs(e);var a=e+"",s="",l=[],c=!1;if(-1!==a.indexOf("e")){var u=a.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?(a="0",e=0):(s=a,c=!0)}if(c)r>0&&e>-1&&e<1&&(s=e.toFixed(r));else{var d=(a.split(_i)[1]||"").length;v(r)&&(r=Math.min(Math.max(t.minFrac,d),t.maxFrac)),0===(e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r))&&(o=!1);var f=(""+e).split(_i),h=f[0];f=f[1]||"";var p,g=0,m=t.lgSize,y=t.gSize;if(h.length>=m+y)for(g=h.length-m,p=0;p<g;p++)(g-p)%y==0&&0!==p&&(s+=n),s+=h.charAt(p);for(p=g;p<h.length;p++)(h.length-p)%m==0&&0!==p&&(s+=n),s+=h.charAt(p);for(;f.length<r;)f+="0";r&&"0"!==r&&(s+=i+f.substr(0,r))}return l.push(o?t.negPre:t.posPre),l.push(s),l.push(o?t.negSuf:t.posSuf),l.join("")}function Vt(e,t,n){var i="";for(e<0&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Kt(e,t,n,i){return n=n||0,function(r){var o=r["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Vt(o,t,i)}}function Gt(e,t){return function(n,i){var r=n["get"+e]();return i[vn(t?"SHORT"+e:e)][r]}}function Yt(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=Vt(Math[t>0?"floor":"ceil"](t/60),2)+Vt(Math.abs(t%60),2)}function Xt(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Qt(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=f(t[9]+t[10]),o=f(t[9]+t[11])),a.call(i,f(t[1]),f(t[2])-1,f(t[3]));var l=f(t[4]||0)-r,c=f(t[5]||0)-o,u=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,c,u,d),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i){var r,a,s="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,w(n)&&(n=Ei.test(n)?f(n):t(n)),x(n)&&(n=new Date(n)),!k(n))return n;for(;i;)a=Ai.exec(i),a?(l=j(l,a,1),i=l.pop()):(l.push(i),i=null);return o(l,function(t){r=Ti[t],s+=r?r(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Jt(){return function(e){return B(e,!0)}}function Zt(){return function(e,t){return Dn(e)||w(e)?(t=Math.abs(Number(t))===1/0?Number(t):f(t),t?t>0?e.slice(0,t):e.slice(t):w(e)?"":[]):e}}function en(e){return function(t,n,i){function o(e,t){for(var i=0;i<n.length;i++){var r=n[i](e,t);if(0!==r)return r}return 0}function a(e,t){return U(t)?function(t,n){return e(n,t)}:e}function s(e,t){var n=typeof e,i=typeof t;return n==i?(k(e)&&k(t)&&(e=e.valueOf(),t=t.valueOf()),"string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):n<i?-1:1}return r(t)?(n=Dn(n)?n:[n],0===n.length&&(n=["+"]),n=D(n,function(t){var n=!1,i=t||g;if(w(t)){if("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0),t=t.substring(1)),""===t)return a(function(e,t){return s(e,t)},n);if(i=e(t),i.constant){var r=i();return a(function(e,t){return s(e[r],t[r])},n)}}return a(function(e,t){return s(i(e),i(t))},n)}),Sn.call(t).sort(a(o,i))):t}}function tn(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function nn(e,t,n,i){function r(t,n){n=n?"-"+Z(n,"-"):"",i.setClass(e,(t?Ui:qi)+n,(t?qi:Ui)+n)}var a=this,s=e.parent().controller("form")||Ni,l=0,c=a.$error={},u=[];a.$name=t.name||t.ngForm,a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,s.$addControl(a),e.addClass(Vi),r(!0),a.$addControl=function(e){ne(e.$name,"input"),u.push(e),e.$name&&(a[e.$name]=e)},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(c,function(t,n){a.$setValidity(n,!0,e)}),N(u,e)},a.$setValidity=function(e,t,n){var i=c[e];if(t)i&&(N(i,n),i.length||(l--,l||(r(t),a.$valid=!0,a.$invalid=!1),c[e]=!1,r(!0,e),s.$setValidity(e,!0,a)));else{if(l||r(t),i){if(I(i,n))return}else c[e]=i=[],l++,r(!1,e),s.$setValidity(e,!1,a);i.push(n),a.$valid=!1,a.$invalid=!0}},a.$setDirty=function(){i.removeClass(e,Vi),i.addClass(e,Ki),a.$dirty=!0,a.$pristine=!1,s.$setDirty()},a.$setPristine=function(){i.removeClass(e,Ki),i.addClass(e,Vi),a.$dirty=!1,a.$pristine=!0,o(u,function(e){e.$setPristine()})}}function rn(e,t,i,r){return e.$setValidity(t,i),i?r:n}function on(e,t){var n,i;if(t)for(n=0;n<t.length;++n)if(i=t[n],e[i])return!0;return!1}function an(e,t,n,i,r){if(b(r)){e.$$hasNativeValidators=!0;var o=function(o){return e.$error[t]||on(r,i)||!on(r,n)?o:void e.$setValidity(t,!1)};e.$parsers.push(o)}}function sn(e,t,n,r,o,a){var s=t.prop(pn),l=t[0].placeholder,c={},u=gn(t[0].type);if(r.$$validityState=s,!o.android){var d=!1;t.on("compositionstart",function(e){d=!0}),t.on("compositionend",function(){d=!1,h()})}var h=function(i){if(!d){var o=t.val();if(wn&&"input"===(i||c).type&&t[0].placeholder!==l)return void(l=t[0].placeholder);"password"!==u&&U(n.ngTrim||"T")&&(o=In(o));var a=s&&r.$$hasNativeValidators;(r.$viewValue!==o||""===o&&a)&&(e.$root.$$phase?r.$setViewValue(o):e.$apply(function(){r.$setViewValue(o)}))}};if(o.hasEvent("input"))t.on("input",h);else{var p,g=function(){p||(p=a.defer(function(){h(),p=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||g()}),o.hasEvent("paste")&&t.on("paste cut",g)}t.on("change",h),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)};var m,v,y=n.ngPattern;if(y){var b=function(e,t){return rn(r,"pattern",r.$isEmpty(t)||e.test(t),t)};v=y.match(/^\/(.*)\/([gim]*)$/),v?(y=new RegExp(v[1],v[2]),m=function(e){return b(y,e)}):m=function(n){var r=e.$eval(y);if(!r||!r.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",y,r,q(t));return b(r,n)},r.$formatters.push(m),r.$parsers.push(m)}if(n.ngMinlength){var w=f(n.ngMinlength),x=function(e){return rn(r,"minlength",r.$isEmpty(e)||e.length>=w,e)};r.$parsers.push(x),r.$formatters.push(x)}if(n.ngMaxlength){var k=f(n.ngMaxlength),C=function(e){return rn(r,"maxlength",r.$isEmpty(e)||e.length<=k,e)};r.$parsers.push(C),r.$formatters.push(C)}}function ln(e,t,i,r,o,a){if(sn(e,t,i,r,o,a),r.$parsers.push(function(e){var t=r.$isEmpty(e);return t||Hi.test(e)?(r.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(r.$setValidity("number",!1),n)}),an(r,"number",Bi,null,r.$$validityState),r.$formatters.push(function(e){return r.$isEmpty(e)?"":""+e}),i.min){var s=function(e){var t=parseFloat(i.min);return rn(r,"min",r.$isEmpty(e)||e>=t,e)};r.$parsers.push(s),r.$formatters.push(s)}if(i.max){var l=function(e){var t=parseFloat(i.max);return rn(r,"max",r.$isEmpty(e)||e<=t,e)};r.$parsers.push(l),r.$formatters.push(l)}r.$formatters.push(function(e){return rn(r,"number",r.$isEmpty(e)||x(e),e)})}function cn(e,t,n,i,r,o){sn(e,t,n,i,r,o);var a=function(e){return rn(i,"url",i.$isEmpty(e)||ji.test(e),e)};i.$formatters.push(a),i.$parsers.push(a)}function un(e,t,n,i,r,o){sn(e,t,n,i,r,o);var a=function(e){return rn(i,"email",i.$isEmpty(e)||Fi.test(e),e)};i.$formatters.push(a),i.$parsers.push(a)}function dn(e,t,n,i){v(n.name)&&t.attr("name",c()),t.on("click",function(){t[0].checked&&e.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function fn(e,t,n,i){var r=n.ngTrueValue,o=n.ngFalseValue;w(r)||(r=!0),w(o)||(o=!1),t.on("click",function(){e.$apply(function(){i.$setViewValue(t[0].checked)})}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e!==r},i.$formatters.push(function(e){return e===r}),i.$parsers.push(function(e){return e?r:o})}function hn(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){if(Dn(e))return e;if(w(e))return e.split(" ");if(b(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(a,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||{},i=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function f(e,t){var r=i(t,e),o=i(e,t);o=d(o,-1),r=d(r,1),0===r.length?n.removeClass(s,o):0===o.length?n.addClass(s,r):n.setClass(s,r,o)}function h(e){if(!0===t||a.$index%2===t){var n=r(e||[]);if(p){if(!R(e,p)){var i=r(p);f(i,n)}}else c(n)}p=L(e)}var p;a.$watch(l[e],h,!0),l.$observe("class",function(t){h(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(l[e]));o===t?c(s):u(s)}})}}}]}var pn="validity",gn=function(e){return w(e)?e.toLowerCase():e},mn=Object.prototype.hasOwnProperty,vn=function(e){return w(e)?e.toUpperCase():e},yn=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},bn=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(gn=yn,vn=bn);var wn,xn,kn,Cn,$n,Sn=[].slice,_n=[].push,Tn=Object.prototype.toString,An=i("ng"),En=e.angular||(e.angular={}),Mn=["0","0","0"];wn=f((/msie (\d+)/.exec(gn(navigator.userAgent))||[])[1]),isNaN(wn)&&(wn=f((/trident\/.*; rv:(\d+)/.exec(gn(navigator.userAgent))||[])[1])),p.$inject=[],g.$inject=[];var Dn=function(){return C(Array.isArray)?Array.isArray:function(e){return"[object Array]"===Tn.call(e)}}(),In=function(){return String.prototype.trim?function(e){return w(e)?e.trim():e}:function(e){return w(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();$n=wn<9?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?vn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var On=function(){if(y(On.isActive_))return On.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return On.isActive_=e},Nn=/[A-Z]/g,Pn={full:"1.2.32",major:1,minor:2,dot:32,codeName:"alternation-intention"};fe.expando="ng339";var Ln=fe.cache={},Rn=1,jn=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Fn=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},Hn=(fe._data=function(e){return this.cache[e[this.expando]]||{}},/([\:\-\_]+(.))/g),zn=/^moz([A-Z])/,Bn=i("jqLite"),Wn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Un=/<|&#?\w+;/,qn=/<([\w:]+)/,Vn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kn={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kn.optgroup=Kn.option,Kn.tbody=Kn.tfoot=Kn.colgroup=Kn.caption=Kn.thead,Kn.th=Kn.td;var Gn=fe.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),fe(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return xn(e>=0?this[e]:this[this.length+e])},length:0,push:_n,sort:[].sort,splice:[].splice},Yn={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Yn[gn(e)]=e});var Xn={};o("input,select,option,textarea,button,form,details".split(","),function(e){Xn[vn(e)]=!0}),o({data:ye,removeData:me},function(e,t){fe[t]=e}),o({data:ye,inheritedData:$e,scope:function(e){return xn.data(e,"$scope")||$e(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return xn.data(e,"$isolateScope")||xn.data(e,"$isolateScopeNoTemplate")},controller:Ce,injector:function(e){return $e(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:be,css:function(e,t,i){if(t=se(t),!y(i)){var r;return wn<=8&&""===(r=e.currentStyle&&e.currentStyle[t])&&(r="auto"),r=r||e.style[t],wn<=8&&(r=""===r?n:r),r}e.style[t]=i},attr:function(e,t,i){var r=gn(t);if(Yn[r]){if(!y(i))return e[t]||(e.attributes.getNamedItem(t)||p).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(y(i))e.setAttribute(t,i);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}},prop:function(e,t,n){if(!y(n))return e[t];e[t]=n},text:function(){function e(e,n){var i=t[e.nodeType];if(v(n))return i?e[i]:"";e[i]=n}var t=[];return wn<9?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(v(t)){if("SELECT"===$n(e)&&e.multiple){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(v(t))return e.innerHTML;for(var n=0,i=e.childNodes;n<i.length;n++)pe(i[n]);e.innerHTML=t},empty:Se},function(e,t){fe.prototype[t]=function(t,i){var r,o,a=this.length;if(e!==Se&&(2==e.length&&e!==be&&e!==Ce?t:i)===n){if(b(t)){for(r=0;r<a;r++)if(e===ye)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(var s=e.$dv,l=s===n?Math.min(a,1):a,c=0;c<l;c++){var u=e(this[c],t,i);s=s?s+u:u}return s}for(r=0;r<a;r++)e(this[r],t,i);return this}}),o({removeData:me,dealoc:pe,on:function e(n,i,r,a){if(y(a))throw Bn("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var s=ve(n,"events"),l=ve(n,"handle");s||ve(n,"events",s={}),l||ve(n,"handle",l=Te(n,s)),o(i.split(" "),function(i){var o=s[i];if(!o){if("mouseenter"==i||"mouseleave"==i){var a=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};s[i]=[],e(n,{mouseleave:"mouseout",mouseenter:"mouseover"}[i],function(e){var t=this,n=e.relatedTarget;n&&(n===t||a(t,n))||l(e,i)})}else jn(n,i,l),s[i]=[];o=s[i]}o.push(r)})},off:ge,one:function(e,t,n){e=xn(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;pe(e),o(new fe(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){o(new fe(t),function(t){1!==e.nodeType&&11!==e.nodeType||e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;o(new fe(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=xn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){pe(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,i=e.parentNode;o(new fe(t),function(e){i.insertBefore(e,n.nextSibling),n=e})},addClass:xe,removeClass:we,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;v(i)&&(i=!be(e,t)),(i?xe:we)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:he,triggerHandler:function(e,t,n){var i,r,a,s=t.type||t,l=(ve(e,"events")||{})[s];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopPropagation:p,type:s,target:e},t.type&&(i=d(i,t)),r=L(l),a=n?[i].concat(n):[i],o(r,function(t){t.apply(e,a)}))}},function(e,t){fe.prototype[t]=function(t,n,i){for(var r,o=0;o<this.length;o++)v(r)?(r=e(this[o],t,n,i),y(r)&&(r=xn(r))):ke(r,e(this[o],t,n,i));return y(r)?r:this},fe.prototype.bind=fe.prototype.on,fe.prototype.unbind=fe.prototype.off}),Ee.prototype={put:function(e,t){this[Ae(e,this.nextUid)]=t},get:function(e){return this[Ae(e,this.nextUid)]},remove:function(e){var t=this[e=Ae(e,this.nextUid)];return delete this[e],t}};var Qn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Jn=/,/,Zn=/^\s*(_?)(\S+?)\1\s*$/,ei=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ti=i("$injector"),ni=i("$animate"),ii=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw ni("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,i,r){i?i.after(e):(t&&t[0]||(t=i.parent()),t.append(e)),n(r)},leave:function(e,t){e.remove(),n(t)},move:function(e,t,n,i){this.enter(e,t,n,i)},addClass:function(e,t,i){t=w(t)?t:Dn(t)?t.join(" "):"",o(e,function(e){xe(e,t)}),n(i)},removeClass:function(e,t,i){t=w(t)?t:Dn(t)?t.join(" "):"",o(e,function(e){we(e,t)}),n(i)},setClass:function(e,t,i,r){o(e,function(e){xe(e,t),we(e,i)}),n(r)},enabled:p}}]}],ri=i("$compile");je.$inject=["$provide","$$sanitizeUriProvider"];var oi=/^(x[\:\-_]|data[\:\-_])/i,ai=i("$interpolate"),si=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,li={http:80,https:443,ftp:21},ci=i("$location");dt.prototype=ut.prototype=ct.prototype={$$html5:!1,$$replace:!1,absUrl:ft("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=si.exec(e);return t[1]&&this.path(decodeURIComponent(t[1])),(t[2]||t[1])&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:ft("$$protocol"),host:ft("$$host"),port:ft("$$port"),path:ht("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||x(e))e=e.toString(),this.$$search=K(e);else{if(!b(e))throw ci("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:ht("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};var ui,di=i("$parse"),fi={},hi=Function.prototype.call,pi=Function.prototype.apply,gi=Function.prototype.bind,mi={null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:p,"+":function(e,t,i,r){return i=i(e,t),r=r(e,t),y(i)?y(r)?i+r:i:y(r)?r:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(y(n)?n:0)-(y(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"^":function(e,t,n,i){return n(e,t)^i(e,t)},"=":p,"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"&":function(e,t,n,i){return n(e,t)&i(e,t)},"|":function(e,t,n,i){return i(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},vi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},yi=function(e){this.options=e};yi.prototype={constructor:yi,lex:function(e){for(this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),i=t+this.peek(2),r=mi[this.ch],o=mi[t],a=mi[i];a?(this.tokens.push({index:this.index,text:i,fn:a}),this.index+=3):o?(this.tokens.push({index:this.index,text:t,fn:o}),this.index+=2):r?(this.tokens.push({index:this.index,text:this.ch,fn:r}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw di("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=gn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e*=1,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,i,r=this,o="",a=this.index;this.index<this.text.length&&("."===(i=this.text.charAt(this.index))||this.isIdent(i)||this.isNumber(i));)"."===i&&(e=this.index),o+=i,this.index++;if(e)for(t=this.index;t<this.text.length;){if("("===(i=this.text.charAt(t))){n=o.substr(e-a+1),o=o.substr(0,e-a),this.index=t;break}if(!this.isWhitespace(i))break;t++}var s={index:a,text:o};if(mi.hasOwnProperty(o))s.fn=mi[o],s.literal=!0,s.constant=!0;else{var l=$t(o,this.options,this.text);s.fn=d(function(e,t){return l(e,t)},{assign:function(e,t){return wt(e,o,t,r.text,r.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:n}))},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else n+=vi[o]||o;r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,string:n,literal:!0,constant:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var bi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};bi.ZERO=d(function(){return 0},{constant:!0}),bi.prototype={constructor:bi,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),e.literal=!!t.literal,e.constant=!!t.constant}for(var n,i;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,i),i=null):"["===n.text?(i=e,e=this.objectIndex(e)):"."===n.text?(i=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw di("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw di("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){if(this.tokens.length>0){var r=this.tokens[0],o=r.text;if(o===e||o===t||o===n||o===i||!e&&!t&&!n&&!i)return r}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return d(function(n,i){return e(n,i,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return d(function(i,r){return e(i,r)?t(i,r):n(i,r)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return d(function(i,r){return t(i,r,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var i,r=0;r<e.length;r++){var o=e[r];o&&(i=o(t,n))}return i}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var i=function(e,i,r){for(var o=[r],a=0;a<n.length;a++)o.push(n[a](e,i));return t.apply(e,o)};return function(){return i}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,i){return n.assign(t,e(t,i),i)}):n},ternary:function(){var e,t,n=this.logicalOR();return(t=this.expect("?"))?(e=this.assignment(),(t=this.expect(":"))?this.ternaryFn(n,e,this.assignment()):void this.throwError("expected :",t)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(bi.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,i=$t(n,this.options,this.text);return d(function(t,n,r){return i(r||e(t,n))},{assign:function(i,r,o){var a=e(i,o);return a||e.assign(i,a={}),wt(a,n,r,t.text,t.options)}})},objectIndex:function(e){var t=this,i=this.expression();return this.consume("]"),d(function(r,o){var a,s,l=e(r,o),c=vt(i(r,o),t.text);return mt(c,t.text),l?(a=yt(l[c],t.text),a&&a.then&&t.options.unwrapPromises&&(s=a,"$$v"in a||(s.$$v=n,s.then(function(e){s.$$v=e})),a=a.$$v),a):n},{assign:function(n,r,o){var a=mt(vt(i(n,o),t.text),t.text),s=yt(e(n,o),t.text);return s||e.assign(n,s={}),s[a]=r}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do{n.push(this.expression())}while(this.expect(","));this.consume(")");var i=this;return function(r,o){for(var a=[],s=t?t(r,o):r,l=0;l<n.length;l++)a.push(yt(n[l](r,o),i.text));var c=e(r,o,s)||p;return yt(s,i.text),bt(c,i.text),yt(c.apply?c.apply(s,a):c(a[0],a[1],a[2],a[3],a[4]),i.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var i=[],r=0;r<e.length;r++)i.push(e[r](t,n));return i},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),i=n.string||n.text;this.consume(":");var r=this.expression();e.push({key:i,value:r}),r.constant||(t=!1)}while(this.expect(","));return this.consume("}"),d(function(t,n){for(var i={},r=0;r<e.length;r++){var o=e[r];i[o.key]=o.value(t,n)}return i},{literal:!0,constant:t})}};var wi={},xi={},ki=i("$sce"),Ci={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$i=t.createElement("a"),Si=jt(e.location.href,!0);zt.$inject=["$provide"],Wt.$inject=["$locale"],Ut.$inject=["$locale"];var _i=".",Ti={yyyy:Kt("FullYear",4),yy:Kt("FullYear",2,0,!0),y:Kt("FullYear",1),MMMM:Gt("Month"),MMM:Gt("Month",!0),MM:Kt("Month",2,1),M:Kt("Month",1,1),dd:Kt("Date",2),d:Kt("Date",1),HH:Kt("Hours",2),H:Kt("Hours",1),hh:Kt("Hours",2,-12),h:Kt("Hours",1,-12),mm:Kt("Minutes",2),m:Kt("Minutes",1),ss:Kt("Seconds",2),s:Kt("Seconds",1),sss:Kt("Milliseconds",3),EEEE:Gt("Day"),EEE:Gt("Day",!0),a:Xt,Z:Yt},Ai=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ei=/^\-?\d+$/;Qt.$inject=["$locale"];var Mi=m(gn),Di=m(vn);en.$inject=["$parse"];var Ii=m({restrict:"E",compile:function(e,n){if(wn<=8&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),!n.href&&!n.xlinkHref&&!n.name)return function(e,t){var n="[object SVGAnimatedString]"===Tn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Oi={};o(Yn,function(e,t){if("multiple"!=e){var n=Fe("ng-"+t);Oi[n]=function(){return{priority:100,link:function(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}}}}),o(["src","srcset","href"],function(e){var t=Fe("ng-"+e);Oi[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Tn.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){if(!t)return void("href"===e&&r.$set(a,null));r.$set(a,t),wn&&o&&i.prop(o,r[a])})}}}});var Ni={$addControl:p,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p};nn.$inject=["$element","$attrs","$scope","$animate"];var Pi=function(e){return["$timeout",function(t){return{name:"form",restrict:e?"EAC":"E",controller:nn,compile:function(){return{pre:function(e,i,r,o){if(!r.action){var a=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};jn(i[0],"submit",a),i.on("$destroy",function(){t(function(){Fn(i[0],"submit",a)},0,!1)})}var s=i.parent().controller("form"),l=r.name||r.ngForm;l&&wt(e,l,o,l),s&&i.on("$destroy",function(){s.$removeControl(o),l&&wt(e,l,n,l),d(o,Ni)})}}}}}]},Li=Pi(),Ri=Pi(!0),ji=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Fi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Hi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zi={text:sn,number:ln,url:cn,email:un,radio:dn,checkbox:fn,hidden:p,button:p,submit:p,reset:p,file:p},Bi=["badInput"],Wi=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,i,r,o){o&&(zi[gn(r.type)]||zi.text)(n,i,r,o,t,e)}}}],Ui="ng-valid",qi="ng-invalid",Vi="ng-pristine",Ki="ng-dirty",Gi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,r,a,s){function l(e,t){t=t?"-"+Z(t,"-"):"",s.removeClass(r,(e?qi:Ui)+t),s.addClass(r,(e?Ui:qi)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=a(n.ngModel),u=c.assign;if(!u)throw i("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,q(r));this.$render=p,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var d=r.inheritedData("$formController")||Ni,f=0,h=this.$error={};r.addClass(Vi),l(!0),this.$setValidity=function(e,t){h[e]!==!t&&(t?(h[e]&&f--,f||(l(!0),this.$valid=!0,this.$invalid=!1)):(l(!1),this.$invalid=!0,this.$valid=!1,f++),h[e]=!t,l(t,e),d.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,s.removeClass(r,Ki),s.addClass(r,Vi)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,s.removeClass(r,Vi),s.addClass(r,Ki),d.$setDirty()),o(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),o(this.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}}))};var g=this;e.$watch(function(){var t=c(e);if(g.$modelValue!==t){var n=g.$formatters,i=n.length;for(g.$modelValue=t;i--;)t=n[i](t);g.$viewValue!==t&&(g.$viewValue=t,g.$render())}return t})}],Yi=function(){return{require:["ngModel","^?form"],controller:Gi,link:function(e,t,n,i){var r=i[0],o=i[1]||Ni;o.$addControl(r),e.$on("$destroy",function(){o.$removeControl(r)})}}},Xi=m({require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Qi=function(){return{require:"?ngModel",link:function(e,t,n,i){if(i){n.required=!0;var r=function(e){return n.required&&i.$isEmpty(e)?void i.$setValidity("required",!1):(i.$setValidity("required",!0),e)};i.$formatters.push(r),i.$parsers.unshift(r),n.$observe("required",function(){r(i.$viewValue)})}}}},Ji=function(){return{require:"ngModel",link:function(e,t,i,r){var a=/\/(.*)\//.exec(i.ngList),s=a&&new RegExp(a[1])||i.ngList||",",l=function(e){if(!v(e)){var t=[];return e&&o(e.split(s),function(e){e&&t.push(In(e))}),t}};r.$parsers.push(l),r.$formatters.push(function(e){return Dn(e)?e.join(", "):n}),r.$isEmpty=function(e){return!e||!e.length}}}},Zi=/^(true|false|\d+)$/,er=function(){return{priority:100,compile:function(e,t){return Zi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},tr=tn({compile:function(e){return e.addClass("ng-binding"),function(e,t,i){t.data("$binding",i.ngBind),e.$watch(i.ngBind,function(e){t.text(e==n?"":e)})}}}),nr=["$interpolate",function(e){return function(t,n,i){var r=e(n.attr(i.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",r),i.$observe("ngBindTemplate",function(e){n.text(e)})}}],ir=["$sce","$parse",function(e,t){return{compile:function(n){return n.addClass("ng-binding"),function(n,i,r){function o(){return(a(n)||"").toString()}i.data("$binding",r.ngBindHtml);var a=t(r.ngBindHtml);n.$watch(o,function(t){i.html(e.getTrustedHtml(a(n))||"")})}}}}],rr=hn("",!0),or=hn("Odd",0),ar=hn("Even",1),sr=tn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),lr=[function(){return{scope:!0,controller:"@",priority:500}}],cr={},ur={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Fe("ng-"+e);cr[t]=["$parse","$rootScope",function(n,i){return{compile:function(r,o){var a=n(o[t],!0);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};ur[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var dr=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,c;n.$watch(r.ngIf,function(o){U(o)?l||(l=n.$new(),a(l,function(n){n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},e.enter(n,i.parent(),i)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=re(s.clone),e.leave(c,function(){c=null}),s=null))})}}}],fr=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,i,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:En.noop,compile:function(o,a){var s=a.ngInclude||a.src,l=a.onload||"",c=a.autoscroll;return function(o,a,u,d,f){var h,p,g,m=0,v=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),g&&(i.leave(g,function(){p=null}),p=g,g=null)};o.$watch(r.parseAsResourceUrl(s),function(r){var s=function(){!y(c)||c&&!o.$eval(c)||n()},u=++m;r?(e.get(r,{cache:t}).success(function(e){if(u===m){var t=o.$new();d.template=e;var n=f(t,function(e){v(),i.enter(e,null,a,s)});h=t,g=n,h.$emit("$includeContentLoaded"),o.$eval(l)}}).error(function(){u===m&&v()}),o.$emit("$includeContentRequested")):(v(),d.template=null)})}}}}],hr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,i,r){n.html(r.template),e(n.contents())(t)}}}],pr=tn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),gr=tn({terminal:!0,priority:1e3}),mr=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(i,r,a){var s=a.count,l=a.$attr.when&&r.attr(a.$attr.when),c=a.offset||0,u=i.$eval(l)||{},d={},f=t.startSymbol(),h=t.endSymbol(),p=/^when(Minus)?(.+)$/;o(a,function(e,t){p.test(t)&&(u[gn(t.replace("when","").replace("Minus","-"))]=r.attr(a.$attr[t]))}),o(u,function(e,i){d[i]=t(e.replace(n,f+s+"-"+c+h))}),i.$watch(function(){var t=parseFloat(i.$eval(s));return isNaN(t)?"":(t in u||(t=e.pluralCat(t-c)),d[t](i,r,!0))},function(e){r.text(e)})}}}],vr=["$parse","$animate",function(e,n){function a(e){return e.clone[0]}function s(e){return e.clone[e.clone.length-1]}var l=i("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(i,c,u,d,f){var h,p,g,m,v,y,b,w,x,k=u.ngRepeat,C=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),$={$id:Ae};if(!C)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",k);if(y=C[1],b=C[2],h=C[3],h?(p=e(h),g=function(e,t,n){return x&&($[x]=e),$[w]=t,$.$index=n,p(i,$)}):(m=function(e,t){return Ae(t)},v=function(e){return e}),!(C=y.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/)))throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",y);w=C[3]||C[1],x=C[2];var S={};i.$watchCollection(b,function(e){var u,d,h,p,y,b,C,$,_,T,A,E,M=c[0],D={},I=[];if(r(e))T=e,_=g||m;else{_=g||v,T=[];for(b in e)e.hasOwnProperty(b)&&"$"!=b.charAt(0)&&T.push(b);T.sort()}for(p=T.length,d=I.length=T.length,u=0;u<d;u++)if(b=e===T?u:T[u],C=e[b],$=_(b,C,u),ne($,"`track by` id"),S.hasOwnProperty($))A=S[$],delete S[$],D[$]=A,I[u]=A;else{if(D.hasOwnProperty($))throw o(I,function(e){e&&e.scope&&(S[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",k,$,B(C));I[u]={id:$},D[$]=!1}for(b in S)S.hasOwnProperty(b)&&(A=S[b],E=re(A.clone),n.leave(E),o(E,function(e){e.$$NG_REMOVED=!0}),A.scope.$destroy());for(u=0,d=T.length;u<d;u++){if(b=e===T?u:T[u],C=e[b],A=I[u],I[u-1]&&(M=s(I[u-1])),A.scope){y=A.scope,h=M;do{h=h.nextSibling}while(h&&h.$$NG_REMOVED);a(A)!=h&&n.move(re(A.clone),null,xn(M)),M=s(A)}else y=i.$new();y[w]=C,x&&(y[x]=b),y.$index=u,y.$first=0===u,y.$last=u===p-1,y.$middle=!(y.$first||y.$last),y.$odd=!(y.$even=0==(1&u)),A.scope||f(y,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+k+" "),n.enter(e,null,xn(M)),M=e,A.scope=y,A.clone=e,D[A.id]=A})}S=D})}}}],yr=["$animate",function(e){return function(t,n,i){t.$watch(i.ngShow,function(t){e[U(t)?"removeClass":"addClass"](n,"ng-hide")})}}],br=["$animate",function(e){return function(t,n,i){t.$watch(i.ngHide,function(t){e[U(t)?"addClass":"removeClass"](n,"ng-hide")})}}],wr=tn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),xr=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,i,r){var a=i.ngSwitch||i.on,s=[],l=[],c=[],u=[];t.$watch(a,function(n){var a,d;for(a=0,d=c.length;a<d;++a)c[a].remove();for(c.length=0,a=0,d=u.length;a<d;++a){var f=l[a];u[a].$destroy(),c[a]=f,e.leave(f,function(){c.splice(a,1)})}l.length=0,u.length=0,(s=r.cases["!"+n]||r.cases["?"])&&(t.$eval(i.change),o(s,function(n){var i=t.$new();u.push(i),n.transclude(i,function(t){var i=n.element;l.push(t),e.enter(t,i.parent(),i)})}))})}}}],kr=tn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Cr=tn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),$r=tn({link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",q(t));o(function(e){t.empty(),t.append(e)})}}),Sr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],_r=i("ngOptions"),Tr=m({terminal:!0}),Ar=["$compile","$parse",function(e,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,r,o=this,a={},l=s;o.databound=n.ngModel,o.init=function(e,t,n){l=e,i=t,r=n},o.addOption=function(t){ne(t,'"option value"'),a[t]=!0,l.$viewValue==t&&(e.val(t),r.parent()&&r.remove())},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],l.$viewValue==e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+Ae(t)+" ?";r.val(n),e.prepend(r),e.val(n),r.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(s,l,c,u){if(u[1]){for(var d,f=u[0],h=u[1],p=c.multiple,g=c.ngOptions,m=!1,b=xn(t.createElement("option")),w=xn(t.createElement("optgroup")),x=b.clone(),k=0,C=l.children(),$=C.length;k<$;k++)if(""===C[k].value){d=m=C.eq(k);break}f.init(h,m,x),p&&(h.$isEmpty=function(e){return!e||0===e.length}),g?function(t,o,s){function l(){var e=!1;if(p){var n=s.$modelValue;if(S&&Dn(n)){e=new Ee([]);for(var i={},r=0;r<n.length;r++)i[h]=n[r],e.put(S(t,i),n[r])}else e=new Ee(n)}return e}function c(){var e,n,i,r,c,u,g,$,T,A,E,M,D,I,O,N={"":[]},P=[""],L=s.$modelValue,R=C(t)||[],j=v?a(R):R,F={},H=l();for(E=0;T=j.length,E<T;E++){if(g=E,v){if(g=j[E],"$"===g.charAt(0))continue;F[v]=g}if(F[h]=R[g],e=x(t,F)||"",(n=N[e])||(n=N[e]=[],P.push(e)),p)M=y(H.remove(S?S(t,F):k(t,F)));else{if(S){var z={};z[h]=L,M=S(t,z)===S(t,F)}else M=L===k(t,F);H=H||M}O=d(t,F),O=y(O)?O:"",n.push({id:S?S(t,F):v?j[E]:E,label:O,selected:M})}for(p||(m||null===L?N[""].unshift({id:"",label:"",selected:!H}):H||N[""].unshift({id:"?",label:"",selected:!0})),A=0,$=P.length;A<$;A++){for(e=P[A],n=N[e],_.length<=A?(r={element:w.clone().attr("label",e),label:n.label},c=[r],_.push(c),o.append(r.element)):(c=_[A],r=c[0],r.label!=e&&r.element.attr("label",r.label=e)),D=null,E=0,T=n.length;E<T;E++)i=n[E],(u=c[E+1])?(D=u.element,u.label!==i.label&&(D.text(u.label=i.label),D.prop("label",u.label)),u.id!==i.id&&D.val(u.id=i.id),D[0].selected!==i.selected&&(D.prop("selected",u.selected=i.selected),wn&&D.prop("selected",u.selected))):(""===i.id&&m?I=m:(I=b.clone()).val(i.id).prop("selected",i.selected).attr("selected",i.selected).prop("label",i.label).text(i.label),c.push(u={element:I,label:i.label,id:i.id,selected:i.selected}),f.addOption(i.label,I),D?D.after(I):r.element.append(I),D=I);for(E++;c.length>E;)i=c.pop(),f.removeOption(i.label),i.element.remove()}for(;_.length>A;)_.pop()[0].element.remove()}var u;if(!(u=g.match(r)))throw _r("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",g,q(o));var d=i(u[2]||u[1]),h=u[4]||u[6],v=u[5],x=i(u[3]||""),k=i(u[2]?u[1]:h),C=i(u[7]),$=u[8],S=$?i(u[8]):null,_=[[{element:o,label:""}]];m&&(e(m)(t),m.removeClass("ng-scope"),m.remove()),o.empty(),o.on("change",function(){t.$apply(function(){var e,i,r,a,l,u,d,f,g,m=C(t)||[],y={};if(p){for(r=[],u=0,f=_.length;u<f;u++)for(e=_[u],l=1,d=e.length;l<d;l++)if((a=e[l].element)[0].selected){if(i=a.val(),v&&(y[v]=i),S)for(g=0;g<m.length&&(y[h]=m[g],S(t,y)!=i);g++);else y[h]=m[i];r.push(k(t,y))}}else if("?"==(i=o.val()))r=n;else if(""===i)r=null;else if(S){for(g=0;g<m.length;g++)if(y[h]=m[g],S(t,y)==i){r=k(t,y);break}}else y[h]=m[i],v&&(y[v]=i),r=k(t,y);s.$setViewValue(r),c()})}),s.$render=c,t.$watchCollection(C,c),t.$watchCollection(function(){var e={},n=C(t);if(n){for(var i=new Array(n.length),r=0,o=n.length;r<o;r++)e[h]=n[r],i[r]=d(t,e);return i}},c),p&&t.$watchCollection(function(){return s.$modelValue},c)}(s,l,h):p?function(e,t,n){var i;n.$render=function(){var e=new Ee(n.$viewValue);o(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){R(i,n.$viewValue)||(i=L(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}(s,l,h):function(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(x.parent()&&x.remove(),t.val(e),""===e&&d.prop("selected",!0)):v(e)&&d?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){x.parent()&&x.remove(),n.$setViewValue(t.val())})})}(s,l,h,f)}}}}],Er=["$interpolate",function(e){var t={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,i){if(v(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o=n.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.databound?n.prop("selected",!1):a=t,r?e.$watch(r,function(e,t){i.$set("value",e),e!==t&&a.removeOption(t),a.addOption(e)}):a.addOption(i.value),n.on("$destroy",function(){a.removeOption(i.value)})}}}}],Mr=m({restrict:"E",terminal:!0});if(e.angular.bootstrap)return void console.log("WARNING: Tried to load angular more than once.");!function(){kn=e.jQuery,kn&&kn.fn.on?(xn=kn,d(kn.fn,{scope:Gn.scope,isolateScope:Gn.isolateScope,controller:Gn.controller,injector:Gn.injector,inheritedData:Gn.inheritedData}),le("remove",!0,!0,!1),le("empty",!1,!1,!1),le("html",!1,!1,!0)):xn=fe,En.element=xn}(),function(t){d(t,{bootstrap:J,copy:P,extend:d,equals:R,element:xn,forEach:o,injector:De,noop:p,bind:H,toJson:B,fromJson:W,identity:g,isUndefined:v,isDefined:y,isString:w,isFunction:C,isObject:b,isNumber:x,isElement:M,isArray:Dn,version:Pn,isDate:k,lowercase:gn,uppercase:vn,callbacks:{counter:0},$$minErr:i,$$csp:On}),Cn=oe(e);try{Cn("ngLocale")}catch(e){Cn("ngLocale",[]).provider("$locale",et)}Cn("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Mt}),e.provider("$compile",je).directive({a:Ii,input:Wi,textarea:Wi,form:Li,script:Sr,select:Ar,style:Mr,option:Er,ngBind:tr,ngBindHtml:ir,ngBindTemplate:nr,ngClass:rr,ngClassEven:ar,ngClassOdd:or,ngCloak:sr,ngController:lr,ngForm:Ri,ngHide:br,ngIf:dr,ngInclude:fr,ngInit:pr,ngNonBindable:gr,ngPluralize:mr,ngRepeat:vr,ngShow:yr,ngStyle:wr,ngSwitch:xr,ngSwitchWhen:kr,ngSwitchDefault:Cr,ngOptions:Tr,ngTransclude:$r,ngModel:Yi,ngList:Ji,ngChange:Xi,required:Qi,ngRequired:Qi,ngValue:er}).directive({ngInclude:hr}).directive(Oi).directive(cr),e.provider({$anchorScroll:Ie,$animate:ii,$browser:Pe,$cacheFactory:Le,$controller:ze,$document:Be,$exceptionHandler:We,$filter:zt,$interpolate:Je,$interval:Ze,$http:Ge,$httpBackend:Xe,$location:pt,$log:gt,$parse:St,$rootScope:Et,$q:_t,$sce:Pt,$sceDelegate:Nt,$sniffer:Lt,$templateCache:Re,$timeout:Rt,$window:Ht,$$rAF:At,$$asyncCallback:Oe})}])}(En),xn(t).ready(function(){Q(t,J)})}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>')},function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*! jQuery UI - v1.8.21 - 2012-06-05
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
!function(e,t){function n(t,n){var r=t.nodeName.toLowerCase();if("area"===r){var o,a=t.parentNode,s=a.name;return!(!t.href||!s||"map"!==a.nodeName.toLowerCase())&&!!(o=e("img[usemap=#"+s+"]")[0])&&i(o)}return(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||n:n)&&i(t)}function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.21",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,i&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),r&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r=e.ui[t].prototype;for(var o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(e,t,n){var i=e.plugins[t];if(i&&e.element[0].parentNode)for(var r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,i,r,o,a){return e.ui.isOverAxis(t,i,o)&&e.ui.isOverAxis(n,r,a)}}))}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.widget.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var i,r=0;null!=(i=t[r]);r++)try{e(i).triggerHandler("remove")}catch(e){}n(t)}}else{var i=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(e){}}),i.call(e(this),t,n)})}}e.widget=function(t,n,i){var r,o=t.split(".")[0];t=t.split(".")[1],r=o+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r]=function(n){return!!e.data(n,t)},e[o]=e[o]||{},e[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var a=new n;a.options=e.extend(!0,{},a.options),e[o][t].prototype=e.extend(!0,a,{namespace:o,widgetName:t,widgetEventPrefix:e[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:r},i),e.widget.bridge(t,e[o][t])},e.widget.bridge=function(n,i){e.fn[n]=function(r){var o="string"==typeof r,a=Array.prototype.slice.call(arguments,1),s=this;return r=!o&&a.length?e.extend.apply(null,[!0,r].concat(a)):r,o&&"_"===r.charAt(0)?s:(o?this.each(function(){var i=e.data(this,n),o=i&&e.isFunction(i[r])?i[r].apply(i,a):i;if(o!==i&&o!==t)return s=o,!1}):this.each(function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new i(r,this))}),s)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,i){var r=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(i===t)return this.options[n];r={},r[n]=i}return this._setOptions(r),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.call(this.element[0],n,i)||n.isDefaultPrevented())}}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.mouse.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,r=1==t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,0)))}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.position.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.ui=e.ui||{};var n=/left|center|right/,i=/top|center|bottom/,r="center",o={},a=e.fn.position,s=e.fn.offset;e.fn.position=function(t){if(!t||!t.of)return a.apply(this,arguments);t=e.extend({},t);var s,l,c,u=e(t.of),d=u[0],f=(t.collision||"flip").split(" "),h=t.offset?t.offset.split(" "):[0,0];return 9===d.nodeType?(s=u.width(),l=u.height(),c={top:0,left:0}):d.setTimeout?(s=u.width(),l=u.height(),c={top:u.scrollTop(),left:u.scrollLeft()}):d.preventDefault?(t.at="left top",s=l=0,c={top:t.of.pageY,left:t.of.pageX}):(s=u.outerWidth(),l=u.outerHeight(),c=u.offset()),e.each(["my","at"],function(){var e=(t[this]||"").split(" ");1===e.length&&(e=n.test(e[0])?e.concat([r]):i.test(e[0])?[r].concat(e):[r,r]),e[0]=n.test(e[0])?e[0]:r,e[1]=i.test(e[1])?e[1]:r,t[this]=e}),1===f.length&&(f[1]=f[0]),h[0]=parseInt(h[0],10)||0,1===h.length&&(h[1]=h[0]),h[1]=parseInt(h[1],10)||0,"right"===t.at[0]?c.left+=s:t.at[0]===r&&(c.left+=s/2),"bottom"===t.at[1]?c.top+=l:t.at[1]===r&&(c.top+=l/2),c.left+=h[0],c.top+=h[1],this.each(function(){var n,i=e(this),a=i.outerWidth(),u=i.outerHeight(),d=parseInt(e.curCSS(this,"marginLeft",!0))||0,p=parseInt(e.curCSS(this,"marginTop",!0))||0,g=a+d+(parseInt(e.curCSS(this,"marginRight",!0))||0),m=u+p+(parseInt(e.curCSS(this,"marginBottom",!0))||0),v=e.extend({},c);"right"===t.my[0]?v.left-=a:t.my[0]===r&&(v.left-=a/2),"bottom"===t.my[1]?v.top-=u:t.my[1]===r&&(v.top-=u/2),o.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),n={left:v.left-d,top:v.top-p},e.each(["left","top"],function(i,r){e.ui.position[f[i]]&&e.ui.position[f[i]][r](v,{targetWidth:s,targetHeight:l,elemWidth:a,elemHeight:u,collisionPosition:n,collisionWidth:g,collisionHeight:m,offset:h,my:t.my,at:t.at})}),e.fn.bgiframe&&i.bgiframe(),i.offset(e.extend(v,{using:t.using}))})},e.ui.position={fit:{left:function(t,n){var i=e(window),r=n.collisionPosition.left+n.collisionWidth-i.width()-i.scrollLeft();t.left=r>0?t.left-r:Math.max(t.left-n.collisionPosition.left,t.left)},top:function(t,n){var i=e(window),r=n.collisionPosition.top+n.collisionHeight-i.height()-i.scrollTop();t.top=r>0?t.top-r:Math.max(t.top-n.collisionPosition.top,t.top)}},flip:{left:function(t,n){if(n.at[0]!==r){var i=e(window),o=n.collisionPosition.left+n.collisionWidth-i.width()-i.scrollLeft(),a="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,s="left"===n.at[0]?n.targetWidth:-n.targetWidth,l=-2*n.offset[0];t.left+=n.collisionPosition.left<0?a+s+l:o>0?a+s+l:0}},top:function(t,n){if(n.at[1]!==r){var i=e(window),o=n.collisionPosition.top+n.collisionHeight-i.height()-i.scrollTop(),a="top"===n.my[1]?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,s="top"===n.at[1]?n.targetHeight:-n.targetHeight,l=-2*n.offset[1];t.top+=n.collisionPosition.top<0?a+s+l:o>0?a+s+l:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,n){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var i=e(t),r=i.offset(),o=parseInt(e.curCSS(t,"top",!0),10)||0,a=parseInt(e.curCSS(t,"left",!0),10)||0,s={top:n.top-r.top+o,left:n.left-r.left+a};"using"in n?n.using.call(t,s):i.css(s)},e.fn.offset=function(t){var n=this[0];return n&&n.ownerDocument?t?e.isFunction(t)?this.each(function(n){e(this).offset(t.call(this,n,e(this).offset()))}):this.each(function(){e.offset.setOffset(this,t)}):s.call(this):null}),function(){var t,n,i,r,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(var c in i)t.style[c]=i[c];t.appendChild(l),n=s||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",r=e(l).offset(function(e,t){return t}).offset(),t.innerHTML="",n.removeChild(t),a=r.top+r.left+(s?2e3:0),o.fractions=a>21&&a<22}()}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.draggable.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")||(this.handle=this._getHandle(t),!this.handle||(n.iframeFix&&e(!0===n.iframeFix?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),0)))},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);for(var i=this.element[0],r=!1;i&&(i=i.parentNode);)i==document&&(r=!0);if(!r&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var o=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==o._trigger("stop",t)&&o._clear()})}else!1!==this._trigger("stop",t)&&this._clear();return!1},_mouseUp:function(t){return!0===this.options.iframeFix&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"==n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),i[0]!=this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))&&i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var n=e(t.containment),i=n[0];if(!i)return;var r=(n.offset(),"hidden"!=e(i).css("overflow"));this.containment=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(r?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"==t?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i),left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i)}},_generatePosition:function(t){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName),o=t.pageX,a=t.pageY;if(this.originalPosition){var s;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();s=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else s=this.containment;t.pageX-this.offset.click.left<s[0]&&(o=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(a=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(o=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(a=s[3]+this.offset.click.top)}if(n.grid){var c=n.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;a=s&&(c-this.offset.click.top<s[1]||c-this.offset.click.top>s[3])?c-this.offset.click.top<s[1]?c+n.grid[1]:c-n.grid[1]:c;var u=n.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;o=s&&(u-this.offset.click.left<s[0]||u-this.offset.click.left>s[2])?u-this.offset.click.left<s[0]?u+n.grid[0]:u-n.grid[0]:u}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.21"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("draggable"),r=i.options,o=e.extend({},n,{item:i.element});i.sortables=[],e(r.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n){var i=e(this).data("draggable"),r=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,n){var i=e(this).data("draggable"),r=this;e.each(i.sortables,function(o){this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n){var i=e("body"),r=e(this).data("draggable").options;i.css("cursor")&&(r._cursor=i.css("cursor")),i.css("cursor",r.cursor)},stop:function(t,n){var i=e(this).data("draggable").options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),r=e(this).data("draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,n){var i=e(this).data("draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,n){var i=e(this).data("draggable");i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(t,n){var i=e(this).data("draggable"),r=i.options,o=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(r.axis&&"x"==r.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"==r.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"==r.axis||(t.pageY-e(document).scrollTop()<r.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"==r.axis||(t.pageX-e(document).scrollLeft()<r.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n){var i=e(this).data("draggable"),r=i.options;i.snapElements=[],e(r.snap.constructor!=String?r.snap.items||":data(draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!=i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n){for(var i=e(this).data("draggable"),r=i.options,o=r.snapTolerance,a=n.offset.left,s=a+i.helperProportions.width,l=n.offset.top,c=l+i.helperProportions.height,u=i.snapElements.length-1;u>=0;u--){var d=i.snapElements[u].left,f=d+i.snapElements[u].width,h=i.snapElements[u].top,p=h+i.snapElements[u].height;if(d-o<a&&a<f+o&&h-o<l&&l<p+o||d-o<a&&a<f+o&&h-o<c&&c<p+o||d-o<s&&s<f+o&&h-o<l&&l<p+o||d-o<s&&s<f+o&&h-o<c&&c<p+o){if("inner"!=r.snapMode){var g=Math.abs(h-c)<=o,m=Math.abs(p-l)<=o,v=Math.abs(d-s)<=o,y=Math.abs(f-a)<=o;g&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top-i.margins.top),m&&(n.position.top=i._convertPositionTo("relative",{top:p,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:d-i.helperProportions.width}).left-i.margins.left),y&&(n.position.left=i._convertPositionTo("relative",{top:0,left:f}).left-i.margins.left)}var b=g||m||v||y;if("outer"!=r.snapMode){var g=Math.abs(h-l)<=o,m=Math.abs(p-c)<=o,v=Math.abs(d-a)<=o,y=Math.abs(f-s)<=o;g&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top-i.margins.top),m&&(n.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:d}).left-i.margins.left),y&&(n.position.left=i._convertPositionTo("relative",{top:0,left:f-i.helperProportions.width}).left-i.margins.left)}!i.snapElements[u].snapping&&(g||m||v||y||b)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=g||m||v||y||b}else i.snapElements[u].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n){var i=e(this).data("draggable").options,r=e.makeArray(e(i.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(r.length){var o=parseInt(r[0].style.zIndex)||0;e(r).each(function(e){this.style.zIndex=o+e}),this[0].style.zIndex=o+r.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),r=e(this).data("draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,n){var i=e(this).data("draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.droppable.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,n){"accept"==t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return!1;var r=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return r=!0,!1}),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element)},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.8.21"}),e.ui.intersect=function(t,n,i){if(!n.offset)return!1;var r=(t.positionAbs||t.position.absolute).left,o=r+t.helperProportions.width,a=(t.positionAbs||t.position.absolute).top,s=a+t.helperProportions.height,l=n.offset.left,c=l+n.proportions.width,u=n.offset.top,d=u+n.proportions.height;switch(i){case"fit":return l<=r&&o<=c&&u<=a&&s<=d;case"intersect":return l<r+t.helperProportions.width/2&&o-t.helperProportions.width/2<c&&u<a+t.helperProportions.height/2&&s-t.helperProportions.height/2<d;case"pointer":var f=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,h=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return e.ui.isOver(h,f,u,l,n.proportions.height,n.proportions.width);case"touch":return(a>=u&&a<=d||s>=u&&s<=d||a<u&&s>d)&&(r>=l&&r<=c||o>=l&&o<=c||r<l&&o>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i=e.ui.ddmanager.droppables[t.options.scope]||[],r=n?n.type:null,o=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var a=0;a<i.length;a++)if(!(i[a].options.disabled||t&&!i[a].accept.call(i[a].element[0],t.currentItem||t.element))){for(var s=0;s<o.length;s++)if(o[s]==i[a].element[0]){i[a].proportions.height=0;continue e}i[a].visible="none"!=i[a].element.css("display"),i[a].visible&&("mousedown"==r&&i[a]._activate.call(i[a],n),i[a].offset=i[a].element.offset(),i[a].proportions={width:i[a].element[0].offsetWidth,height:i[a].element[0].offsetHeight})}},drop:function(t,n){var i=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parents(":not(body,html)").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i=e.ui.intersect(t,this,this.options.tolerance),r=i||1!=this.isover?i&&0==this.isover?"isover":null:"isout";if(r){var o;if(this.options.greedy){var a=this.element.parents(":data(droppable):eq(0)");a.length&&(o=e.data(a[0],"droppable"),o.greedyChild="isover"==r?1:0)}o&&"isover"==r&&(o.isover=0,o.isout=1,o._out.call(o,n)),this[r]=1,this["isout"==r?"isover":"isout"]=0,this["isover"==r?"_over":"_out"].call(this,n),o&&"isout"==r&&(o.isout=0,o.isover=1,o._over.call(o,n))}}})},dragStop:function(t,n){t.element.parents(":not(body,html)").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.resizable.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var r=0;r<i.length;r++){var o=e.trim(i[r]),a="ui-resizable-"+o,s=e('<div class="ui-resizable-handle '+a+'"></div>');s.css({zIndex:n.zIndex}),"se"==o&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(s)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i=e(this.handles[n],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth();var o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(o,r),this._proportionallyResize()}e(this.handles[n]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){n.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())},function(){n.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;n.after(this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var i in this.handles)e(this.handles[i])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i=this.options,r=this.element.position(),o=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(o.is(".ui-draggable")||/absolute/.test(o.css("position")))&&o.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy();var a=n(this.helper.css("left")),s=n(this.helper.css("top"));i.containment&&(a+=e(i.containment).scrollLeft()||0,s+=e(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:a,top:s},this.size=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:a,top:s},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n=this.helper,i=(this.options,this.originalMousePosition),r=this.axis,o=t.pageX-i.left||0,a=t.pageY-i.top||0,s=this._change[r];if(!s)return!1;var l=s.apply(this,[t,o,a]);return e.browser.msie&&e.browser.version,this.sizeDiff,this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(l=this._updateRatio(l,t)),l=this._respectSize(l,t),this._propagate("resize",t),n.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,i=this;if(this._helper){var r=this._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.helper.width()-s,height:i.helper.height()-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;n.animate||this.element.css(e.extend(l,{top:u,left:c})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,r,o,a,s=this.options;a={minWidth:i(s.minWidth)?s.minWidth:0,maxWidth:i(s.maxWidth)?s.maxWidth:1/0,minHeight:i(s.minHeight)?s.minHeight:0,maxHeight:i(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),r>a.minHeight&&(a.minHeight=r),n<a.maxWidth&&(a.maxWidth=n),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(e){this.options,this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=(this.options,this.position),r=this.size,o=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==o&&(e.left=n.left+(r.width-e.width),e.top=null),"nw"==o&&(e.top=n.top+(r.height-e.height),e.left=n.left+(r.width-e.width)),e},_respectSize:function(e,t){var n=(this.helper,this._vBoundaries),r=(this._aspectRatio||t.shiftKey,this.axis),o=i(e.width)&&n.maxWidth&&n.maxWidth<e.width,a=i(e.height)&&n.maxHeight&&n.maxHeight<e.height,s=i(e.width)&&n.minWidth&&n.minWidth>e.width,l=i(e.height)&&n.minHeight&&n.minHeight>e.height;s&&(e.width=n.minWidth),l&&(e.height=n.minHeight),o&&(e.width=n.maxWidth),a&&(e.height=n.maxHeight);var c=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,d=/sw|nw|w/.test(r),f=/nw|ne|n/.test(r);s&&d&&(e.left=c-n.minWidth),o&&d&&(e.left=c-n.maxWidth),l&&f&&(e.top=u-n.minHeight),a&&f&&(e.top=u-n.maxHeight);var h=!e.width&&!e.height;return h&&!e.left&&e.top?e.top=null:h&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,n=0;n<this._proportionallyResizeElements.length;n++){var i=this._proportionallyResizeElements[n];if(!this.borderDif){var r=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(r,function(e,t){return(parseInt(e,10)||0)+(parseInt(o[t],10)||0)})}e.browser.msie&&(e(t).is(":hidden")||e(t).parents(":hidden").length)||i.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var i=e.browser.msie&&e.browser.version<7,r=i?1:0,o=i?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+o,height:this.element.outerHeight()+o,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var i=(this.options,this.originalSize);return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,n){var i=(this.options,this.originalSize);return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!=t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.21"}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var i=e(this).data("resizable"),r=i.options,o=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=_typeof(r.alsoResize)||r.alsoResize.parentNode?o(r.alsoResize):r.alsoResize.length?(r.alsoResize=r.alsoResize[0],o(r.alsoResize)):e.each(r.alsoResize,function(e){o(e)})},resize:function(t,n){var i=e(this).data("resizable"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0},l=function(t,i){e(t).each(function(){var t=e(this),r=e(this).data("resizable-alsoresize"),o={},a=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var n=(r[t]||0)+(s[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})};"object"!=_typeof(r.alsoResize)||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(t,n){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var i=e(this).data("resizable"),r=i.options,o=i._proportionallyResizeElements,a=o.length&&/textarea/i.test(o[0].nodeName),s=a&&e.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,l=a?0:i.sizeDiff.width,c={width:i.size.width-l,height:i.size.height-s},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(c,d&&u?{top:d,left:u}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,i){var r=e(this).data("resizable"),o=r.options,a=r.element,s=o.containment,l=s instanceof e?s.get(0):/parent/.test(s)?a.parent().get(0):s;if(l)if(r.containerElement=e(l),/document/.test(s)||s==document)r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var c=e(l),u=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){u[e]=n(c.css("padding"+t))}),r.containerOffset=c.offset(),r.containerPosition=c.position(),r.containerSize={height:c.innerHeight()-u[3],width:c.innerWidth()-u[1]};var d=r.containerOffset,f=r.containerSize.height,h=r.containerSize.width,p=e.ui.hasScroll(l,"left")?l.scrollWidth:h,g=e.ui.hasScroll(l)?l.scrollHeight:f;r.parentData={element:l,left:d.left,top:d.top,width:p,height:g}}},resize:function(t,n){var i=e(this).data("resizable"),r=i.options,o=(i.containerSize,i.containerOffset),a=(i.size,i.position),s=i._aspectRatio||t.shiftKey,l={top:0,left:0},c=i.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=o),a.left<(i._helper?o.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-o.left:i.position.left-l.left),s&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=r.helper?o.left:0),a.top<(i._helper?o.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-o.top:i.position.top),s&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?o.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var u=Math.abs((i._helper,i.offset.left-l.left+i.sizeDiff.width)),d=Math.abs((i._helper?i.offset.top-l.top:i.offset.top-o.top)+i.sizeDiff.height),f=i.containerElement.get(0)==i.element.parent().get(0),h=/relative|absolute/.test(i.containerElement.css("position"));f&&h&&(u-=i.parentData.left),u+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-u,s&&(i.size.height=i.size.width/i.aspectRatio)),d+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-d,s&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(t,n){var i=e(this).data("resizable"),r=i.options,o=(i.position,i.containerOffset),a=i.containerPosition,s=i.containerElement,l=e(i.helper),c=l.offset(),u=l.outerWidth()-i.sizeDiff.width,d=l.outerHeight()-i.sizeDiff.height;i._helper&&!r.animate&&/relative/.test(s.css("position"))&&e(this).css({left:c.left-a.left-o.left,width:u,height:d}),i._helper&&!r.animate&&/static/.test(s.css("position"))&&e(this).css({left:c.left-a.left-o.left,width:u,height:d})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var i=e(this).data("resizable"),r=i.options,o=i.size;i.ghost=i.originalElement.clone(),i.ghost.css({opacity:.25,display:"block",position:"relative",height:o.height,width:o.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof r.ghost?r.ghost:""),i.ghost.appendTo(i.helper)},resize:function(t,n){var i=e(this).data("resizable");i.options,i.ghost&&i.ghost.css({position:"relative",height:i.size.height,width:i.size.width})},stop:function(t,n){var i=e(this).data("resizable");i.options,i.ghost&&i.helper&&i.helper.get(0).removeChild(i.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){var i=e(this).data("resizable"),r=i.options,o=i.size,a=i.originalSize,s=i.originalPosition,l=i.axis;r._aspectRatio||t.shiftKey,r.grid="number"==typeof r.grid?[r.grid,r.grid]:r.grid;var c=Math.round((o.width-a.width)/(r.grid[0]||1))*(r.grid[0]||1),u=Math.round((o.height-a.height)/(r.grid[1]||1))*(r.grid[1]||1);/^(se|s|e)$/.test(l)?(i.size.width=a.width+c,i.size.height=a.height+u):/^(ne)$/.test(l)?(i.size.width=a.width+c,i.size.height=a.height+u,i.position.top=s.top-u):/^(sw)$/.test(l)?(i.size.width=a.width+c,i.size.height=a.height+u,i.position.left=s.left-c):(i.size.width=a.width+c,i.size.height=a.height+u,i.position.top=s.top-u,i.position.left=s.left-c)}});var n=function(e){return parseInt(e,10)||0},i=function(e){return!isNaN(parseInt(e,10))}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.selectable.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var n;this.refresh=function(){n=e(t.options.filter,t.element[0]),n.addClass("ui-selectee"),n.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=n.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var n=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var i=this.options;this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,!t.metaKey&&!t.ctrlKey&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().andSelf().each(function(){var i=e.data(this,"selectable-item");if(i){var r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected");return i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1}})}},_mouseDrag:function(t){var n=this;if(this.dragged=!0,!this.options.disabled){var i=this.options,r=this.opos[0],o=this.opos[1],a=t.pageX,s=t.pageY;if(r>a){var l=a;a=r,r=l}if(o>s){var l=s;s=o,o=l}return this.helper.css({left:r,top:o,width:a-r,height:s-o}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=n.element[0]){var c=!1;"touch"==i.tolerance?c=!(l.left>a||l.right<r||l.top>s||l.bottom<o):"fit"==i.tolerance&&(c=l.left>r&&l.right<a&&l.top>o&&l.bottom<s),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,n._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),n._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&!t.metaKey&&!t.ctrlKey&&!l.startselected&&(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,n._trigger("unselecting",t,{unselecting:l.element})))}}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,this.options,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.21"})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.sortable.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){e.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget()[n?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var r=null,o=this;if(e(t.target).parents().each(function(){if(e.data(this,i.widgetName+"-item")==o)return r=e(this),!1}),e.data(t.target,i.widgetName+"-item")==o&&(r=e(t.target)),!r)return!1;if(this.options.handle&&!n){var a=!1;if(e(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(a=!0)}),!a)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,i){var r=this.options,o=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",r.cursor)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,o._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),!1!==i&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var r=this.items.length-1;r>=0;r--){var o=this.items[r],a=o.item[0],s=this._intersectsWithPointer(o);if(s&&!(a==this.currentItem[0]||this.placeholder[1==s?"next":"prev"]()[0]==a||e.ui.contains(this.placeholder[0],a)||"semi-dynamic"==this.options.type&&e.ui.contains(this.element[0],a))){if(this.direction=1==s?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(t,o),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=i.placeholder.offset();i.reverting=!0,e(this.helper).animate({left:r.left-this.offset.parent.left-i.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-i.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("deactivate",null,t._uiHash(this)),this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",null,t._uiHash(this)),this.containers[n].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d=i+c>s&&i+c<l&&t+u>o&&t+u<a;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=n&&i,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!r&&(this.floating?a&&"right"==a||"down"==o?2:1:o&&("down"==o?2:1))},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"==o&&i||"left"==o&&!i:r&&("down"==r&&n||"up"==r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],i=[],r=this._connectWith();if(r&&t)for(var o=r.length-1;o>=0;o--)for(var a=e(r[o]),s=a.length-1;s>=0;s--){var l=e.data(a[s],this.widgetName);l&&l!=this&&!l.options.disabled&&i.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}i.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var o=i.length-1;o>=0;o--)i[o][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data("+this.widgetName+"-item)"),t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,i=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],r=this._connectWith();if(r&&this.ready)for(var o=r.length-1;o>=0;o--)for(var a=e(r[o]),s=a.length-1;s>=0;s--){var l=e.data(a[s],this.widgetName);l&&l!=this&&!l.options.disabled&&(i.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var o=i.length-1;o>=0;o--)for(var c=i[o][1],u=i[o][0],s=0,d=u.length;s<d;s++){var f=e(u[s]);f.data(this.widgetName+"-item",c),n.push({item:f,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var i=this.items[n];if(i.instance==this.currentContainer||!this.currentContainer||i.item[0]==this.currentItem[0]){var r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;t||(i.width=r.outerWidth(),i.height=r.outerHeight());var o=r.offset();i.left=o.left,i.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){var n=t||this,i=n.options;if(!i.placeholder||i.placeholder.constructor==String){var r=i.placeholder;i.placeholder={element:function(){var t=e(document.createElement(n.currentItem[0].nodeName)).addClass(r||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(t.style.visibility="hidden"),t},update:function(e,t){r&&!i.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=e(i.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),i.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var n=null,i=null,r=this.containers.length-1;r>=0;r--)if(!e.ui.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(n&&e.ui.contains(this.containers[r].element[0],n.element[0]))continue;n=this.containers[r],i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else if(this.currentContainer!=this.containers[i]){for(var o=1e4,a=null,s=this.positionAbs[this.containers[i].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(e.ui.contains(this.containers[i].element[0],this.items[l].item[0])){var c=this.containers[i].floating?this.items[l].item.offset().left:this.items[l].item.offset().top;Math.abs(c-s)<o&&(o=Math.abs(c-s),a=this.items[l],this.direction=c-s>0?"down":"up")}if(!a&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(""==i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],i=e(t.containment).offset(),r="hidden"!=e(n).css("overflow");this.containment=[i.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"==t?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i),left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i)}},_generatePosition:function(t){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var o=t.pageX,a=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid)){var s=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1];a=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+n.grid[1]:s-n.grid[1]:s;var l=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0];o=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this,o=this.counter;window.setTimeout(function(){o==r.counter&&r.refreshPositions(!i)},0)},_clear:function(t,n){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var r in this._storedCSS)"auto"!=this._storedCSS[r]&&"static"!=this._storedCSS[r]||(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!n&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&i.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0])){n||i.push(function(e){this._trigger("remove",e,this._uiHash())});for(var r=this.containers.length-1;r>=0;r--)e.ui.contains(this.containers[r].element[0],this.currentItem[0])&&!n&&(i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[r])),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[r])))}for(var r=this.containers.length-1;r>=0;r--)n||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.21"})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.accordion.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,n=t.options;if(t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){n.disabled||e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){n.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){n.disabled||e(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){n.disabled||e(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),n.navigation){var i=t.element.find("a").filter(n.navigationFilter).eq(0);if(i.length){var r=i.closest(".ui-accordion-header");r.length?t.active=r:t.active=i.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||n.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),n.event&&t.headers.bind(n.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(e("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var n=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(t.autoHeight||t.fillHeight)&&n.css("height",""),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),"active"==t&&this.activate(n),"icons"==t&&(this._destroyIcons(),n&&this._createIcons()),"disabled"==t&&this.headers.add(this.headers.next())[n?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return!o||(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),!1)}},resize:function(){var t,n=this.options;if(n.fillSpace){if(e.browser.msie){var i=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}t=this.element.parent().height(),e.browser.msie&&this.element.parent().css("overflow",i),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else n.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).height("").height())}).height(t));return this},activate:function(e){this.options.active=e;var t=this._findActive(e)[0];return this._clickHandler({target:t},t),this},_findActive:function(t){return t?"number"==typeof t?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):!1===t?e([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,n){var i=this.options;if(!i.disabled){if(!t.target){if(!i.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(i.icons.headerSelected).addClass(i.icons.header),this.active.next().addClass("ui-accordion-content-active");var r=this.active.next(),o={options:i,newHeader:e([]),oldHeader:i.active,newContent:e([]),oldContent:r},a=this.active=e([]);return void this._toggle(a,r,o)}var s=e(t.currentTarget||n),l=s[0]===this.active[0];if(i.active=(!i.collapsible||!l)&&this.headers.index(s),!(this.running||!i.collapsible&&l)){var c=this.active,a=s.next(),r=this.active.next(),o={options:i,newHeader:l&&i.collapsible?e([]):s,oldHeader:this.active,newContent:l&&i.collapsible?e([]):a,oldContent:r},u=this.headers.index(this.active[0])>this.headers.index(s[0]);this.active=l?e([]):s,this._toggle(a,r,o,l,u),c.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(i.icons.headerSelected).addClass(i.icons.header),l||(s.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(i.icons.header).addClass(i.icons.headerSelected),s.next().addClass("ui-accordion-content-active"))}}},_toggle:function(t,n,i,r,o){var a=this,s=a.options;a.toShow=t,a.toHide=n,a.data=i;var l=function(){if(a)return a._completed.apply(a,arguments)};if(a._trigger("changestart",null,a.data),a.running=0===n.size()?t.size():n.size(),s.animated){var c={};c=s.collapsible&&r?{toShow:e([]),toHide:n,complete:l,down:o,autoHeight:s.autoHeight||s.fillSpace}:{toShow:t,toHide:n,complete:l,down:o,autoHeight:s.autoHeight||s.fillSpace},s.proxied||(s.proxied=s.animated),s.proxiedDuration||(s.proxiedDuration=s.duration),s.animated=e.isFunction(s.proxied)?s.proxied(c):s.proxied,s.duration=e.isFunction(s.proxiedDuration)?s.proxiedDuration(c):s.proxiedDuration;var u=e.ui.accordion.animations,d=s.duration,f=s.animated;f&&!u[f]&&!e.easing[f]&&(f="slide"),u[f]||(u[f]=function(e){this.slide(e,{easing:f,duration:d||700})}),u[f](c)}else s.collapsible&&r?t.toggle():(n.hide(),t.show()),l(!0);n.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),e.extend(e.ui.accordion,{version:"1.8.21",animations:{slide:function(t,n){if(t=e.extend({easing:"swing",duration:300},t,n),!t.toHide.size())return void t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t);if(!t.toShow.size())return void t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);var i,r=t.toShow.css("overflow"),o=0,a={},s={},l=["height","paddingTop","paddingBottom"],c=t.toShow;i=c[0].style.width,c.width(c.parent().width()-parseFloat(c.css("paddingLeft"))-parseFloat(c.css("paddingRight"))-(parseFloat(c.css("borderLeftWidth"))||0)-(parseFloat(c.css("borderRightWidth"))||0)),e.each(l,function(n,i){s[i]="hide";var r=(""+e.css(t.toShow[0],i)).match(/^([\d+-.]+)(.*)$/);a[i]={value:r[1],unit:r[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(s,{step:function(e,n){"height"==n.prop&&(o=n.end-n.start==0?0:(n.now-n.start)/(n.end-n.start)),t.toShow[0].style[n.prop]=o*a[n.prop].value+a[n.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:i,overflow:r}),t.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.autocomplete.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){var n=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t,n=this,i=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(i){if(!n.options.disabled&&!n.element.propAttr("readOnly")){t=!1;var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:n._move("previousPage",i);break;case r.PAGE_DOWN:n._move("nextPage",i);break;case r.UP:n._keyEvent("previous",i);break;case r.DOWN:n._keyEvent("next",i);break;case r.ENTER:case r.NUMPAD_ENTER:n.menu.active&&(t=!0,i.preventDefault());case r.TAB:if(!n.menu.active)return;n.menu.select(i);break;case r.ESCAPE:n.element.val(n.term),n.close(i);break;default:clearTimeout(n.searching),n.searching=setTimeout(function(){n.term!=n.element.val()&&(n.selectedItem=null,n.search(null,i))},n.options.delay)}}}).bind("keypress.autocomplete",function(e){t&&(t=!1,e.preventDefault())}).bind("focus.autocomplete",function(){n.options.disabled||(n.selectedItem=null,n.previous=n.element.val())}).bind("blur.autocomplete",function(e){n.options.disabled||(clearTimeout(n.searching),n.closing=setTimeout(function(){n.close(e),n._change(e)},150))}),this._initSource(),this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",i)[0]).mousedown(function(t){var i=n.menu.element[0];e(t.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(t){t.target!==n.element[0]&&t.target!==i&&!e.ui.contains(i,t.target)&&n.close()})},1),setTimeout(function(){clearTimeout(n.closing)},13)}).menu({focus:function(e,t){var i=t.item.data("item.autocomplete");!1!==n._trigger("focus",e,{item:i})&&/^key/.test(e.originalEvent.type)&&n.element.val(i.value)},selected:function(e,t){var r=t.item.data("item.autocomplete"),o=n.previous;n.element[0]!==i.activeElement&&(n.element.focus(),n.previous=o,setTimeout(function(){n.previous=o,n.selectedItem=r},1)),!1!==n._trigger("select",e,{item:r})&&n.element.val(r.value),n.term=n.element.val(),n.close(e),n.selectedItem=r},blur:function(e,t){n.menu.element.is(":visible")&&n.element.val()!==n.term&&n.element.val(n.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),n.beforeunloadHandler=function(){n.element.removeAttr("autocomplete")},e(window).bind("beforeunload",n.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(e(n||"body",this.element[0].ownerDocument)[0]),"disabled"===t&&n&&this.xhr&&this.xhr.abort()},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e,t){r(e)},error:function(){r([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),!1!==this._trigger("search",t)?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(i){t===n&&e.__response(i),--e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close()},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.deactivate(),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItem(t,n)})},_renderItem:function(t,n){return e("<li></li>").data("item.autocomplete",n).append(e("<a></a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),void this.menu.deactivate()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(n){e(n.target).closest(".ui-menu-item a").length&&(n.preventDefault(),t.select(n))}),this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(n){t.activate(n,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var n=t.offset().top-this.element.offset().top,i=this.element.scrollTop(),r=this.element.height();n<0?this.element.scrollTop(i+n):n>=r&&this.element.scrollTop(i+n-r+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,n){if(!this.active)return void this.activate(n,this.element.children(t));var i=this.active[e+"All"](".ui-menu-item").eq(0);i.length?this.activate(n,i):this.activate(n,this.element.children(t))},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last())return void this.activate(t,this.element.children(".ui-menu-item:first"));var n=this.active.offset().top,i=this.element.height(),r=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n-i+e(this).height();return t<10&&t>-10});r.length||(r=this.element.children(".ui-menu-item:last")),this.activate(t,r)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first())return void this.activate(t,this.element.children(".ui-menu-item:last"));var n=this.active.offset().top,i=this.element.height(),r=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n+i-e(this).height();return t<10&&t>-10});r.length||(r=this.element.children(".ui-menu-item:first")),this.activate(t,r)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
            * https://github.com/jquery/jquery-ui
            * Includes: jquery.ui.button.js
            * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){var n,i,r,o,a="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var n=t.name,i=t.form,r=e([]);return n&&(r=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,s=this.options,u="checkbox"===this.type||"radio"===this.type,d="ui-state-hover"+(u?"":" ui-state-active"),f="ui-state-focus";null===s.label&&(s.label=this.buttonElement.html()),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter.button",function(){s.disabled||(e(this).addClass("ui-state-hover"),this===n&&e(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){s.disabled||e(this).removeClass(d)}).bind("click.button",function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus.button",function(){t.buttonElement.addClass(f)}).bind("blur.button",function(){t.buttonElement.removeClass(f)}),u&&(this.element.bind("change.button",function(){o||t.refresh()}),this.buttonElement.bind("mousedown.button",function(e){s.disabled||(o=!1,i=e.pageX,r=e.pageY)}).bind("mouseup.button",function(e){s.disabled||i===e.pageX&&r===e.pageY||(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(s.disabled||o)return!1;e(this).toggleClass("ui-state-active"),t.buttonElement.attr("aria-pressed",t.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(s.disabled||o)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];c(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(s.disabled)return!1;e(this).addClass("ui-state-active"),n=this,e(document).one("mouseup",function(){n=null})}).bind("mouseup.button",function(){if(s.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){if(s.disabled)return!1;(t.keyCode==e.ui.keyCode.SPACE||t.keyCode==e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){if(this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type){var e=this.element.parents().filter(":last"),t="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible");var n=this.element.is(":checked");n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",n)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" ui-state-hover ui-state-active  "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){if(e.Widget.prototype._setOption.apply(this,arguments),"disabled"===t)return void(n?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1));this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(s),n=e("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",n))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,n){"disabled"===t&&this.buttons.button("option",t,n),e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),e.Widget.prototype.destroy.call(this)}})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.dialog.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},o=e.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};e.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,i=t.options,r=i.title||"&#160;",o=e.ui.dialog.getTitleId(t.element),a=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass(n+i.dialogClass).css({zIndex:i.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(n){i.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}).attr({role:"dialog","aria-labelledby":o}).mousedown(function(e){t.moveToTop(!1,e)}),s=(t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(a),(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(a)),l=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){l.addClass("ui-state-hover")},function(){l.removeClass("ui-state-hover")}).focus(function(){l.addClass("ui-state-focus")}).blur(function(){l.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(s);(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(l),e("<span></span>").addClass("ui-dialog-title").attr("id",o).html(r).prependTo(s),e.isFunction(i.beforeclose)&&!e.isFunction(i.beforeClose)&&(i.beforeClose=i.beforeclose),s.find("*").add(s).disableSelection(),i.draggable&&e.fn.draggable&&t._makeDraggable(),i.resizable&&e.fn.resizable&&t._makeResizable(),t._createButtons(i.buttons),t._isOpen=!1,e.fn.bgiframe&&a.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(t){var n,i,r=this;if(!1!==r._trigger("beforeClose",t))return r.overlay&&r.overlay.destroy(),r.uiDialog.unbind("keypress.ui-dialog"),r._isOpen=!1,r.options.hide?r.uiDialog.hide(r.options.hide,function(){r._trigger("close",t)}):(r.uiDialog.hide(),r._trigger("close",t)),e.ui.dialog.overlay.resize(),r.options.modal&&(n=0,e(".ui-dialog").each(function(){this!==r.uiDialog[0]&&(i=e(this).css("z-index"),isNaN(i)||(n=Math.max(n,i)))}),e.ui.dialog.maxZ=n),r},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var i,r=this,o=r.options;return o.modal&&!t||!o.stack&&!o.modal?r._trigger("focus",n):(o.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=o.zIndex),r.overlay&&(e.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)),i={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},e.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",e.ui.dialog.maxZ),r.element.attr(i),r._trigger("focus",n),r)},open:function(){if(!this._isOpen){var t=this,n=t.options,i=t.uiDialog;return t.overlay=n.modal?new e.ui.dialog.overlay(t):null,t._size(),t._position(n.position),i.show(n.show),t.moveToTop(!0),n.modal&&i.bind("keydown.ui-dialog",function(t){if(t.keyCode===e.ui.keyCode.TAB){var n=e(":tabbable",this),i=n.filter(":first"),r=n.filter(":last");return t.target!==r[0]||t.shiftKey?t.target===i[0]&&t.shiftKey?(r.focus(1),!1):void 0:(i.focus(1),!1)}}),e(t.element.find(":tabbable").get().concat(i.find(".ui-dialog-buttonpane :tabbable").get().concat(i.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var n=this,i=!1,r=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),a=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(r);n.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==(void 0===t?"undefined":_typeof(t))&&null!==t&&e.each(t,function(){return!(i=!0)}),i&&(e.each(t,function(t,i){i=e.isFunction(i)?{click:i,text:t}:i;var r=e('<button type="button"></button>').click(function(){i.click.apply(n.element[0],arguments)}).appendTo(a);e.each(i,function(e,t){"click"!==e&&(e in o?r[e](t):r.attr(e,t))}),e.fn.button&&r.button()}),r.appendTo(n.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n,i=this,r=i.options,o=e(document);i.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(o,a){n="auto"===r.height?"auto":e(this).height(),e(this).height(e(this).height()).addClass("ui-dialog-dragging"),i._trigger("dragStart",o,t(a))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(a,s){r.position=[s.position.left-o.scrollLeft(),s.position.top-o.scrollTop()],e(this).removeClass("ui-dialog-dragging").height(n),i._trigger("dragStop",a,t(s)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(t){function n(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}t=void 0===t?this.options.resizable:t;var i=this,r=i.options,o=i.uiDialog.css("position"),a="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";i.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:i.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:i._minHeight(),handles:a,start:function(t,r){e(this).addClass("ui-dialog-resizing"),i._trigger("resizeStart",t,n(r))},resize:function(e,t){i._trigger("resize",e,n(t))},stop:function(t,o){e(this).removeClass("ui-dialog-resizing"),r.height=e(this).height(),r.width=e(this).width(),i._trigger("resizeStop",t,n(o)),e.ui.dialog.overlay.resize()}}).css("position",o).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n,i=[],r=[0,0];t?(("string"==typeof t||"object"==(void 0===t?"undefined":_typeof(t))&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],1===i.length&&(i[1]=i[0]),e.each(["left","top"],function(e,t){+i[e]===i[e]&&(r[e]=i[e],i[e]=t)}),t={my:i.join(" "),at:i.join(" "),offset:r.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,n=this.uiDialog.is(":visible"),n||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},t)),n||this.uiDialog.hide()},_setOptions:function(t){var n=this,o={},a=!1;e.each(t,function(e,t){n._setOption(e,t),e in i&&(a=!0),e in r&&(o[e]=t)}),a&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,i){var r=this,o=r.uiDialog;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":r._createButtons(i);break;case"closeText":r.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":o.removeClass(r.options.dialogClass).addClass(n+i);break;case"disabled":i?o.addClass("ui-dialog-disabled"):o.removeClass("ui-dialog-disabled");break;case"draggable":var a=o.is(":data(draggable)");a&&!i&&o.draggable("destroy"),!a&&i&&r._makeDraggable();break;case"position":r._position(i);break;case"resizable":var s=o.is(":data(resizable)");s&&!i&&o.resizable("destroy"),s&&"string"==typeof i&&o.resizable("option","handles",i),!s&&!1!==i&&r._makeResizable(i);break;case"title":e(".ui-dialog-title",r.uiDialogTitlebar).html(""+(i||"&#160;"))}e.Widget.prototype._setOption.apply(r,arguments)},_size:function(){var t,n,i=this.options,r=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).height(),n=Math.max(0,i.minHeight-t),"auto"===i.height)if(e.support.minHeight)this.element.css({minHeight:n,height:"auto"});else{this.uiDialog.show();var o=this.element.css("height","auto").height();r||this.uiDialog.hide(),this.element.height(Math.max(o,n))}else this.element.height(Math.max(i.height-t,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{version:"1.8.21",uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)return!1})},1),e(document).bind("keydown.dialog-overlay",function(n){t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances);-1!=n&&this.oldInstances.push(this.instances.splice(n,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.remove();var i=0;e.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var t,n;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<n?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<n?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.slider.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,n=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=n.values&&n.values.length||1,o=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(!0===n.range&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:"")));for(var a=i.length;a<r;a+=1)o.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=i.add(e(o.join("")).appendTo(t.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){n.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(n){var i,r,o,a=e(this).data("index.ui-slider-handle");if(!t.options.disabled){switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!t._keySliding&&(t._keySliding=!0,e(this).addClass("ui-state-active"),!1===t._start(n,a)))return}switch(o=t.options.step,i=r=t.options.values&&t.options.values.length?t.values(a):t.value(),n.keyCode){case e.ui.keyCode.HOME:r=t._valueMin();break;case e.ui.keyCode.END:r=t._valueMax();break;case e.ui.keyCode.PAGE_UP:r=t._trimAlignValue(i+(t._valueMax()-t._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:r=t._trimAlignValue(i-(t._valueMax()-t._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===t._valueMax())return;r=t._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===t._valueMin())return;r=t._trimAlignValue(i-o)}t._slide(n,a,r)}}).keyup(function(n){var i=e(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(n,i),t._change(n,i),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var n,i,r,o,a,s,l,c,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,a=this,this.handles.each(function(t){var n=Math.abs(i-a.values(t));r>n&&(r=n,o=e(this),s=t)}),!0===u.range&&this.values(1)===u.min&&(s+=1,o=e(this.handles[s])),!1!==this._start(t,s)&&(this._mouseSliding=!0,a._handleIndex=s,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,i),this._animateOff=!0,!0))},_mouseStart:function(e){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>i||1===t&&n<i)&&(n=i),n!==this.values(t)&&(r=this.values(),r[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),!1!==o&&this.values(t,n,!0))):n!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch(e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<r;i+=1)this._change(null,i);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,r,o,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i,r){t=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:t+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:t-n+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:t+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:t-n+"%"},{queue:!1,duration:s.animate}))),n=t}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),t=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:t+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:t+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:s.animate}))}}),e.extend(e.ui.slider,{version:"1.8.21"})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.tabs.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){function n(){return++r}function i(){return++o}var r=0,o=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){if("selected"==e){if(this.options.collapsible&&t==this.options.selected)return;this.select(t)}else this.options[e]=t,this._tabify()},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+n()},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+i());return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(n){function i(t,n){t.css("display",""),!e.support.opacity&&n.opacity&&t[0].style.removeAttribute("filter")}var r=this,o=this.options,a=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=e(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,n){var i,s=e(n).attr("href"),l=s.split("#")[0];if(l&&(l===location.toString().split("#")[0]||(i=e("base")[0])&&l===i.href)&&(s=n.hash,n.href=s),a.test(s))r.panels=r.panels.add(r.element.find(r._sanitizeSelector(s)));else if(s&&"#"!==s){e.data(n,"href.tabs",s),e.data(n,"load.tabs",s.replace(/#.*$/,""));var c=r._tabId(n);n.href="#"+c;var u=r.element.find("#"+c);u.length||(u=e(o.panelTemplate).attr("id",c).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(r.panels[t-1]||r.list),u.data("destroy.tabs",!0)),r.panels=r.panels.add(u)}else o.disabled.push(t)}),n?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),o.selected===t?(location.hash&&this.anchors.each(function(e,t){if(t.hash==location.hash)return o.selected=e,!1}),"number"!=typeof o.selected&&o.cookie&&(o.selected=parseInt(r._cookie(),10)),"number"!=typeof o.selected&&this.lis.filter(".ui-tabs-selected").length&&(o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),o.selected=o.selected||(this.lis.length?0:-1)):null===o.selected&&(o.selected=-1),o.selected=o.selected>=0&&this.anchors[o.selected]||o.selected<0?o.selected:0,o.disabled=e.unique(o.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e,t){return r.lis.index(e)}))).sort(),-1!=e.inArray(o.selected,o.disabled)&&o.disabled.splice(e.inArray(o.selected,o.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),o.selected>=0&&this.anchors.length&&(r.element.find(r._sanitizeSelector(r.anchors[o.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active"),r.element.queue("tabs",function(){r._trigger("show",null,r._ui(r.anchors[o.selected],r.element.find(r._sanitizeSelector(r.anchors[o.selected].hash))[0]))}),this.load(o.selected)),e(window).bind("unload",function(){r.lis.add(r.anchors).unbind(".tabs"),r.lis=r.anchors=r.panels=null})):o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),o.cookie&&this._cookie(o.selected,o.cookie);for(var s,l=0;s=this.lis[l];l++)e(s)[-1==e.inArray(l,o.disabled)||e(s).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(!1===o.cache&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==o.event){var c=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},u=function(e,t){t.removeClass("ui-state-"+e)};this.lis.bind("mouseover.tabs",function(){c("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){u("hover",e(this))}),this.anchors.bind("focus.tabs",function(){c("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){u("focus",e(this).closest("li"))})}var d,f;o.fx&&(e.isArray(o.fx)?(d=o.fx[0],f=o.fx[1]):d=f=o.fx);var h=f?function(t,n){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),n.hide().removeClass("ui-tabs-hide").animate(f,f.duration||"normal",function(){i(n,f),r._trigger("show",null,r._ui(t,n[0]))})}:function(t,n){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),n.removeClass("ui-tabs-hide"),r._trigger("show",null,r._ui(t,n[0]))},p=d?function(e,t){t.animate(d,d.duration||"normal",function(){r.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),i(t,d),r.element.dequeue("tabs")})}:function(e,t,n){r.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),r.element.dequeue("tabs")};this.anchors.bind(o.event+".tabs",function(){var t=this,n=e(t).closest("li"),i=r.panels.filter(":not(.ui-tabs-hide)"),a=r.element.find(r._sanitizeSelector(t.hash));if(n.hasClass("ui-tabs-selected")&&!o.collapsible||n.hasClass("ui-state-disabled")||n.hasClass("ui-state-processing")||r.panels.filter(":animated").length||!1===r._trigger("select",null,r._ui(this,a[0])))return this.blur(),!1;if(o.selected=r.anchors.index(this),r.abort(),o.collapsible){if(n.hasClass("ui-tabs-selected"))return o.selected=-1,o.cookie&&r._cookie(o.selected,o.cookie),r.element.queue("tabs",function(){p(t,i)}).dequeue("tabs"),this.blur(),!1;if(!i.length)return o.cookie&&r._cookie(o.selected,o.cookie),r.element.queue("tabs",function(){h(t,a)}),r.load(r.anchors.index(this)),this.blur(),!1}if(o.cookie&&r._cookie(o.selected,o.cookie),!a.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";i.length&&r.element.queue("tabs",function(){p(t,i)}),r.element.queue("tabs",function(){h(t,a)}),r.load(r.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var n=e(this).unbind(".tabs");e.each(["href","load","cache"],function(e,t){n.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),t.cookie&&this._cookie(null,t.cookie),this},add:function(n,i,r){r===t&&(r=this.anchors.length);var o=this,a=this.options,s=e(a.tabTemplate.replace(/#\{href\}/g,n).replace(/#\{label\}/g,i)),l=n.indexOf("#")?this._tabId(e("a",s)[0]):n.replace("#","");s.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var c=o.element.find("#"+l);return c.length||(c=e(a.panelTemplate).attr("id",l).data("destroy.tabs",!0)),c.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),r>=this.lis.length?(s.appendTo(this.list),c.appendTo(this.list[0].parentNode)):(s.insertBefore(this.lis[r]),c.insertBefore(this.panels[r])),a.disabled=e.map(a.disabled,function(e,t){return e>=r?++e:e}),this._tabify(),1==this.anchors.length&&(a.selected=0,s.addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[r],this.panels[r])),this},remove:function(t){t=this._getIndex(t);var n=this.options,i=this.lis.eq(t).remove(),r=this.panels.eq(t).remove();return i.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),n.disabled=e.map(e.grep(n.disabled,function(e,n){return e!=t}),function(e,n){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(i.find("a")[0],r[0])),this},enable:function(t){t=this._getIndex(t);var n=this.options;if(-1!=e.inArray(t,n.disabled))return this.lis.eq(t).removeClass("ui-state-disabled"),n.disabled=e.grep(n.disabled,function(e,n){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(-1==(e=this._getIndex(e))){if(!this.options.collapsible||-1==this.options.selected)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var n=this,i=this.options,r=this.anchors.eq(t)[0],o=e.data(r,"load.tabs");if(this.abort(),!o||0!==this.element.queue("tabs").length&&e.data(r,"cache.tabs"))return void this.element.dequeue("tabs");if(this.lis.eq(t).addClass("ui-state-processing"),i.spinner){var a=e("span",r);a.data("label.tabs",a.html()).html(i.spinner)}return this.xhr=e.ajax(e.extend({},i.ajaxOptions,{url:o,success:function(o,a){n.element.find(n._sanitizeSelector(r.hash)).html(o),n._cleanup(),i.cache&&e.data(r,"cache.tabs",!0),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{i.ajaxOptions.success(o,a)}catch(e){}},error:function(e,o,a){n._cleanup(),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{i.ajaxOptions.error(e,o,t,r)}catch(a){}}})),n.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.21"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,t){var n=this,i=this.options,r=n._rotate||(n._rotate=function(t){clearTimeout(n.rotation),n.rotation=setTimeout(function(){var e=i.selected;n.select(++e<n.anchors.length?e:0)},e),t&&t.stopPropagation()}),o=n._unrotate||(n._unrotate=t?function(e){r()}:function(e){e.clientX&&n.rotate(null)});return e?(this.element.bind("tabsshow",r),this.anchors.bind(i.event+".tabs",o),r()):(clearTimeout(n.rotation),this.element.unbind("tabsshow",r),this.anchors.unbind(i.event+".tabs",o),delete this._rotate,delete this._unrotate),this}})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.datepicker.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.bind("mouseout",function(e){var n=$(e.target).closest(t);n.length&&n.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(n){var i=$(n.target).closest(t);!$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])&&i.length&&(i.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),i.addClass("ui-state-hover"),i.hasClass("ui-datepicker-prev")&&i.addClass("ui-datepicker-prev-hover"),i.hasClass("ui-datepicker-next")&&i.addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t)null!=t[n]&&t[n]!=undefined||(e[n]=t[n]);return e}function isArray(e){return e&&($.browser.safari&&"object"==(void 0===e?"undefined":_typeof(e))&&e.length||e.constructor&&e.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.21"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function _attachDatepicker(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,i){t.settings[n]=i}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n=this._get(t,"appendText"),i=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[i?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var r=this._get(t,"showOn");if(("focus"==r||"both"==r)&&e.focus(this._showDatepicker),"button"==r||"both"==r){var o=this._get(t,"buttonText"),a=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:a,alt:o,title:o}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==a?o:$("<img/>").attr({src:a,alt:o,title:o}))),e[i?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length,n=i);return n};t.setMonth(i(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(i(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,i){t.settings[n]=i}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,r){var o=this._dialogInst;if(!o){this.uuid+=1;var a="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+a+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},$.data(this._dialogInput[0],PROP_NAME,o)}if(extendRemove(o.settings,i||{}),t=t&&t.constructor==Date?this._formatDate(o,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[s/2-100+c,l/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,o),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==i||"span"==i)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==i||"span"==i){var r=t.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==i||"span"==i){var r=t.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):i?"all"==t?$.extend({},i.settings):this._get(i,t):null;var r=t||{};if("string"==typeof t&&(r={},r[t]=n),i){this._curInst==i&&this._hideDatepicker();var o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(i,"min"),s=this._getMinMaxDate(i,"max");extendRemove(i.settings,r),null!==a&&r.dateFormat!==undefined&&r.minDate===undefined&&(i.settings.minDate=this._formatDate(i,a)),null!==s&&r.dateFormat!==undefined&&r.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,s)),this._attachments($(e),i),this._autoSize(i),this._setDate(i,o),this._updateAlternate(i),this._updateDatepicker(i)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,i=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);r[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,r[0]);var o=$.datepicker._get(t,"onSelect");if(o){var a=$.datepicker._formatDate(t);o.apply(t.input?t.input[0]:null,[a,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),i=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t))&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(e){$.datepicker.log(e)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),i=n?n.apply(e,[e,t]):{};if(!1!==i){extendRemove(t.settings,i),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var r=!1;$(e).parents().each(function(){return!(r|="fixed"==$(this).css("position"))}),r&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var o={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),o=$.datepicker._checkOffset(t,o,r),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),!t.inline){var a=$.datepicker._get(t,"showAnim"),s=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[a]?t.dpDiv.show(a,$.datepicker._get(t,"showOptions"),s,l):t.dpDiv[a||"show"](a?s:null,l),(!a||!s)&&l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e));var n=e.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i=this._getNumberOfMonths(e),r=i[1];if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var o=e.yearshtml;setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),o=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+$(document).scrollLeft(),l=document.documentElement.clientHeight+$(document).scrollTop();return t.left-=this._get(e,"isRTL")?i-o:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+a?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>s&&s>i?Math.abs(t.left+i-s):0),t.top-=Math.min(t.top,t.top+r>l&&l>r?Math.abs(r+a):0),t},_findPos:function(e){for(var t=this._getInst(e),n=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];var i=$(e).offset();return[i.left,i.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var n=this._get(t,"showAnim"),i=this._get(t,"duration"),r=function(){$.datepicker._tidyDialog(t)};$.effects&&$.effects[n]?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),i,r):t.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1;var o=this._get(t,"onClose");o&&o.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var i=$(e),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,t+("M"==n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var i=new Date;n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var i=$(e),r=this._getInst(i[0]);r["selected"+("M"==n?"Month":"Year")]=r["draw"+("M"==n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(e,t,n,i){var r=$(e);if(!$(i).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var o=this._getInst(r[0]);o.selectedDay=o.currentDay=$("a",i).html(),o.selectedMonth=o.currentMonth=t,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),i=this._getInst(n[0]);t=null!=t?t:this._formatDate(i),i.input&&i.input.val(t),this._updateAlternate(i);var r=this._get(i,"onSelect");r?r.apply(i.input?i.input[0]:null,[t,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=_typeof(i.input[0])&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e));$(t).each(function(){$(this).val(r)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(e,t,n){if(null==e||null==t)throw"Invalid arguments";if(""==(t="object"==(void 0===t?"undefined":_typeof(t))?t.toString():t+""))return null;var i=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;i="string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10);for(var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,u=-1,d=-1,f=!1,h=function(t){var n=y+1<e.length&&e.charAt(y+1)==t;return n&&y++,n},p=function(e){var n=h(e),i="@"==e?14:"!"==e?20:"y"==e&&n?4:"o"==e?3:2,r=new RegExp("^\\d{1,"+i+"}"),o=t.substring(v).match(r);if(!o)throw"Missing number at position "+v;return v+=o[0].length,parseInt(o[0],10)},g=function(e,n,i){var r=$.map(h(e)?i:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),o=-1;if($.each(r,function(e,n){var i=n[1];if(t.substr(v,i.length).toLowerCase()==i.toLowerCase())return o=n[0],v+=i.length,!1}),-1!=o)return o+1;throw"Unknown name at position "+v},m=function(){if(t.charAt(v)!=e.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;y<e.length;y++)if(f)"'"!=e.charAt(y)||h("'")?m():f=!1;else switch(e.charAt(y)){case"d":u=p("d");break;case"D":g("D",r,o);break;case"o":d=p("o");break;case"m":c=p("m");break;case"M":c=g("M",a,s);break;case"y":l=p("y");break;case"@":var b=new Date(p("@"));l=b.getFullYear(),c=b.getMonth()+1,u=b.getDate();break;case"!":var b=new Date((p("!")-this._ticksTo1970)/1e4);l=b.getFullYear(),c=b.getMonth()+1,u=b.getDate();break;case"'":h("'")?m():f=!0;break;default:m()}if(v<t.length)throw"Extra/unparsed characters found in date: "+t.substring(v);if(-1==l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=i?0:-100)),d>-1)for(c=1,u=d;;){var w=this._getDaysInMonth(l,c-1);if(u<=w)break;c++,u-=w}var b=this._daylightSavingAdjust(new Date(l,c-1,u));if(b.getFullYear()!=l||b.getMonth()+1!=c||b.getDate()!=u)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,s=function(t){var n=f+1<e.length&&e.charAt(f+1)==t;return n&&f++,n},l=function(e,t,n){var i=""+t;if(s(e))for(;i.length<n;)i="0"+i;return i},c=function(e,t,n,i){return s(e)?i[t]:n[t]},u="",d=!1;if(t)for(var f=0;f<e.length;f++)if(d)"'"!=e.charAt(f)||s("'")?u+=e.charAt(f):d=!1;else switch(e.charAt(f)){case"d":u+=l("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),i,r);break;case"o":u+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),o,a);break;case"y":u+=s("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":s("'")?u+="'":d=!0;break;default:u+=e.charAt(f)}return u},_possibleChars:function(e){for(var t="",n=!1,i=function(t){var n=r+1<e.length&&e.charAt(r+1)==t;return n&&r++,n},r=0;r<e.length;r++)if(n)"'"!=e.charAt(r)||i("'")?t+=e.charAt(r):n=!1;else switch(e.charAt(r)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":i("'")?t+="'":n=!0;break;default:t+=e.charAt(r)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var n,i,r=this._get(e,"dateFormat"),o=e.lastVal=e.input?e.input.val():null;n=i=this._getDefaultDate(e);var a=this._getFormatConfig(e);try{n=this.parseDate(r,o,a)||i}catch(e){this.log(e),o=t?"":o}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=o?n.getDate():0,e.currentMonth=o?n.getMonth():0,e.currentYear=o?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var i=null==t||""===t?n:"string"==typeof t?function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(e){}for(var n=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=n.getFullYear(),r=n.getMonth(),o=n.getDate(),a=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=a.exec(t);s;){switch(s[2]||"d"){case"d":case"D":o+=parseInt(s[1],10);break;case"w":case"W":o+=7*parseInt(s[1],10);break;case"m":case"M":r+=parseInt(s[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,r));break;case"y":case"Y":i+=parseInt(s[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,r))}s=a.exec(t)}return new Date(i,r,o)}(t):"number"==typeof t?isNaN(t)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(t):new Date(t.getTime());return i=i&&"Invalid Date"==i.toString()?n:i,i&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),(r!=e.selectedMonth||o!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),i=this._get(e,"showButtonPanel"),r=this._get(e,"hideIfNoPrevNext"),o=this._get(e,"navigationAsDateFormat"),a=this._getNumberOfMonths(e),s=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=a[0]||1!=a[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),f=this._getMinMaxDate(e,"max"),h=e.drawMonth-s,p=e.drawYear;if(h<0&&(h+=12,p--),f){var g=this._daylightSavingAdjust(new Date(f.getFullYear(),f.getMonth()-a[0]*a[1]+1,f.getDate()));for(g=d&&g<d?d:g;this._daylightSavingAdjust(new Date(p,h,1))>g;)--h<0&&(h=11,p--)}e.drawMonth=h,e.drawYear=p;var m=this._get(e,"prevText");m=o?this.formatDate(m,this._daylightSavingAdjust(new Date(p,h-l,1)),this._getFormatConfig(e)):m;var v=this._canAdjustMonth(e,-1,p,h)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', -"+l+", 'M');\" title=\""+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(e,"nextText");y=o?this.formatDate(y,this._daylightSavingAdjust(new Date(p,h+l,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,p,h)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', +"+l+", 'M');\" title=\""+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),x=this._get(e,"gotoCurrent")&&e.currentDay?u:t;w=o?this.formatDate(w,x,this._getFormatConfig(e)):w;var k=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>",C=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?k:"")+(this._isInRange(e,x)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+e.id+"');\">"+w+"</button>":"")+(n?"":k)+"</div>":"",S=parseInt(this._get(e,"firstDay"),10);S=isNaN(S)?0:S;for(var _=this._get(e,"showWeek"),T=this._get(e,"dayNames"),A=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),E=this._get(e,"monthNames"),M=this._get(e,"monthNamesShort"),D=this._get(e,"beforeShowDay"),I=this._get(e,"showOtherMonths"),O=this._get(e,"selectOtherMonths"),N=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),P="",L=0;L<a[0];L++){var R="";this.maxRows=4;for(var j=0;j<a[1];j++){var F=this._daylightSavingAdjust(new Date(p,h,e.selectedDay)),H=" ui-corner-all",z="";if(c){if(z+='<div class="ui-datepicker-group',a[1]>1)switch(j){case 0:z+=" ui-datepicker-group-first",H=" ui-corner-"+(n?"right":"left");break;case a[1]-1:z+=" ui-datepicker-group-last",H=" ui-corner-"+(n?"left":"right");break;default:z+=" ui-datepicker-group-middle",H=""}z+='">'}z+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+H+'">'+(/all|left/.test(H)&&0==L?n?b:v:"")+(/all|right/.test(H)&&0==L?n?v:b:"")+this._generateMonthYearHeader(e,h,p,d,f,L>0||j>0,E,M)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var B=_?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",W=0;W<7;W++){var U=(W+S)%7;B+="<th"+((W+S+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+T[U]+'">'+A[U]+"</span></th>"}z+=B+"</tr></thead><tbody>";var q=this._getDaysInMonth(p,h);p==e.selectedYear&&h==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,q));var V=(this._getFirstDayOfMonth(p,h)-S+7)%7,K=Math.ceil((V+q)/7),G=c&&this.maxRows>K?this.maxRows:K;this.maxRows=G;for(var Y=this._daylightSavingAdjust(new Date(p,h,1-V)),X=0;X<G;X++){z+="<tr>";for(var Q=_?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(Y)+"</td>":"",W=0;W<7;W++){var J=D?D.apply(e.input?e.input[0]:null,[Y]):[!0,""],Z=Y.getMonth()!=h,ee=Z&&!O||!J[0]||d&&Y<d||f&&Y>f;Q+='<td class="'+((W+S+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(Y.getTime()==F.getTime()&&h==e.selectedMonth&&e._keyEvent||N.getTime()==Y.getTime()&&N.getTime()==F.getTime()?" "+this._dayOverClass:"")+(ee?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!I?"":" "+J[1]+(Y.getTime()==u.getTime()?" "+this._currentClass:"")+(Y.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!I||!J[2]?"":' title="'+J[2]+'"')+(ee?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+e.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(Z&&!I?"&#xa0;":ee?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==t.getTime()?" ui-state-highlight":"")+(Y.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}z+=Q+"</tr>"}h++,h>11&&(h=0,p++),z+="</tbody></table>"+(c?"</div>"+(a[0]>0&&j==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),R+=z}P+=R}return P+=C+($.browser.msie&&parseInt($.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,P},_generateMonthYearHeader:function(e,t,n,i,r,o,a,s){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',f="";if(o||!l)f+='<span class="ui-datepicker-month">'+a[t]+"</span>";else{var h=i&&i.getFullYear()==n,p=r&&r.getFullYear()==n;f+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" >";for(var g=0;g<12;g++)(!h||g>=i.getMonth())&&(!p||g<=r.getMonth())&&(f+='<option value="'+g+'"'+(g==t?' selected="selected"':"")+">"+s[g]+"</option>");f+="</select>"}if(u||(d+=f+(!o&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!c)d+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},b=y(m[0]),w=Math.max(b,y(m[1]||""));for(b=i?Math.max(b,i.getFullYear()):b,w=r?Math.min(w,r.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" >";b<=w;b++)e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),u&&(d+=(!o&&l&&c?"":"&#xa0;")+f),d+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"==n?t:0),r=e.drawMonth+("M"==n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"==n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"==n||"Y"==n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return r=i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!i||t.getTime()<=i.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==(void 0===t?"undefined":_typeof(t))?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.21",window["DP_jQuery_"+dpuuid]=$}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.progressbar.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),e.Widget.prototype.destroy.apply(this,arguments)},value:function(e){/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.ui.progressbar.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(t,n){"value"===t&&(this.options.value=n,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),e.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),e.extend(e.ui.progressbar,{version:"1.8.21"})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.core.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
jQuery.effects||function(e,t){function n(t){var n;return t&&t.constructor==Array&&3==t.length?t:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3])]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:(n=/rgba\(0, 0, 0, 0\)/.exec(t))?c.transparent:c[e.trim(t).toLowerCase()]}function i(t,i){var r;do{if(""!=(r=e.curCSS(t,i))&&"transparent"!=r||e.nodeName(t,"body"))break;i="backgroundColor"}while(t=t.parentNode);return n(r)}function r(){var e,t,n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,i={};if(n&&n.length&&n[0]&&n[n[0]])for(var r=n.length;r--;)e=n[r],"string"==typeof n[e]&&(t=e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),i[t]=n[e]);else for(e in n)"string"==typeof n[e]&&(i[e]=n[e]);return i}function o(t){var n,i;for(n in t)(null==(i=t[n])||e.isFunction(i)||n in d||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(i)))&&delete t[n];return t}function a(e,t){var n,i={_:0};for(n in t)e[n]!=t[n]&&(i[n]=t[n]);return i}function s(t,n,i,r){return"object"==(void 0===t?"undefined":_typeof(t))&&(r=n,i=null,n=t,t=n.effect),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n=n||{},i=i||n.duration,i=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,r=r||n.complete,[t,n,i,r]}function l(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects[t]}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,r){e.fx.step[r]=function(e){e.colorInit||(e.start=i(e.elem,r),e.end=n(e.end),e.colorInit=!0),e.elem.style[r]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},u=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,n,i,s){return e.isFunction(i)&&(s=i,i=null),this.queue(function(){var l,c=e(this),d=c.attr("style")||" ",f=o(r.call(this)),h=c.attr("class")||"";e.each(u,function(e,n){t[n]&&c[n+"Class"](t[n])}),l=o(r.call(this)),c.attr("class",h),c.animate(a(f,l),{queue:!1,duration:n,easing:i,complete:function(){e.each(u,function(e,n){t[n]&&c[n+"Class"](t[n])}),"object"==_typeof(c.attr("style"))?(c.attr("style").cssText="",c.attr("style").cssText=d):c.attr("style",d),s&&s.apply(this,arguments),e.dequeue(this)}})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,i,r){return n?e.effects.animateClass.apply(this,[{add:t},n,i,r]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,i,r){return n?e.effects.animateClass.apply(this,[{remove:t},n,i,r]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,i,r,o,a){return"boolean"==typeof i||i===t?r?e.effects.animateClass.apply(this,[i?{add:n}:{remove:n},r,o,a]):this._toggleClass(n,i):e.effects.animateClass.apply(this,[{toggle:n},i,r,o])},switchClass:function(t,n,i,r,o){return e.effects.animateClass.apply(this,[{add:n,remove:t},i,r,o])}}),e.extend(e.effects,{version:"1.8.21",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ec.storage."+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.css(t[n],e.data("ec.storage."+t[n]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(i),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),i=t.parent(),"static"==t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(n).show()},removeWrapper:function(t){var n,i=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(n=t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus(),n):t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(t,n,i,r){var o=s.apply(this,arguments),a={options:o[1],duration:o[2],callback:o[3]},l=a.options.mode,c=e.effects[t];return e.fx.off||!c?l?this[l](a.duration,a.callback):this.each(function(){a.callback&&a.callback.call(this)}):c.call(this,a)},_show:e.fn.show,show:function(e){if(l(e))return this._show.apply(this,arguments);var t=s.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:e.fn.hide,hide:function(e){if(l(e))return this._hide.apply(this,arguments);var t=s.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(l(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=s.apply(this,arguments);return n[1].mode="toggle",this.effect.apply(this,n)},cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}}),e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,i,r,o){return e.easing[e.easing.def](t,n,i,r,o)},easeInQuad:function(e,t,n,i,r){return i*(t/=r)*t+n},easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,r){return i*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,i,r){return i*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,r){return i*(t/=r)*t*t*t+n},easeOutQuart:function(e,t,n,i,r){return-i*((t=t/r-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,r){return i*(t/=r)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,r){return i*((t=t/r-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,r){return i*Math.sin(t/r*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+n},easeInExpo:function(e,t,n,i,r){return 0==t?n:i*Math.pow(2,10*(t/r-1))+n},easeOutExpo:function(e,t,n,i,r){return t==r?n+i:i*(1-Math.pow(2,-10*t/r))+n},easeInOutExpo:function(e,t,n,i,r){return 0==t?n:t==r?n+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,i,r){return-i*(Math.sqrt(1-(t/=r)*t)-1)+n},easeOutCirc:function(e,t,n,i,r){return i*Math.sqrt(1-(t=t/r-1)*t)+n},easeInOutCirc:function(e,t,n,i,r){return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(1==(t/=r))return n+i;if(a||(a=.3*r),s<Math.abs(i)){s=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/s);return-s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*r-o)*Math.PI/a)+n},easeOutElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(1==(t/=r))return n+i;if(a||(a=.3*r),s<Math.abs(i)){s=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*t)*Math.sin(2*(t*r-o)*Math.PI/a)+i+n},easeInOutElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(2==(t/=r/2))return n+i;if(a||(a=.3*r*1.5),s<Math.abs(i)){s=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/s);return t<1?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*r-o)*Math.PI/a)+n:s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*r-o)*Math.PI/a)*.5+i+n},easeInBack:function(e,n,i,r,o,a){return a==t&&(a=1.70158),r*(n/=o)*n*((a+1)*n-a)+i},easeOutBack:function(e,n,i,r,o,a){return a==t&&(a=1.70158),r*((n=n/o-1)*n*((a+1)*n+a)+1)+i},easeInOutBack:function(e,n,i,r,o,a){return a==t&&(a=1.70158),(n/=o/2)<1?r/2*n*n*((1+(a*=1.525))*n-a)+i:r/2*((n-=2)*n*((1+(a*=1.525))*n+a)+2)+i},easeInBounce:function(t,n,i,r,o){return r-e.easing.easeOutBounce(t,o-n,0,r,o)+i},easeOutBounce:function(e,t,n,i,r){return(t/=r)<1/2.75?7.5625*i*t*t+n:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(t,n,i,r,o){return n<o/2?.5*e.easing.easeInBounce(t,2*n,0,r,o)+i:.5*e.easing.easeOutBounce(t,2*n-o,0,r,o)+.5*r+i}})}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
            * https://github.com/jquery/jquery-ui
            * Includes: jquery.effects.blind.js
            * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.blind=function(t){return this.queue(function(){var n=e(this),i=["position","top","bottom","left","right"],r=e.effects.setMode(n,t.options.mode||"hide"),o=t.options.direction||"vertical";e.effects.save(n,i),n.show();var a=e.effects.createWrapper(n).css({overflow:"hidden"}),s="vertical"==o?"height":"width",l="vertical"==o?a.height():a.width();"show"==r&&a.css(s,0);var c={};c[s]="show"==r?l:0,a.animate(c,t.duration,t.options.easing,function(){"hide"==r&&n.hide(),e.effects.restore(n,i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.bounce.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.bounce=function(t){return this.queue(function(){var n=e(this),i=["position","top","bottom","left","right"],r=e.effects.setMode(n,t.options.mode||"effect"),o=t.options.direction||"up",a=t.options.distance||20,s=t.options.times||5,l=t.duration||250;/show|hide/.test(r)&&i.push("opacity"),e.effects.save(n,i),n.show(),e.effects.createWrapper(n);var c="up"==o||"down"==o?"top":"left",u="up"==o||"left"==o?"pos":"neg",a=t.options.distance||("top"==c?n.outerHeight({margin:!0})/3:n.outerWidth({margin:!0})/3);if("show"==r&&n.css("opacity",0).css(c,"pos"==u?-a:a),"hide"==r&&(a/=2*s),"hide"!=r&&s--,"show"==r){var d={opacity:1};d[c]=("pos"==u?"+=":"-=")+a,n.animate(d,l/2,t.options.easing),a/=2,s--}for(var f=0;f<s;f++){var h={},p={};h[c]=("pos"==u?"-=":"+=")+a,p[c]=("pos"==u?"+=":"-=")+a,n.animate(h,l/2,t.options.easing).animate(p,l/2,t.options.easing),a="hide"==r?2*a:a/2}if("hide"==r){var d={opacity:0};d[c]=("pos"==u?"-=":"+=")+a,n.animate(d,l/2,t.options.easing,function(){n.hide(),e.effects.restore(n,i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})}else{var h={},p={};h[c]=("pos"==u?"-=":"+=")+a,p[c]=("pos"==u?"+=":"-=")+a,n.animate(h,l/2,t.options.easing).animate(p,l/2,t.options.easing,function(){e.effects.restore(n,i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})}n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.clip.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.clip=function(t){return this.queue(function(){var n=e(this),i=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(n,t.options.mode||"hide"),o=t.options.direction||"vertical";e.effects.save(n,i),n.show();var a=e.effects.createWrapper(n).css({overflow:"hidden"}),s="IMG"==n[0].tagName?a:n,l={size:"vertical"==o?"height":"width",position:"vertical"==o?"top":"left"},c="vertical"==o?s.height():s.width();"show"==r&&(s.css(l.size,0),s.css(l.position,c/2));var u={};u[l.size]="show"==r?c:0,u[l.position]="show"==r?0:c/2,s.animate(u,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==r&&n.hide(),e.effects.restore(n,i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()}})})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.drop.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.drop=function(t){return this.queue(function(){var n=e(this),i=["position","top","bottom","left","right","opacity"],r=e.effects.setMode(n,t.options.mode||"hide"),o=t.options.direction||"left";e.effects.save(n,i),n.show(),e.effects.createWrapper(n);var a="up"==o||"down"==o?"top":"left",s="up"==o||"left"==o?"pos":"neg",l=t.options.distance||("top"==a?n.outerHeight({margin:!0})/2:n.outerWidth({margin:!0})/2);"show"==r&&n.css("opacity",0).css(a,"pos"==s?-l:l);var c={opacity:"show"==r?1:0};c[a]=("show"==r?"pos"==s?"+=":"-=":"pos"==s?"-=":"+=")+l,n.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==r&&n.hide(),e.effects.restore(n,i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.explode.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.explode=function(t){return this.queue(function(){var n=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,i=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3;t.options.mode="toggle"==t.options.mode?e(this).is(":visible")?"hide":"show":t.options.mode;var r=e(this).show().css("visibility","hidden"),o=r.offset();o.top-=parseInt(r.css("marginTop"),10)||0,o.left-=parseInt(r.css("marginLeft"),10)||0;for(var a=r.outerWidth(!0),s=r.outerHeight(!0),l=0;l<n;l++)for(var c=0;c<i;c++)r.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:a/i*-c,top:s/n*-l}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:a/i,height:s/n,left:o.left+c*(a/i)+("show"==t.options.mode?(c-Math.floor(i/2))*(a/i):0),top:o.top+l*(s/n)+("show"==t.options.mode?(l-Math.floor(n/2))*(s/n):0),opacity:"show"==t.options.mode?0:1}).animate({left:o.left+c*(a/i)+("show"==t.options.mode?0:(c-Math.floor(i/2))*(a/i)),top:o.top+l*(s/n)+("show"==t.options.mode?0:(l-Math.floor(n/2))*(s/n)),opacity:"show"==t.options.mode?1:0},t.duration||500);setTimeout(function(){"show"==t.options.mode?r.css({visibility:"visible"}):r.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(r[0]),r.dequeue(),e("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.fade.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.fade=function(t){return this.queue(function(){var n=e(this),i=e.effects.setMode(n,t.options.mode||"hide");n.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.fold.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.fold=function(t){return this.queue(function(){var n=e(this),i=["position","top","bottom","left","right"],r=e.effects.setMode(n,t.options.mode||"hide"),o=t.options.size||15,a=!!t.options.horizFirst,s=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(n,i),n.show();var l=e.effects.createWrapper(n).css({overflow:"hidden"}),c="show"==r!=a,u=c?["width","height"]:["height","width"],d=c?[l.width(),l.height()]:[l.height(),l.width()],f=/([0-9]+)%/.exec(o);f&&(o=parseInt(f[1],10)/100*d["hide"==r?0:1]),"show"==r&&l.css(a?{height:0,width:o}:{height:o,width:0});var h={},p={};h[u[0]]="show"==r?d[0]:o,p[u[1]]="show"==r?d[1]:0,l.animate(h,s,t.options.easing).animate(p,s,t.options.easing,function(){"hide"==r&&n.hide(),e.effects.restore(n,i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.highlight.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.highlight=function(t){return this.queue(function(){var n=e(this),i=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.options.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"==r&&(o.opacity=0),e.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==r&&n.hide(),e.effects.restore(n,i),"show"==r&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.pulsate.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.pulsate=function(t){return this.queue(function(){var n=e(this),i=e.effects.setMode(n,t.options.mode||"show"),r=2*(t.options.times||5)-1,o=t.duration?t.duration/2:e.fx.speeds._default/2,a=n.is(":visible"),s=0;a||(n.css("opacity",0).show(),s=1),("hide"==i&&a||"show"==i&&!a)&&r--;for(var l=0;l<r;l++)n.animate({opacity:s},o,t.options.easing),s=(s+1)%2;n.animate({opacity:s},o,t.options.easing,function(){0==s&&n.hide(),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}).dequeue()})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.scale.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.puff=function(t){return this.queue(function(){var n=e(this),i=e.effects.setMode(n,t.options.mode||"hide"),r=parseInt(t.options.percent,10)||150,o=r/100,a={height:n.height(),width:n.width()};e.extend(t.options,{fade:!0,mode:i,percent:"hide"==i?r:100,from:"hide"==i?a:{height:a.height*o,width:a.width*o}}),n.effect("scale",t.options,t.duration,t.callback),n.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var n=e(this),i=e.extend(!0,{},t.options),r=e.effects.setMode(n,t.options.mode||"effect"),o=parseInt(t.options.percent,10)||(0==parseInt(t.options.percent,10)?0:"hide"==r?0:100),a=t.options.direction||"both",s=t.options.origin;"effect"!=r&&(i.origin=s||["middle","center"],i.restore=!0);var l={height:n.height(),width:n.width()};n.from=t.options.from||("show"==r?{height:0,width:0}:l);var c={y:"horizontal"!=a?o/100:1,x:"vertical"!=a?o/100:1};n.to={height:l.height*c.y,width:l.width*c.x},t.options.fade&&("show"==r&&(n.from.opacity=0,n.to.opacity=1),"hide"==r&&(n.from.opacity=1,n.to.opacity=0)),i.from=n.from,i.to=n.to,i.mode=r,n.effect("size",i,t.duration,t.callback),n.dequeue()})},e.effects.size=function(t){return this.queue(function(){var n=e(this),i=["position","top","bottom","left","right","width","height","overflow","opacity"],r=["position","top","bottom","left","right","overflow","opacity"],o=["width","height","overflow"],a=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.effects.setMode(n,t.options.mode||"effect"),u=t.options.restore||!1,d=t.options.scale||"both",f=t.options.origin,h={height:n.height(),width:n.width()};if(n.from=t.options.from||h,n.to=t.options.to||h,f){var p=e.effects.getBaseline(f,h);n.from.top=(h.height-n.from.height)*p.y,n.from.left=(h.width-n.from.width)*p.x,n.to.top=(h.height-n.to.height)*p.y,n.to.left=(h.width-n.to.width)*p.x}var g={from:{y:n.from.height/h.height,x:n.from.width/h.width},to:{y:n.to.height/h.height,x:n.to.width/h.width}};"box"!=d&&"both"!=d||(g.from.y!=g.to.y&&(i=i.concat(s),n.from=e.effects.setTransition(n,s,g.from.y,n.from),n.to=e.effects.setTransition(n,s,g.to.y,n.to)),g.from.x!=g.to.x&&(i=i.concat(l),n.from=e.effects.setTransition(n,l,g.from.x,n.from),n.to=e.effects.setTransition(n,l,g.to.x,n.to))),("content"==d||"both"==d)&&g.from.y!=g.to.y&&(i=i.concat(a),n.from=e.effects.setTransition(n,a,g.from.y,n.from),n.to=e.effects.setTransition(n,a,g.to.y,n.to)),e.effects.save(n,u?i:r),n.show(),e.effects.createWrapper(n),n.css("overflow","hidden").css(n.from),"content"!=d&&"both"!=d||(s=s.concat(["marginTop","marginBottom"]).concat(a),l=l.concat(["marginLeft","marginRight"]),o=i.concat(s).concat(l),n.find("*[width]").each(function(){var n=e(this);u&&e.effects.save(n,o);var i={height:n.height(),width:n.width()};n.from={height:i.height*g.from.y,width:i.width*g.from.x},n.to={height:i.height*g.to.y,width:i.width*g.to.x},g.from.y!=g.to.y&&(n.from=e.effects.setTransition(n,s,g.from.y,n.from),n.to=e.effects.setTransition(n,s,g.to.y,n.to)),g.from.x!=g.to.x&&(n.from=e.effects.setTransition(n,l,g.from.x,n.from),n.to=e.effects.setTransition(n,l,g.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.options.easing,function(){u&&e.effects.restore(n,o)})})),n.animate(n.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){0===n.to.opacity&&n.css("opacity",n.from.opacity),"hide"==c&&n.hide(),e.effects.restore(n,u?i:r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.shake.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.shake=function(t){return this.queue(function(){var n=e(this),i=["position","top","bottom","left","right"],r=(e.effects.setMode(n,t.options.mode||"effect"),t.options.direction||"left"),o=t.options.distance||20,a=t.options.times||3,s=t.duration||t.options.duration||140;e.effects.save(n,i),n.show(),e.effects.createWrapper(n);var l="up"==r||"down"==r?"top":"left",c="up"==r||"left"==r?"pos":"neg",u={},d={},f={};u[l]=("pos"==c?"-=":"+=")+o,d[l]=("pos"==c?"+=":"-=")+2*o,f[l]=("pos"==c?"-=":"+=")+2*o,n.animate(u,s,t.options.easing);for(var h=1;h<a;h++)n.animate(d,s,t.options.easing).animate(f,s,t.options.easing);n.animate(d,s,t.options.easing).animate(u,s/2,t.options.easing,function(){e.effects.restore(n,i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.slide.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.slide=function(t){return this.queue(function(){var n=e(this),i=["position","top","bottom","left","right"],r=e.effects.setMode(n,t.options.mode||"show"),o=t.options.direction||"left";e.effects.save(n,i),n.show(),e.effects.createWrapper(n).css({overflow:"hidden"});var a="up"==o||"down"==o?"top":"left",s="up"==o||"left"==o?"pos":"neg",l=t.options.distance||("top"==a?n.outerHeight({margin:!0}):n.outerWidth({margin:!0}));"show"==r&&n.css(a,"pos"==s?isNaN(l)?"-"+l:-l:l);var c={};c[a]=("show"==r?"pos"==s?"+=":"-=":"pos"==s?"-=":"+=")+l,n.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==r&&n.hide(),e.effects.restore(n,i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),/*! jQuery UI - v1.8.21 - 2012-06-05
             * https://github.com/jquery/jquery-ui
             * Includes: jquery.effects.transfer.js
             * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){e.effects.transfer=function(t){return this.queue(function(){var n=e(this),i=e(t.options.to),r=i.offset(),o={top:r.top,left:r.left,height:i.innerHeight(),width:i.innerWidth()},a=n.offset(),s=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:a.top,left:a.left,height:n.innerHeight(),width:n.innerWidth(),position:"absolute"}).animate(o,t.duration,t.options.easing,function(){s.remove(),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery)},function(e,t){/**
 * State-based routing for AngularJS
 * @version v0.4.3
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
void 0!==e&&void 0!==t&&e.exports===t&&(e.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return q(new(q(function(){},{prototype:e})),t)}function r(e){return U(arguments,function(t){t!==e&&U(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return U(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=n);i<n;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=o(n,i),c={},u=[];for(var d in l)if(l[d]&&l[d].params&&(r=a(l[d].params),r.length))for(var f in r)s(u,r[f])>=0||(u.push(r[f]),c[r[f]]=e[r[f]]);return q({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function u(e,t){var n={};return U(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in e&&(t[n]=e[n])}),t}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==s(n,i)&&(t[i]=e[i]);return t}function h(e,t){var n=W(e),i=n?[]:{};return U(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function p(e,t){var n=W(e)?[]:{};return U(e,function(e,i){n[i]=t(e,i)}),n}function g(e){return e.then(n,function(){})&&e}function m(e,t){var i=1,o=2,l={},c=[],u=l,d=q(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function h(e,n){if(b[n]!==o){if(y.push(n),b[n]===i)throw y.splice(0,s(y,n)),new Error("Cyclic dependency: "+y.join(" -> "));if(b[n]=i,z(e))v.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);U(r,function(e){e!==n&&l.hasOwnProperty(e)&&h(l[e],e)}),v.push(n,e,r)}y.pop(),b[n]=o}}function p(e){return B(e)&&e.then&&e.$$promises}if(!B(l))throw new Error("'invocables' must be an object");var m=a(l||{}),v=[],y=[],b={};return U(l,h),l=y=b=null,function(i,o,a){function s(){--w||(x||r(b,o.$$values),h.$$values=b,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,c.resolve(b))}function l(e){h.$$failure=e,c.reject(e)}if(p(i)&&a===n&&(a=o,o=i,i=null),i){if(!B(i))throw new Error("'locals' must be an object")}else i=u;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var c=e.defer(),h=g(c.promise),y=h.$$promises={},b=q({},i),w=1+v.length/3,x=!1;if(g(h),F(o.$$failure))return l(o.$$failure),h;o.$$inheritedValues&&r(b,f(o.$$inheritedValues,m)),q(y,o.$$promises),o.$$values?(x=r(b,f(o.$$values,m)),h.$$inheritedValues=f(o.$$values,m),s()):(o.$$inheritedValues&&(h.$$inheritedValues=f(o.$$inheritedValues,m)),o.then(s,l));for(var k=0,C=v.length;k<C;k+=3)i.hasOwnProperty(v[k])?s():function(n,r,o){function c(e){d.reject(e),l(e)}function u(){if(!F(h.$$failure))try{d.resolve(t.invoke(r,a,b)),d.promise.then(function(e){b[n]=e,s()},c)}catch(e){c(e)}}var d=e.defer(),f=0;U(o,function(e){y.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(f++,y[e].then(function(t){b[e]=t,--f||u()},c))}),f||u(),y[n]=g(d.promise)}(v[k],v[k+1],v[k+2]);return h}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function v(){var e=t.version.minor<3;this.shouldUnsafelyUseHttp=function(t){e=!!t},this.$get=["$http","$templateCache","$injector",function(t,n,i){return new y(t,n,i,e)}]}function y(e,t,n,i){this.fromConfig=function(e,t,n){return F(e.template)?this.fromString(e.template,t):F(e.templateUrl)?this.fromUrl(e.templateUrl,t):F(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return H(e)?e(t):e},this.fromUrl=function(r,o){return H(r)&&(r=r(o)),null==r?null:i?e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data}):n.get("$templateRequest")(r)},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function b(e,t,r){function o(t,n,i,r){if(m.push(t),p[t])return p[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new G.Param(t,n,i,r),g[t]}function a(e,t,n,i){var r=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+t+r[1]}function s(r,o){var a,s,l,c,u;return a=r[2]||r[3],u=t.params[a],l=e.substring(f,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),s&&(c=G.type(s)||i(G.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:c,cfg:u}}t=q({params:{}},B(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",f=0,h=this.segments=[],p=r?r.params:{},g=this.params=r?r.params.$$new():new G.ParamSet,m=[];this.source=e;for(var v,y,b;(l=c.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),h.push(v.segment),f=c.lastIndex;b=e.substring(f);var w=b.indexOf("?");if(w>=0){var x=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=e.substring(0,f+w),x.length>0)for(f=0;l=u.exec(x);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),f=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(b)+(!1===t.strict?"/?":"")+"$",h.push(b),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=m}function w(e){q(this,e)}function x(){function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function r(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function o(){return{strict:g,caseInsensitive:f}}function l(e){return H(e)||W(e)&&H(e[e.length-1])}function c(){for(;k.length;){var e=k.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(v[e.name],d.invoke(e.def))}}function u(e){q(this,e||{})}G=this;var d,f=!1,g=!0,m=!1,v={},y=!0,k=[],C={string:{encode:e,decode:r,is:function(e){return null==e||!F(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return e!==n&&null!==e&&this.decode(e.toString())===e},pattern:/-?\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};x.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return F(e)&&(f=e),f},this.strictMode=function(e){return F(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!F(e))return m;if(!0!==e&&!1!==e&&!z(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new b(e,q(o(),t))},this.isMatcher=function(e){if(!B(e))return!1;var t=!0;return U(b.prototype,function(n,i){H(n)&&(t=t&&F(e[i])&&H(e[i]))}),t},this.type=function(e,t,n){if(!F(t))return v[e];if(v.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return v[e]=new w(q({name:e},t)),n&&(k.push({name:e,def:n}),y||c()),this},U(C,function(e,t){v[t]=new w(q({name:t},e))}),v=i(v,{}),this.$get=["$injector",function(e){return d=e,y=!1,c(),U(C,function(e,t){v[t]||(v[t]=new w(e))}),this}],this.Param=function(e,i,r,o){function c(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(r.$$fn);if(null!==e&&e!==n&&!g.type.is(e))throw new Error("Default value ("+e+") for parameter '"+g.id+"' is not an instance of Type ("+g.type.name+")");return e}function u(e){function t(e){return function(t){return t.from===e}}return e=function(e){var n=p(h(g.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}(e),F(e)?g.type.$normalize(e):c()}function f(){return"{Param:"+e+" "+i+" squash: '"+x+"' optional: "+b+"}"}var g=this;r=function(e){var t=B(e)?a(e):[];return-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array")&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}(r),i=function(n,i,r){if(n.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i||(n.type?t.isString(n.type)?v[n.type]:n.type instanceof w?n.type:new w(n.type):"config"===r?v.any:v.string)}(r,i,o);var y=function(){var t={array:"search"===o&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return q(t,n,r).array}();i=y?i.$asArray(y,"search"===o):i,"string"!==i.name||y||"path"!==o||r.value!==n||(r.value="");var b=r.value!==n,x=function(e,t){var n=e.squash;if(!t||!1===n)return!1;if(!F(n)||null==n)return m;if(!0===n||z(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(r,b),k=function(e,t,i,r){var o,a,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=W(e.replace)?e.replace:[],z(r)&&o.push({from:r,to:n}),a=p(o,function(e){return e.from}),h(l,function(e){return-1===s(a,e.from)}).concat(o)}(r,y,b,x);q(this,{id:e,type:i,location:o,array:y,squash:x,replace:k,isOptional:b,value:u,dynamic:n,config:r,toString:f})},u.prototype={$$new:function(){return i(this,q(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=a(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),U(t,function(t){U(a(t),function(t){-1===s(e,t)&&-1===s(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return U(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return U(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var i,r,o,a,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],(o=e[l[i]])!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),t.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=u}function k(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!F(i)||i}function s(i,r,o,a,s){function f(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function h(e){function t(e){var t=e(o,i);return!!t&&(z(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){g&&i.url(),g=n;var r,a=c.length;for(r=0;r<a;r++)if(t(c[r]))return;u&&t(u)}}function p(){return l=l||r.$on("$locationChangeSuccess",h)}var g,m=a.baseHref(),v=i.url();return d||p(),{sync:function(){h()},listen:function(){return p()},update:function(e){if(e)return void(v=i.url());i.url()!==v&&(i.url(v),i.replace())},push:function(e,t,r){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),i.url(o),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&s.history;var l=n.format(r);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=f(l,a,o.absolute),!o.absolute||!l)return l;var c=!a&&l?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,c,l].join("")}}}var l,c=[],u=null,d=!1;this.rule=function(e){if(!H(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(z(e)){var t=e;e=function(){return t}}else if(!H(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=z(t);if(z(e)&&(e=i.compile(e)),!s&&!H(t)&&!W(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),q(function(n,i){return a(n,t,e.exec(i.path(),i.search()))},{prefix:z(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),q(function(n,i){return a(n,t,e.exec(i.path()))},{prefix:r(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function C(e,r){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function f(e,t){if(!e)return n;var i=z(e),r=i?e:e.name;if(o(r)){if(!t)throw new Error("No reference point given for path '"+r+"'");t=f(t);for(var a=r.split("."),s=0,l=a.length,c=t;s<l;s++)if(""!==a[s]||0!==s){if("^"!==a[s])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;a=a.slice(s).join("."),r=c.name+(c.name&&a?".":"")+a}var u=_[r];return!u||!i&&(i||u!==e&&u.self!==e)?n:u}function h(e,t){T[e]||(T[e]=[]),T[e].push(t)}function m(e){for(var t=T[e]||[];t.length;)v(t.shift())}function v(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!z(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(_.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):z(t.parent)?t.parent:B(t.parent)&&z(t.parent.name)?t.parent.name:"";if(r&&!_[r])return h(r,t.self);for(var o in E)H(E[o])&&(t[o]=E[o](t,E.$delegates[o]));return _[n]=t,!t[A]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&c(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function y(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=S.$current.name.split("."),i=0,r=t.length;i<r;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function w(e,t){return z(e)&&!F(t)?E[e]:H(t)&&z(e)?(E[e]&&!E.$delegates[e]&&(E.$delegates[e]=E[e]),E[e]=t,this):this}function x(e,t){return B(e)?t=e:t.name=e,v(t),this}function k(e,r,o,s,c,d,h,m,v){function w(t,n,i,o){var a=e.$broadcast("$stateNotFound",t,n,i);if(a.defaultPrevented)return h.update(),M;if(!a.retry)return null;if(o.$retry)return h.update(),D;var s=S.transition=r.when(a.retry);return s.then(function(){return s!==S.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,i),T):(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return M}),h.update(),s}function x(e,n,i,a,l,d){function f(){var n=[];return U(e.views,function(i,r){var a=i.resolve&&i.resolve!==e.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:l.globals,params:h,notify:d.notify})||""}],n.push(c.resolve(a,l.globals,l.resolve,e).then(function(n){if(H(i.controllerProvider)||W(i.controllerProvider)){var o=t.extend({},a,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var h=i?n:u(e.params.$$keys(),n),p={$stateParams:h};l.resolve=c.resolve(e.resolve,p,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return a&&g.push(a),r.all(g).then(f).then(function(e){return l})}var k=new Error("transition superseded"),T=g(r.reject(k)),E=g(r.reject(new Error("transition prevented"))),M=g(r.reject(new Error("transition aborted"))),D=g(r.reject(new Error("transition failed")));return $.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:$.self,$current:$,transition:null},S.reload=function(e){return S.transitionTo(S.current,d,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,q({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,o){n=n||{},o=q({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,c=S.$current,p=S.params,m=c.path,v=f(t,o.relative),y=n["#"];if(!F(v)){var b={to:t,toParams:n,options:o},_=w(b,c.self,p,o);if(_)return _;if(t=b.to,n=b.toParams,o=b.options,v=f(t,o.relative),!F(v)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(v[A])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(d,n||{},S.$current,v)),!v.params.$$validates(n))return D;n=v.params.$$values(n),t=v;var M=t.path,I=0,O=M[I],N=$.locals,P=[];if(o.reload){if(z(o.reload)||B(o.reload)){if(B(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var L=!0===o.reload?m[0]:f(o.reload);if(o.reload&&!L)throw new Error("No such reload state '"+(z(o.reload)?o.reload:o.reload.name)+"'");for(;O&&O===m[I]&&O!==L;)N=P[I]=O.locals,I++,O=M[I]}}else for(;O&&O===m[I]&&O.ownParams.$$equals(n,p);)N=P[I]=O.locals,I++,O=M[I];if(C(t,n,c,p,N,o))return y&&(n["#"]=y),S.params=n,V(S.params,d),V(u(t.params.$$keys(),d),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(h.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),h.update(!0)),S.transition=null,r.when(S.current);if(n=u(t.params.$$keys(),n||{}),y&&(n["#"]=y),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,p,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,p),null==S.transition&&h.update(),E;for(var R=r.when(N),j=I;j<M.length;j++,O=M[j])N=P[j]=i(N),R=x(O,n,O===t,R,N,o);var H=S.transition=R.then(function(){var i,r,a;if(S.transition!==H)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,p),T;for(i=m.length-1;i>=I;i--)a=m[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=I;i<M.length;i++)r=M[i],r.locals=P[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return S.transition!==H?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,p),T):(S.$current=t,S.current=t.self,S.params=n,V(S.params,d),S.transition=null,o.location&&t.navigable&&h.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,p),h.update(!0),S.current)}).then(null,function(i){return i===k?T:S.transition!==H?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,p),T):(S.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,c.self,p,i),a.defaultPrevented||h.update(),r.reject(i))});return g(H),H},S.is=function(e,t,i){i=q({relative:S.$current},i||{});var r=f(e,i.relative);return F(r)?S.$current===r&&(!t||a(t).reduce(function(e,n){var i=r.params[n];return e&&(!i||i.type.equals(d[n],t[n]))},!0)):n},S.includes=function(e,t,i){if(i=q({relative:S.$current},i||{}),z(e)&&y(e)){if(!b(e))return!1;e=S.$current.name}var r=f(e,i.relative);if(!F(r))return n;if(!F(S.$current.includes[r.name]))return!1;if(!t)return!0;for(var o=a(t),s=0;s<o.length;s++){var l=o[s],c=r.params[l];if(c&&!c.type.equals(d[l],t[l]))return!1}return a(t).reduce(function(e,n){var i=r.params[n];return e&&!i||i.type.equals(d[n],t[n])},!0)},S.href=function(e,t,i){i=q({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var r=f(e,i.relative);if(!F(r))return null;i.inherit&&(t=l(d,t||{},S.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?h.href(o.url,u(r.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},S.get=function(e,t){if(0===arguments.length)return p(a(_),function(e){return _[e].self});var n=f(e,t||S.$current);return n&&n.self?n.self:null},S}function C(e,t,n,i,r,o){if(!o.reload&&e===n&&(r===n.locals||!1===e.self.reloadOnSearch&&function(e,t,n){function i(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(i),o=d.apply({},[e.params].concat(r));return new G.ParamSet(o).$$equals(t,n)}(n,i,t)))return!0}var $,S,_={},T={},A="abstract",E={parent:function(e){if(F(e.parent)&&e.parent)return f(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?f(t[1]):$},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=i(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(z(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||$).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new G.ParamSet;return U(e.params||{},function(e,n){t[n]||(t[n]=new G.Param(n,null,e,"config"))}),t},params:function(e){var t=d(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?q(e.parent.params.$$new(),t):new G.ParamSet},views:function(e){var t={};return U(F(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?q({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};$=v({name:"",url:"^",views:null,abstract:!0}),$.navigable=null,this.decorator=w,this.state=x,this.$get=k,k.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $(){function e(e,t){return{load:function(e,n){var i;return n=q({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function S(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function _(e,n,i,r,o){function a(e,n){if(c)return{enter:function(e,n,i){t.version.minor>2?c.enter(e,null,n).then(i):c.enter(e,null,n,i)},leave:function(e,n){t.version.minor>2?c.leave(e).then(n):c.leave(e,n)}};if(l){var i=l&&l(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}}()}var s=function(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}(),l=s("$animator"),c=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,l){return function(n,s,c){function u(){if(f&&(f.remove(),f=null),p&&(p.$destroy(),p=null),h){var e=h.data("$uiViewAnim");y.leave(h,function(){e.$$animLeave.resolve(),f=null}),f=h,h=null}}function d(a){var d,f=A(n,c,s,r),b=f&&e.$current&&e.$current.locals[f];if(a||b!==g){d=n.$new(),g=e.$current.locals[f],d.$emit("$viewContentLoading",f);var w=l(d,function(e){var r=o.defer(),a=o.defer(),l={$animEnter:r.promise,$animLeave:a.promise,$$animLeave:a};e.data("$uiViewAnim",l),y.enter(e,s,function(){r.resolve(),p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&i(e)}),u()});h=w,p=d,p.$emit("$viewContentLoaded",f),p.$eval(m)}}var f,h,p,g,m=c.onload||"",v=c.autoscroll,y=a(c,n);s.inheritedData("$uiView"),n.$on("$stateChangeSuccess",function(){d(!1)}),d(!0)}}}}function T(e,n,i,r){return{restrict:"ECA",priority:-400,compile:function(o){var a=o.html();return o.empty?o.empty():o[0].innerHTML=null,function(o,s,l){var c=i.$current,u=A(o,l,s,r),d=c&&c.locals[u];if(!d)return s.html(a),void e(s.contents())(o);s.data("$uiView",{name:u,state:d.$$state}),s.html(d.$template?d.$template:a);var f=t.extend({},d);o[d.$$resolveAs]=f;var h=e(s.contents());if(d.$$controller){d.$scope=o,d.$element=s;var p=n(d.$$controller,d);d.$$controllerAs&&(o[d.$$controllerAs]=p,o[d.$$controllerAs][d.$$resolveAs]=f),H(p.$onInit)&&p.$onInit(),s.data("$ngControllerController",p),s.children().data("$ngControllerController",p)}h(o)}}}}function A(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function E(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),!(n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function M(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function D(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function I(e,t,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var c=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function O(e,t){return{relative:M(e)||t.$current,inherit:!0}}function N(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s,l=E(o.uiSref,e.current.name),c={state:l.state,href:null,params:null},u=D(r),d=a[1]||a[0],f=null;c.options=q(O(r,e),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var h=function(n){n&&(c.params=t.copy(n)),c.href=e.href(l.state,c.params,c.options),f&&f(),d&&(f=d.$$addStateInfo(l.state,c.params)),null!==c.href&&o.$set(u.attr,c.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==c.params&&h(e)},!0),c.params=t.copy(i.$eval(l.paramExpr))),h(),u.clickable&&(s=I(r,e,n,u,function(){return c}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function P(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function a(t){f.state=t[0],f.params=t[1],f.options=t[2],f.href=e.href(f.state,f.params,f.options),h&&h(),c&&(h=c.$$addStateInfo(f.state,f.params)),f.href&&r.$set(l.attr,f.href)}var s,l=D(i),c=o[1]||o[0],u=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],d="["+u.map(function(e){return e||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null},h=null;n.$watch(d,a,!0),a(n.$eval(d)),l.clickable&&(s=I(i,e,t,l,function(){return f}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function L(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,r,o){function a(t,n,r){var o=e.get(t,M(i)),a=s(t,n),l={state:o||{name:t},params:n,hash:a};return g.push(l),m[a]=r,function(){var e=g.indexOf(l);-1!==e&&g.splice(e,1)}}function s(e,n){if(!z(e))throw new Error("state should be a string");return B(n)?e+K(n):(n=t.$eval(n),B(n)?e+K(n):e)}function l(){for(var e=0;e<g.length;e++)d(g[e].state,g[e].params)?c(i,m[g[e].hash]):u(i,m[g[e].hash]),f(g[e].state,g[e].params)?c(i,h):u(i,h)}function c(e,t){o(function(){e.addClass(t)})}function u(e,t){e.removeClass(t)}function d(t,n){return e.includes(t.name,n)}function f(t,n){return e.is(t.name,n)}var h,p,g=[],m={};h=n(r.uiSrefActiveEq||"",!1)(t);try{p=t.$eval(r.uiSrefActive)}catch(e){}p=p||n(r.uiSrefActive||"",!1)(t),B(p)&&U(p,function(n,i){if(z(n)){var r=E(n,e.current.name);a(r.state,t.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(e,t){if(!(B(p)&&g.length>0)){var n=a(e,t,p);return l(),n}},t.$on("$stateChangeSuccess",l),l()}]}}function R(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function j(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}var F=t.isDefined,H=t.isFunction,z=t.isString,B=t.isObject,W=t.isArray,U=t.forEach,q=t.extend,V=t.copy,K=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),t.module("ui.router.util").provider("$templateFactory",v);var G;b.prototype.concat=function(e,t){var n={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new b(this.sourcePath+e+this.sourceSearch,q(n,t),this)},b.prototype.toString=function(){return this.source},b.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var i,r,o,a=this.parameters(),s=a.length,l=this.segments.length-1,c={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var u,d;for(i=0;i<l;i++){for(o=a[i],u=this.params[o],d=n[i+1],r=0;r<u.replace.length;r++)u.replace[r].from===d&&(d=u.replace[r].to);d&&!0===u.array&&(d=function(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}return p(p(t(e).split(/-(?!\\)/),t),n).reverse()}(d)),F(d)&&(d=u.type.decode(d)),c[o]=u.value(d)}for(;i<s;i++){for(o=a[i],c[o]=this.params[o].value(t[o]),u=this.params[o],d=t[o],r=0;r<u.replace.length;r++)u.replace[r].from===d&&(d=u.replace[r].to);F(d)&&(d=u.type.decode(d)),c[o]=u.value(d)}return c},b.prototype.parameters=function(e){return F(e)?this.params[e]||null:this.$$paramNames},b.prototype.validates=function(e){return this.params.$$validates(e)},b.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=i.length,c=n[0];for(o=0;o<l;o++){var u=o<s,d=i[o],f=r[d],h=f.value(e[d]),g=f.isOptional&&f.type.equals(f.value(),h),m=!!g&&f.squash,v=f.type.encode(h);if(u){var y=n[o+1],b=o+1===s;if(!1===m)null!=v&&(W(v)?c+=p(v,t).join("-"):c+=encodeURIComponent(v)),c+=y;else if(!0===m){var w=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=y.match(w)[1]}else z(m)&&(c+=m+y);b&&!0===f.squash&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==v||g&&!1!==m)continue;if(W(v)||(v=[v]),0===v.length)continue;v=p(v,encodeURIComponent).join("&"+d+"="),c+=(a?"&":"?")+d+"="+v,a=!0}}return c},w.prototype.is=function(e,t){return!0},w.prototype.encode=function(e,t){return e},w.prototype.decode=function(e,t){return e},w.prototype.equals=function(e,t){return e==t},w.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},w.prototype.pattern=/.*/,w.prototype.toString=function(){return"{Type:"+this.name+"}"},w.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},w.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return W(e)?e:F(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){if(W(n)&&0===n.length)return n;n=r(n);var i=p(n,e);return!0===t?0===h(i,a).length:o(i)}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=function(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}(i(e,"equals")),this.pattern=e.pattern,this.$normalize=s(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",x),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),k.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",k),C.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",C).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),$.$inject=[],t.module("ui.router.state").provider("$view",$),t.module("ui.router.state").provider("$uiViewScroll",S),_.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],T.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",_),t.module("ui.router.state").directive("uiView",T),N.$inject=["$state","$timeout"],P.$inject=["$state","$timeout"],L.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",N).directive("uiSrefActive",L).directive("uiSrefActiveEq",L).directive("uiState",P),R.$inject=["$state"],j.$inject=["$state"],t.module("ui.router.state").filter("isState",R).filter("includedByState",j)}(window,window.angular)},function(e,t,n){n(358),e.exports="ngRoute"},function(e,t){/**
 * @license AngularJS v1.2.32
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t,n){"use strict";function i(){function e(e,n){return t.extend(new(t.extend(function(){},{prototype:e})),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,i){var o="?"===i?i:null,a="*"===i?i:null;return r.push({name:n,optional:!!o}),t=t||"",(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,r){if(i[e]=t.extend({reloadOnSearch:!0},r,e&&n(e,r)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[o]=t.extend({redirectTo:e},n(o,r))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(n,r,o,a,s,l,c,u){function d(e,t){var n=t.keys,i={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,a=r.length;o<a;++o){var s=n[o-1],l=r[o];s&&l&&(i[s.name]=l)}return i}function f(){var e=h(),i=m.current;e&&i&&e.$$route===i.$$route&&t.equals(e.pathParams,i.pathParams)&&!e.reloadOnSearch&&!g?(i.params=e.params,t.copy(i.params,o),n.$broadcast("$routeUpdate",i)):(e||i)&&(g=!1,n.$broadcast("$routeChangeStart",e,i),m.current=e,e&&e.redirectTo&&(t.isString(e.redirectTo)?r.path(p(e.redirectTo,e.params)).search(e.params).replace():r.url(e.redirectTo(e.pathParams,r.path(),r.search())).replace()),a.when(e).then(function(){if(e){var n,i,r=t.extend({},e.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?s.get(e):s.invoke(e)}),t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(i=e.templateUrl)&&(t.isFunction(i)&&(i=i(e.params)),i=u.getTrustedResourceUrl(i),t.isDefined(i)&&(e.loadedTemplateUrl=i,n=l.get(i,{cache:c}).then(function(e){return e.data}))),t.isDefined(n)&&(r.$template=n),a.all(r)}}).then(function(r){e==m.current&&(e&&(e.locals=r,t.copy(e.params,o)),n.$broadcast("$routeChangeSuccess",e,i))},function(t){e==m.current&&n.$broadcast("$routeChangeError",e,i,t)}))}function h(){var n,o;return t.forEach(i,function(i,a){!o&&(n=d(r.path(),i))&&(o=e(i,{params:t.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&e(i[null],{params:{},pathParams:{}})}function p(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}var g=!1,m={routes:i,reload:function(){g=!0,n.$evalAsync(f)}};return n.$on("$locationChangeSuccess",f),m}]}function r(){this.$get=function(){return{}}}function o(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,a,s,l){function c(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),f&&(i.leave(f,function(){h=null}),h=f,f=null)}function u(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var u=r.$new(),h=e.current,m=l(u,function(e){i.enter(e,null,f||o,function(){!t.isDefined(p)||p&&!r.$eval(p)||n()}),c()});f=m,d=h.scope=u,d.$emit("$viewContentLoaded"),d.$eval(g)}else c()}var d,f,h,p=a.autoscroll,g=a.onload||"";r.$on("$routeChangeSuccess",u),u()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,a=o.locals;r.html(a.$template);var s=e(r.contents());if(o.controller){a.$scope=i;var l=t(o.controller,a);o.controllerAs&&(i[o.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}s(i)}}}var s=t.module("ngRoute",["ng"]).provider("$route",i);s.provider("$routeParams",r),s.directive("ngView",o),s.directive("ngView",a),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular)},function(e,t,n){n(360),e.exports="ngCookies"},function(e,t){/**
 * @license AngularJS v1.2.32
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,i){function r(){var e,r,o,l;for(e in s)u(a[e])&&i.cookies(e,n);for(e in a)r=a[e],t.isString(r)||(r=""+r,a[e]=r),r!==s[e]&&(i.cookies(e,r),l=!0);if(l){l=!1,o=i.cookies();for(e in a)a[e]!==o[e]&&(u(o[e])?delete a[e]:a[e]=o[e],l=!0)}}var o,a={},s={},l=!1,c=t.copy,u=t.isUndefined;return i.addPollFn(function(){var t=i.cookies();o!=t&&(o=t,c(t,s),c(t,a),l&&e.$apply())})(),l=!0,e.$watch(r),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var i=e[n];return i?t.fromJson(i):i},put:function(n,i){e[n]=t.toJson(i)},remove:function(t){delete e[t]}}}])}(window,window.angular)},function(e,t,n){n(362),e.exports="ngSanitize"},function(e,t){/**
 * @license AngularJS v1.2.32
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t,n){"use strict";function i(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[];return c(n,t.noop).chars(e),n.join("")}function o(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function a(e,n){function i(e,i,o,a){if(i=t.lowercase(i),S[i])for(;b.last()&&_[b.last()];)r("",b.last());$[i]&&b.last()==i&&r("",i),(a=x[i]||!!a)||b.push(i);var l={};o.replace(h,function(e,t,n,i,r){var o=n||i||r||"";l[t]=s(o)}),n.start&&n.start(i,l,a)}function r(e,i){var r,o=0;if(i=t.lowercase(i))for(o=b.length-1;o>=0&&b[o]!=i;o--);if(o>=0){for(r=b.length-1;r>=o;r--)n.end&&n.end(b[r]);b.length=o}}"string"!=typeof e&&(e=null===e||void 0===e?"":""+e);var o,a,l,c,b=[],w=e;for(b.last=function(){return b[b.length-1]};e;){if(c="",a=!0,b.last()&&T[b.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(t)),""}),r("",b.last())):(0===e.indexOf("\x3c!--")?(o=e.indexOf("--",4))>=0&&e.lastIndexOf("--\x3e",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1):v.test(e)?(l=e.match(v))&&(e=e.replace(l[0],""),a=!1):g.test(e)?(l=e.match(f))&&(e=e.substring(l[0].length),l[0].replace(f,r),a=!1):p.test(e)&&(l=e.match(d),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(d,i)),a=!1):(c+="<",e=e.substring(1))),a&&(o=e.indexOf("<"),c+=o<0?e:e.substring(0,o),e=o<0?"":e.substring(o),n.chars&&n.chars(s(c)))),e==w)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}r()}function s(e){if(!e)return"";var t=I.exec(e),n=t[1],i=t[3],r=t[2];return r&&(D.innerHTML=r.replace(/</g,"&lt;"),r="textContent"in D?D.textContent:D.innerText),n+r+i}function l(e){return e.replace(/&/g,"&amp;").replace(b,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!i&&T[e]&&(i=e),i||!0!==A[e]||(r("<"),r(e),t.forEach(o,function(i,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;!0!==M[a]||!0===E[a]&&!n(i,s)||(r(" "),r(o),r('="'),r(l(i)),r('"'))}),r(a?"/>":">"))},end:function(e){e=t.lowercase(e),i||!0!==A[e]||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(l(e))}}}var u=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,x=o("area,br,col,hr,img,wbr"),k=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=o("rp,rt"),$=t.extend({},C,k),S=t.extend({},k,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),_=t.extend({},C,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=o("script,style"),A=t.extend({},x,S,_,$),E=o("background,cite,href,longdesc,src"),M=t.extend({},E,o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),D=document.createElement("pre"),I=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",i),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,i=/^mailto:/;return function(o,a){function s(e){e&&f.push(r(e))}if(!o)return o;for(var l,c,u,d=o,f=[];l=d.match(n);)c=l[0],l[2]==l[3]&&(c="mailto:"+c),u=l.index,s(d.substr(0,u)),function(e,n){f.push("<a "),t.isDefined(a)&&(f.push('target="'),f.push(a),f.push('" ')),f.push('href="',e.replace('"',"&quot;"),'">'),s(n),f.push("</a>")}(c,l[0].replace(i,"")),d=d.substring(u+l[0].length);return s(d),e(f.join(""))}}])}(window,window.angular)},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/**
 * AngularUI - The companion suite for AngularJS
 * @version v0.3.2 - 2012-12-04
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){var t;return t={},null!=e.sortable&&angular.extend(t,e.sortable),{require:"?ngModel",link:function(e,n,i,r){var o,a,s,l,c;return s=angular.extend({},t,e.$eval(i.uiOptions)),null!=r&&(o=function(e,t){return t.item.data("ui-sortable-start",t.item.index())},a=function(t,n){var i,o;return o=n.item.data("ui-sortable-start"),i=n.item.index(),r.$modelValue.splice(i,0,r.$modelValue.splice(o,1)[0]),e.$apply()},l=s.start,s.start=function(t,n){return o(t,n),"function"==typeof l&&l(t,n),e.$apply()},c=s.update,s.update=function(t,n){return a(t,n),"function"==typeof c&&c(t,n),e.$apply()}),n.sortable(s)}}}]),angular.module("ui.directives").directive("uiJq",["ui.config",function(e){return{restrict:"A",compile:function(t,n){if(!angular.isFunction(t[n.uiJq]))throw new Error('ui-jq: The "'+n.uiJq+'" function does not exist');var i=e.jq&&e.jq[n.uiJq];return function(e,t,n){var r=[],o="change";n.uiOptions?(r=e.$eval("["+n.uiOptions+"]"),angular.isObject(i)&&angular.isObject(r[0])&&(r[0]=angular.extend(i,r[0]))):i&&(r=[i]),n.ngModel&&t.is("select,input,textarea")&&(r&&angular.isObject(r[0])&&void 0!==r[0].ngChange&&(o=r[0].ngChange),o&&t.on(o,function(){t.trigger("input")})),t[n.uiJq].apply(t,r)}}}}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(t,n,i){var r=t.$eval(i.uiEvent);angular.forEach(r,function(i,r){var o=e(i);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),t.$apply(function(){o(t,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,t,n,i){i.$render=function(){var r=i.$viewValue||"";t.val(r),t.mask(e.$eval(n.uiMask))},i.$parsers.push(function(e){var n=t.isMaskValid()||angular.isUndefined(t.isMaskValid())&&t.val().length>0;return i.$setValidity("mask",n),n?e:void 0}),t.bind("keyup",function(){e.$apply(function(){i.$setViewValue(t.mask())})})}}}]),angular.module("ui.directives").directive("uiModal",["$timeout",function(e){return{restrict:"EAC",require:"ngModel",link:function(t,n,i,r){n.addClass("modal hide"),n.on("shown",function(){n.find("[autofocus]").focus()}),t.$watch(i.ngModel,function(e){n.modal(e&&"show"||"hide")}),n.on(jQuery.support.transition&&"shown"||"show",function(){e(function(){r.$setViewValue(!0)})}),n.on(jQuery.support.transition&&"hidden"||"hide",function(){e(function(){r.$setViewValue(!1)})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var t=null;return void 0!==e.reset&&(t=e.reset),{require:"ngModel",link:function(e,n,i,r){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.uiReset?r.$setViewValue(e.$eval(i.uiReset)):r.$setViewValue(t),r.$render()})})}}}]),function(){function e(e,t,n,i){angular.forEach(t.split(" "),function(t){var r={type:"map-"+t};google.maps.event.addListener(n,t,function(t){i.trigger(angular.extend({},r,t)),e.$$phase||e.$apply()})})}function t(t,i){n.directive(t,[function(){return{restrict:"A",link:function(n,r,o){n.$watch(o[t],function(t){e(n,i,t,r)})}}}])}var n=angular.module("ui.directives");n.directive("uiMap",["ui.config","$parse",function(t,n){var i=t.map||{};return{restrict:"A",link:function(t,r,o){var a=angular.extend({},i,t.$eval(o.uiOptions)),s=new google.maps.Map(r[0],a);n(o.uiMap).assign(t,s),e(t,"bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",s,r)}}}]),n.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(t,n,i){var r=t.mapInfoWindow||{};return{link:function(t,o,a){var s=angular.extend({},r,t.$eval(a.uiOptions));s.content=o[0];var l=n(a.uiMapInfoWindow),c=l(t);c||(c=new google.maps.InfoWindow(s),l.assign(t,c)),e(t,"closeclick content_change domready position_changed zindex_changed",c,o),o.replaceWith("<div></div>");var u=c.open;c.open=function(e,n,r,a,s,l){i(o.contents())(t),u.call(c,e,n,r,a,s,l)}}}}]),t("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),t("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),t("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(i,r,o,a){var s,l=[];s=r.$eval(a["ui"+n(i)]),angular.forEach(s,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),l.push(i)})}),o.bind(i,function(e){var n=e.metaKey||e.altKey,o=e.ctrlKey,a=e.shiftKey,s=e.keyCode;"keypress"===i&&!a&&s>=97&&s<=122&&(s-=32),angular.forEach(l,function(i){var s=i.keys[t[e.keyCode]]||i.keys[e.keyCode.toString()]||!1,l=i.keys.alt||!1,c=i.keys.ctrl||!1,u=i.keys.shift||!1;s&&l==n&&c==o&&u==a&&r.$apply(function(){i.expression(r,{$event:e})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,i){e("keyup",t,n,i)}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r,o=n.uiValidate;(o=e.$eval(o))&&(angular.isFunction(o)&&(o={validator:o}),angular.forEach(o,function(e,t){r=function(n){return e(n)?(i.$setValidity(t,!0),n):void i.$setValidity(t,!1)},i.$formatters.push(r),i.$parsers.push(r)}))}}}),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,t){var n={};return angular.isString(e.animate)?n.class=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,i,r){var o={};r.uiAnimate&&(o=e.$eval(r.uiAnimate),angular.isString(o)&&(o={class:o})),o=angular.extend({class:"ui-animate"},n,o),i.addClass(o.class),t(function(){i.removeClass(o.class)},20,!1)}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$http",function(e,t){var n={};return e.select2&&angular.extend(n,e.select2),{require:"?ngModel",compile:function(e,t){var i,r,o,a=e.is("select"),s=void 0!==t.multiple;return e.is("select")&&(r=e.find("option[ng-repeat], option[data-ng-repeat]"),r.length&&(o=r.attr("ng-repeat")||r.attr("data-ng-repeat"),i=jQuery.trim(o.split("|")[0]).split(" ").pop())),function(e,t,r,o){var l=angular.extend({},n,e.$eval(r.uiSelect2));if(a?(delete l.multiple,delete l.initSelection):s&&(l.multiple=!0),o&&(o.$render=function(){a?t.select2("val",o.$modelValue):s&&!o.$modelValue?t.select2("data",[]):t.select2("data",o.$modelValue)},i&&e.$watch(i,function(e,n,i){e&&setTimeout(function(){t.select2("val",o.$viewValue),t.trigger("change")})}),!a&&(t.bind("change",function(){e.$apply(function(){o.$setViewValue(t.select2("data"))})}),l.initSelection))){var c=l.initSelection;l.initSelection=function(e,t){c(e,function(e){o.$setViewValue(e),t(e)})}}r.$observe("disabled",function(e){t.select2(e&&"disable"||"enable")}),e.$watch(r.ngMultiple,function(e){t.select2(l)}),t.val(e.$eval(r.ngModel)),setTimeout(function(){t.select2(l)})}}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$parse",function(e,t){return e.codemirror=e.codemirror||{},{require:"ngModel",link:function(n,i,r,o){if(!i.is("textarea"))throw new Error("ui-codemirror can only be applied to a textarea element");var a,s=t(r.uiCodemirror),l=function(e){var t=e.getValue();t!==o.$viewValue&&(o.$setViewValue(t),n.$apply())},c=function(t){t=angular.extend({},t,e.codemirror);var n=t.onChange;t.onChange=n?function(e){l(e),n(e)}:l,a&&a.toTextArea(),a=CodeMirror.fromTextArea(i[0],t)};c(s()),n.$watch(s,c,!0),o.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),o.$render=function(){a.setValue(o.$viewValue)}}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(t,n,i,r){var o,a={onchange_callback:function(e){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply())},handle_event_callback:function(e){return this.isDirty()&&(this.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply()),!0},setup:function(e){e.onSetContent.add(function(e,i){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply())})}};o=i.uiTinymce?t.$eval(i.uiTinymce):{},angular.extend(a,e.tinymce,o),setTimeout(function(){n.tinymce(a)})}}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,i){t[0].doNotMove=!0;var r,o,a=i.uiIf;e.$watch(a,function(i){r&&(r.remove(),r=null),o&&(o.$destroy(),o=null),i&&(o=e.$new(),n(o,function(e){r=e,t.after(e)})),t.parent().trigger("$childrenChanged")})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){return{link:function(t,n,i){var r=n.offset().top;i.uiScrollfix?"-"===i.uiScrollfix.charAt(0)?i.uiScrollfix=r-i.uiScrollfix.substr(1):"+"===i.uiScrollfix.charAt(0)&&(i.uiScrollfix=r+parseFloat(i.uiScrollfix.substr(1))):i.uiScrollfix=r,angular.element(e).on("scroll.ui-scrollfix",function(){var t;t=angular.isDefined(e.pageYOffset)?e.pageYOffset:(document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body).scrollTop,!n.hasClass("ui-scrollfix")&&t>i.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<i.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(e,t){return e.uiCalendar=e.uiCalendar||{},{require:"ngModel",restrict:"A",scope:{events:"=ngModel"},link:function(n,i,r){function o(){var t,o={header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},eventMouseover:function(e,t,n){"agendaDay"!==n.name&&$(t.target).attr("title",e.title)},events:n.events};t=r.uiCalendar?n.$eval(r.uiCalendar):{},angular.extend(o,e.uiCalendar,t),i.html("").fullCalendar(o)}t(r.ngModel),o(),n.$watch("events.length",function(e,t){o()},!0)}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e,n){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e,n){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e,n){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,t){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(n,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,i,r,o){var a,s,l;a=angular.extend({},n,e.$eval(r.uiCurrency)),s=function(e){var n;return n=1*e,n>0?i.addClass(a.pos):i.removeClass(a.pos),n<0?i.addClass(a.neg):i.removeClass(a.neg),0===n?i.addClass(a.zero):i.removeClass(a.zero),""===e?i.text(""):i.text(t(n,a.symbol)),!0},o.$render=function(){l=o.$viewValue,i.val(l),s(l)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){var t;return t={},angular.isObject(e.date)&&angular.extend(t,e.date),{require:"?ngModel",link:function(t,n,r,o){var a=function(){return angular.extend({},e.date,t.$eval(r.uiDate))},s=function(){var e=a();if(o){var r=function(){t.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),o.$setViewValue(e)})};if(e.onSelect){var s=e.onSelect;e.onSelect=function(e,t){return r(),s(e,t)}}else e.onSelect=r;n.bind("change",r),o.$render=function(){var e=o.$viewValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+(void 0===e?"undefined":i(e))+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),o.$render()};t.$watch(a,s,!0)}}}]).directive("uiDateFormat",[function(){return{require:"ngModel",link:function(e,t,n,i){if(""===n.uiDateFormat)i.$formatters.push(function(e){if(angular.isString(e))return new Date(e)}),i.$parsers.push(function(e){if(e)return e.toISOString()});else{var r=n.uiDateFormat;i.$formatters.push(function(e){if(angular.isString(e))return $.datepicker.parseDate(r,e)}),i.$parsers.push(function(e){if(e)return $.datepicker.formatDate(r,e)})}}}}]),angular.module("ui.filters").filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("format",function(){return function(e,t){if(!e)return e;var n,i=e.toString();return void 0===t?i:angular.isArray(t)||angular.isObject(t)?(n=angular.isArray(t)&&"$"||":",angular.forEach(t,function(e,t){i=i.split(n+t).join(e)}),i):i.split("$0").join(t)}}),angular.module("ui.filters").filter("unique",function(){return function(e,t){if(!1===t)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n=[],i=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){for(var t=!1,r=0;r<n.length;r++)if(angular.equals(i(n[r]),i(e))){t=!0;break}t||n.push(e)}),e=n}return e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t,i){return!1!==t&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}})},function(e,t,n){"use strict";/**
 * angular-ui-utils - Swiss-Army-Knife of AngularJS tools (with no external dependencies!)
 * @version v0.1.1 - 2014-02-05
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){t=t||{},angular.forEach(t,function(t,n){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(n,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){return function(t,n,i){var r=t.$eval(i.uiEvent);angular.forEach(r,function(i,r){var o=e(i);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),o(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){return function(e,t){var n=e;if(angular.isString(n)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var i=t.length,r=function(e,n){return n=parseInt(n,10),n>=0&&n<i?t[n]:e};n=n.replace(/\$([0-9]+)/g,r)}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,i){return{restrict:"ECA",terminal:!0,compile:function(r,o){var a=o.uiInclude||o.src,s=o.fragment||"",l=o.onload||"",c=o.autoscroll;return function(r,o){function u(){var u=++f,p=r.$eval(a),g=r.$eval(s);p?e.get(p,{cache:t}).success(function(e){if(u===f){d&&d.$destroy(),d=r.$new();var t;t=g?angular.element("<div/>").html(e).find(g):angular.element("<div/>").html(e).contents(),o.html(t),i(t)(d),!angular.isDefined(c)||c&&!r.$eval(c)||n(),d.$emit("$includeContentLoaded"),r.$eval(l)}}).error(function(){u===f&&h()}):h()}var d,f=0,h=function(){d&&(d.$destroy(),d=null),o.html("")};r.$watch(s,u),r.$watch(a,u)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t){return!1!==t&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){return{restrict:"A",compile:function(n,i){if(!angular.isFunction(n[i.uiJq]))throw new Error('ui-jq: The "'+i.uiJq+'" function does not exist');var r=e&&e[i.uiJq];return function(e,n,i){function o(){t(function(){n[i.uiJq].apply(n,a)},0,!1)}var a=[];i.uiOptions?(a=e.$eval("["+i.uiOptions+"]"),angular.isObject(r)&&angular.isObject(a[0])&&(a[0]=angular.extend({},r,a[0]))):r&&(a=[r]),i.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),i.uiRefresh&&e.$watch(i.uiRefresh,function(){o()}),o()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(i,r,o,a){var s,l=[];s=r.$eval(a["ui"+n(i)]),angular.forEach(s,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),l.push(i)})}),o.bind(i,function(e){var n=!(!e.metaKey||e.ctrlKey),o=!!e.altKey,a=!!e.ctrlKey,s=!!e.shiftKey,c=e.keyCode;"keypress"===i&&!s&&c>=97&&c<=122&&(c-=32),angular.forEach(l,function(i){var l=i.keys[t[c]]||i.keys[c.toString()],u=!!i.keys.meta,d=!!i.keys.alt,f=!!i.keys.ctrl,h=!!i.keys.shift;l&&u===n&&d===o&&f===a&&h===s&&r.$apply(function(){i.expression(r,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,i){e("keyup",t,n,i)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}}).directive("uiMask",["uiMaskConfig",function(e){return{priority:100,require:"ngModel",restrict:"A",compile:function(){var t=e;return function(e,n,i,r){function o(e){return angular.isDefined(e)?(y(e),F?(u(),d(),!0):c()):c()}function a(e){angular.isDefined(e)&&(E=e,F&&k())}function s(e){return F?(I=p(e||""),N=h(I),r.$setValidity("mask",N),N&&I.length?g(I):void 0):e}function l(e){return F?(I=p(e||""),N=h(I),r.$viewValue=I.length?g(I):"",r.$setValidity("mask",N),""===I&&void 0!==r.$error.required&&r.$setValidity("required",!1),N?I:void 0):e}function c(){return F=!1,f(),angular.isDefined(z)?n.attr("placeholder",z):n.removeAttr("placeholder"),angular.isDefined(B)?n.attr("maxlength",B):n.removeAttr("maxlength"),n.val(r.$modelValue),r.$viewValue=r.$modelValue,!1}function u(){I=L=p(r.$modelValue||""),O=P=g(I),N=h(I);var e=N&&I.length?O:"";i.maxlength&&n.attr("maxlength",2*T[T.length-1]),n.attr("placeholder",E),n.val(e),r.$viewValue=e}function d(){H||(n.bind("blur",b),n.bind("mousedown mouseup",w),n.bind("input keyup click focus",k),H=!0)}function f(){H&&(n.unbind("blur",b),n.unbind("mousedown",w),n.unbind("mouseup",w),n.unbind("input",k),n.unbind("keyup",k),n.unbind("click",k),n.unbind("focus",k),H=!1)}function h(e){return!e.length||e.length>=D}function p(e){var t="",n=A.slice();return e=e.toString(),angular.forEach(M,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function g(e){var t="",n=T.slice();return angular.forEach(E.split(""),function(i,r){e.length&&r===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=i}),t}function m(e){var t=i.placeholder;return void 0!==t&&t[e]?t[e]:"_"}function v(){return E.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function y(e){var t=0;if(T=[],A=[],E="","string"==typeof e){D=0;var n=!1,i=e.split("");angular.forEach(i,function(e,i){W.maskDefinitions[e]?(T.push(t),E+=m(i),A.push(W.maskDefinitions[e]),t++,n||D++):"?"===e?n=!0:(E+=e,t++)})}T.push(T.slice().pop()+1),M=v(),F=T.length>1}function b(){R=0,j=0,N&&0!==I.length||(O="",n.val(""),e.$apply(function(){r.$setViewValue("")}))}function w(e){"mousedown"===e.type?n.bind("mouseout",x):n.unbind("mouseout",x)}function x(){j=_(this),n.unbind("mouseout",x)}function k(t){t=t||{};var i=t.which,o=t.type;if(16!==i&&91!==i){var a,s=n.val(),l=P,c=p(s),u=L,d=!1,f=$(this)||0,h=R||0,m=f-h,v=T[0],y=T[c.length]||T.slice().shift(),b=j||0,w=_(this)>0,x=b>0,k=s.length>l.length||b&&s.length>l.length-b,A=s.length<l.length||b&&s.length===l.length-b,E=i>=37&&i<=40&&t.shiftKey,M=37===i,D=8===i||"keyup"!==o&&A&&-1===m,I=46===i||"keyup"!==o&&A&&0===m&&!x,O=(M||D||"click"===o)&&f>v;if(j=_(this),!E&&(!w||"click"!==o&&"keyup"!==o)){if("input"===o&&A&&!x&&c===u){for(;D&&f>v&&!C(f);)f--;for(;I&&f<y&&-1===T.indexOf(f);)f++;var N=T.indexOf(f);c=c.substring(0,N)+c.substring(N+1),d=!0}for(a=g(c),P=a,L=c,n.val(a),d&&e.$apply(function(){r.$setViewValue(c)}),k&&f<=v&&(f=v+1),O&&f--,f=f>y?y:f<v?v:f;!C(f)&&f>v&&f<y;)f+=O?-1:1;(O&&f<y||k&&!C(h))&&f++,R=f,S(this,f)}}}function C(e){return T.indexOf(e)>-1}function $(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",-e.value.length),t.text.length}return 0}function S(e,t){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function _(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var T,A,E,M,D,I,O,N,P,L,R,j,F=!1,H=!1,z=i.placeholder,B=i.maxlength,W={};i.uiOptions?(W=e.$eval("["+i.uiOptions+"]"),angular.isObject(W[0])&&(W=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]?angular.extend(t[n],e[n]):t[n]=angular.copy(e[n]));return t}(t,W[0]))):W=t,i.$observe("uiMask",o),i.$observe("placeholder",a),r.$formatters.push(s),r.$parsers.push(l),n.bind("mousedown mouseup",w),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,n,i,r){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.uiReset?r.$setViewValue(e.$eval(i.uiReset)):r.$setViewValue(t),r.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){return{restrict:"AC",scope:!0,compile:function(n,i){var r;if(i.uiRoute)r="uiRoute";else if(i.ngHref)r="ngHref";else{if(!i.href)throw new Error("uiRoute missing a route or href property on "+n[0]);r="href"}return function(n,i,o){function a(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),(c=function(){l(n,e.path().indexOf(t)>-1)})()}function s(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),(c=function(){var i=new RegExp("^"+t+"$",["i"]);l(n,i.test(e.path()))})()}var l=t(o.ngModel||o.routeModel||"$uiRoute").assign,c=angular.noop;switch(r){case"uiRoute":o.uiRoute?s(o.uiRoute):o.$observe("uiRoute",s);break;case"ngHref":o.ngHref?a(o.ngHref):o.$observe("ngHref",a);break;case"href":a(o.href)}n.$on("$routeChangeSuccess",function(){c()}),n.$on("$stateChangeSuccess",function(){c()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){return{registerFor:function(e){var n,i,r,o,a,s,l;return i=angular.element.prototype.css,e.prototype.css=function(e,t){var n,r;if(r=this,(n=r[0])&&3!==n.nodeType&&8!==n.nodeType&&n.style)return i.call(r,e,t)},s=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},l=function(e,t,n){var i,r,o,a,l;return i=e[0],l={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],r=l[0],a=l[1],o=l[2],s(i)?angular.isDefined(n)?i.scrollTo(e[o].call(e),n):a in i?i[a]:i.document.documentElement[r]:angular.isDefined(n)?i[r]=n:i[r]},t.getComputedStyle?(o=function(e){return t.getComputedStyle(e,null)},n=function(e,t){return parseFloat(t)}):(o=function(e){return e.currentStyle},n=function(e,t){var n,i,r,o,a,s,l;return n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,o=new RegExp("^("+n+")(?!px)[a-z%]+$","i"),o.test(t)?(l=e.style,i=l.left,a=e.runtimeStyle,s=a&&a.left,a&&(a.left=l.left),l.left=t,r=l.pixelLeft,l.left=i,s&&(a.left=s),r):parseFloat(t)}),r=function(e,t){var i,r,a,l,c,u,d,f,h,p,g,m,v;return s(e)?(i=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:i,padding:0,border:0,margin:0}):(v={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],i=v[0],d=v[1],f=v[2],u=o(e),g=n(e,u["padding"+d])||0,m=n(e,u["padding"+f])||0,r=n(e,u["border"+d+"Width"])||0,a=n(e,u["border"+f+"Width"])||0,l=u["margin"+d],c=u["margin"+f],h=n(e,l)||0,p=n(e,c)||0,{base:i,padding:g+m,border:r+a,margin:h+p})},a=function(e,t,n){var i,a,s;return a=r(e,t),a.base>0?{base:a.base-a.padding-a.border,outer:a.base,outerfull:a.base+a.margin}[n]:(i=o(e),s=i[t],(s<0||null===s)&&(s=e.style[t]||0),s=parseFloat(s)||0,{base:s-a.padding-a.border,outer:s,outerfull:s+a.padding+a.border+a.margin}[n])},angular.forEach({before:function(e){var t,n,i,r,o,a,s;if(o=this,n=o[0],r=o.parent(),t=r.contents(),t[0]===n)return r.prepend(e);for(i=a=1,s=t.length-1;1<=s?a<=s:a>=s;i=1<=s?++a:--a)if(t[i]===n)return void angular.element(t[i-1]).after(e);throw new Error("invalid DOM structure "+n.outerHTML)},height:function(e){var t;return t=this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),i.call(t,"height",e)):a(this[0],"height","base")},outerHeight:function(e){return a(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,i,r,o,a;return o=this,arguments.length?void 0===e?o:e:(t={top:0,left:0},r=o[0],(n=r&&r.ownerDocument)?(i=n.documentElement,r.getBoundingClientRect&&(t=r.getBoundingClientRect()),a=n.defaultView||n.parentWindow,{top:t.top+(a.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(a.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):void 0)},scrollTop:function(e){return l(this,"top",e)},scrollLeft:function(e){return l(this,"left",e)}},function(t,n){if(!e.prototype[n])return e.prototype[n]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){if(!t.jQuery)return n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("ngScrollViewport",["$log",function(){return{controller:["$scope","$element",function(e,t){return t}]}}]).directive("ngScroll",["$log","$injector","$rootScope","$timeout",function(e,t,n,i){return{require:["?^ngScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(r,o,a){return function(o,s,l,c){var u,d,f,h,p,g,m,v,y,b,w,x,k,C,$,S,_,T,A,E,M,D,I,O,N,P,L,R,j,F,H,z,B,W,U,q;if(!(O=l.ngScroll.match(/^\s*(\w+)\s+in\s+(\w+)\s*$/)))throw new Error('Expected ngScroll in form of "item_ in _datasource_" but got "'+l.ngScroll+'"');if(D=O[1],x=O[2],E=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)},w=o[x],!E(w)&&(w=t.get(x),!E(w)))throw new Error(x+" is not a valid datasource");return v=Math.max(3,+l.bufferSize||10),m=function(){return q.height()*Math.max(.1,+l.padding||.1)},H=function(e){return e[0].scrollHeight||e[0].document.documentElement.scrollHeight},u=null,a(W=o.$new(),function(e){var t,n,i,o,a,s;if("dl"===(o=e[0].localName))throw new Error("ng-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==o&&"tr"!==o&&(o="div"),s=c[0]||angular.element(window),s.css({"overflow-y":"auto",display:"block"}),i=function(e){var t,n,i;switch(e){case"tr":return i=angular.element("<table><tr><td><div></div></td></tr></table>"),t=i.find("div"),n=i.find("tr"),n.paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return n=angular.element("<"+e+"></"+e+">"),n.paddingHeight=n.height,n}},n=function(e,t,n){return t[{top:"before",bottom:"after"}[n]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[n]](t)}}},a=n(i(o),r,"top"),t=n(i(o),r,"bottom"),W.$destroy(),u={viewport:s,topPadding:a.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:a.insert,bottomDataPos:function(){return H(s)-t.paddingHeight()},topDataPos:function(){return a.paddingHeight()}}}),q=u.viewport,T=1,N=1,g=[],P=[],C=!1,h=!1,I=w.loading||function(){},M=!1,R=function(e,t){var n,i;for(n=i=e;e<=t?i<t:i>t;n=e<=t?++i:--i)g[n].scope.$destroy(),g[n].element.remove();return g.splice(e,t-e)},L=function(){return T=1,N=1,R(0,g.length),u.topPadding(0),u.bottomPadding(0),P=[],C=!1,h=!1,d(!1)},p=function(){return q.scrollTop()+q.height()},U=function(){return q.scrollTop()},z=function(){return!C&&u.bottomDataPos()<p()+m()},y=function(){var t,n,i,r,o,a;for(t=0,r=0,n=o=a=g.length-1;(a<=0?o<=0:o>=0)&&(i=g[n].element.outerHeight(!0),u.bottomDataPos()-t-i>p()+m());n=a<=0?++o:--o)t+=i,r++,C=!1;if(r>0)return u.bottomPadding(u.bottomPadding()+t),R(g.length-r,g.length),N-=r,e.log("clipped off bottom "+r+" bottom padding "+u.bottomPadding())},B=function(){return!h&&u.topDataPos()>U()-m()},b=function(){var t,n,i,r,o,a;for(r=0,i=0,o=0,a=g.length;o<a&&(t=g[o],n=t.element.outerHeight(!0),u.topDataPos()+r+n<U()-m());o++)r+=n,i++,h=!1;if(i>0)return u.topPadding(u.topPadding()+r),R(0,i),T+=i,e.log("clipped off top "+i+" top padding "+u.topPadding())},k=function(e,t){if(M||(M=!0,I(!0)),1===P.push(e))return S(t)},A=function(e,t){var n,i,r;return n=o.$new(),n[D]=t,i=e>T,n.$index=e,i&&n.$index--,r={scope:n},a(n,function(t){return r.element=t,i?e===N?(u.append(t),g.push(r)):(g[e-T].element.after(t),g.splice(e-T+1,0,r)):(u.prepend(t),g.unshift(r))}),{appended:i,wrapper:r}},f=function(e,t){var n;return e?u.bottomPadding(Math.max(0,u.bottomPadding()-t.element.outerHeight(!0))):(n=u.topPadding()-t.element.outerHeight(!0),n>=0?u.topPadding(n):q.scrollTop(q.scrollTop()+t.element.outerHeight(!0)))},d=function(t,n,r){var o;return o=function(){if(e.log("top {actual="+u.topDataPos()+" visible from="+U()+" bottom {visible through="+p()+" actual="+u.bottomDataPos()+"}"),z()?k(!0,t):B()&&k(!1,t),r)return r()},n?i(function(){var e,t,i;for(t=0,i=n.length;t<i;t++)e=n[t],f(e.appended,e.wrapper);return o()}):o()},_=function(e,t){return d(e,t,function(){return P.shift(),0===P.length?(M=!1,I(!1)):S(e)})},S=function(t){var n;return n=P[0],n?g.length&&!z()?_(t):w.get(N,v,function(n){var i,r,o,a;if(r=[],0===n.length)C=!0,u.bottomPadding(0),e.log("appended: requested "+v+" records starting from "+N+" recieved: eof");else{for(b(),o=0,a=n.length;o<a;o++)i=n[o],r.push(A(++N,i));e.log("appended: requested "+v+" received "+n.length+" buffer size "+g.length+" first "+T+" next "+N)}return _(t,r)}):g.length&&!B()?_(t):w.get(T-v,v,function(n){var i,r,o,a;if(r=[],0===n.length)h=!0,u.topPadding(0),e.log("prepended: requested "+v+" records starting from "+(T-v)+" recieved: bof");else{for(y(),i=o=a=n.length-1;a<=0?o<=0:o>=0;i=a<=0?++o:--o)r.unshift(A(--T,n[i]));e.log("prepended: requested "+v+" received "+n.length+" buffer size "+g.length+" first "+T+" next "+N)}return _(t,r)})},j=function(){if(!n.$$phase&&!M)return d(!1),o.$apply()},q.bind("resize",j),F=function(){if(!n.$$phase&&!M)return d(!0),o.$apply()},q.bind("scroll",F),o.$watch(w.revision,function(){return L()}),$=w.scope?w.scope.$new():o.$new(),o.$on("$destroy",function(){return $.$destroy(),q.unbind("resize",j),q.unbind("scroll",F)}),$.$on("update.items",function(e,t,n){var i,r,o,a,s;if(angular.isFunction(t))for(r=function(e){return t(e.scope)},o=0,a=g.length;o<a;o++)i=g[o],r(i);else 0<=(s=t-T-1)&&s<g.length&&(g[t-T-1].scope[D]=n);return null}),$.$on("delete.items",function(e,t){var n,i,r,o,a,s,l,c,u,f,h,p;if(angular.isFunction(t)){for(r=[],s=0,u=g.length;s<u;s++)i=g[s],r.unshift(i);for(a=function(e){if(t(e.scope))return R(r.length-1-n,r.length-n),N--},n=l=0,f=r.length;l<f;n=++l)o=r[n],a(o)}else 0<=(p=t-T-1)&&p<g.length&&(R(t-T-1,t-T),N--);for(n=c=0,h=g.length;c<h;n=++c)i=g[n],i.scope.$index=T+n;return d(!1)}),$.$on("insert.item",function(e,t,n){var i,r,o,a,s,l,c,u,f,h,p,m;if(r=[],angular.isFunction(t)){for(o=[],l=0,f=g.length;l<f;l++)n=g[l],o.unshift(n);for(s=function(e){var o,a,s,l,c;if(a=t(e.scope)){if(A=function(e,t){return A(e,t),N++},angular.isArray(a)){for(c=[],o=s=0,l=a.length;s<l;o=++s)n=a[o],c.push(r.push(A(i+o,n)));return c}return r.push(A(i,a))}},i=c=0,h=o.length;c<h;i=++c)a=o[i],s(a)}else 0<=(m=t-T-1)&&m<g.length&&(r.push(A(t,n)),N++);for(i=u=0,p=g.length;u<p;i=++u)n=g[i],n.scope.$index=T+i;return d(!1,r)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){return{require:"^?uiScrollfixTarget",link:function(t,n,i,r){function o(){var t;t=angular.isDefined(e.pageYOffset)?e.pageYOffset:(document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body).scrollTop,!n.hasClass("ui-scrollfix")&&t>i.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<i.uiScrollfix&&n.removeClass("ui-scrollfix")}var a=n[0].offsetTop,s=r&&r.$element||angular.element(e);i.uiScrollfix?"string"==typeof i.uiScrollfix&&("-"===i.uiScrollfix.charAt(0)?i.uiScrollfix=a-parseFloat(i.uiScrollfix.substr(1)):"+"===i.uiScrollfix.charAt(0)&&(i.uiScrollfix=a+parseFloat(i.uiScrollfix.substr(1)))):i.uiScrollfix=a,s.on("scroll",o),t.$on("$destroy",function(){s.off("scroll",o)})}}}]).directive("uiScrollfixTarget",[function(){return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){return function(t,n){if(!1===n)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var i=[],r=angular.isString(n)?e(n):function(e){return e},o=function(e){return angular.isObject(e)?r(e):e};angular.forEach(t,function(e){for(var t=!1,n=0;n<i.length;n++)if(angular.equals(o(i[n]),o(e))){t=!0;break}t||i.push(e)}),t=i}return t}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r,o={},a=e.$eval(n.uiValidate);a&&(angular.isString(a)&&(a={validator:a}),angular.forEach(a,function(t,n){r=function(r){var o=e.$eval(t,{$value:r});return angular.isObject(o)&&angular.isFunction(o.then)?(o.then(function(){i.$setValidity(n,!0)},function(){i.$setValidity(n,!1)}),r):o?(i.$setValidity(n,!0),r):(i.$setValidity(n,!1),r)},o[n]=r,i.$formatters.push(r),i.$parsers.push(r)}),n.uiValidateWatch&&function(t){angular.isString(t)?e.$watch(t,function(){angular.forEach(o,function(e){e(i.$modelValue)})}):angular.isArray(t)?angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(o,function(e){e(i.$modelValue)})})}):angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){o[n](i.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){o[n](i.$modelValue)})})})}(e.$eval(n.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"])},function(e,t,n){"use strict";angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["uiTinymceConfig",function(e){e=e||{};var t=0;return{priority:10,require:"ngModel",link:function(n,i,r,o){var a,s,l,c=function(){o.$setViewValue(i.val()),n.$root.$$phase||n.$apply()};if(r.id||r.$set("id","uiTinymce"+t++),a=r.uiTinymce?n.$eval(r.uiTinymce):{},a.setup){var u=a.setup;delete a.setup}s={setup:function(e){e.on("init",function(e){o.$render(),o.$setPristine()}),e.on("ExecCommand",function(t){e.save(),c()}),e.on("KeyUp",function(t){e.save(),c()}),e.on("SetContent",function(t){t.initial||o.$viewValue===t.content||(e.save(),c())}),e.on("blur",function(e){i.blur()}),e.on("ObjectResized",function(t){e.save(),c()}),u&&u(e)},mode:"exact",elements:r.id},angular.extend(s,e,a),setTimeout(function(){tinymce.init(s)}),o.$render=function(){l||(l=tinymce.get(r.id)),l&&l.setContent(o.$viewValue||"")},n.$on("$destroy",function(){l||(l=tinymce.get(r.id)),l&&(l.remove(),l=null)})}}}])},function(e,t,n){"use strict";angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",["uiCodemirrorConfig",function(e){return{restrict:"EA",require:"?ngModel",priority:1,compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");return function(t,n,i,r){var o,a,s,l;if(l=n.text(),o=e.codemirror||{},a=angular.extend({value:l},o,t.$eval(i.uiCodemirror),t.$eval(i.uiCodemirrorOpts)),"TEXTAREA"===n[0].tagName?s=window.CodeMirror.fromTextArea(n[0],a):(n.html(""),s=new window.CodeMirror(function(e){n.append(e)},a)),i.uiCodemirror||i.uiCodemirrorOpts){var c=Object.keys(window.CodeMirror.defaults);t.$watch(i.uiCodemirror||i.uiCodemirrorOpts,function(e,t){angular.isObject(e)&&c.forEach(function(n){if(e.hasOwnProperty(n)){if(t&&e[n]===t[n])return;s.setOption(n,e[n])}})},!0)}r&&(r.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),r.$render=function(){var e=r.$viewValue||"";s.setValue(e)},s.on("change",function(e){var n=e.getValue();n!==r.$viewValue&&t.$apply(function(){r.$setViewValue(n)})})),i.uiRefresh&&t.$watch(i.uiRefresh,function(e,t){e!==t&&s.refresh()}),t.$on("CodeMirror",function(e,t){if(!angular.isFunction(t))throw new Error("the CodeMirror event requires a callback function");t(s)}),angular.isFunction(a.onLoad)&&a.onLoad(s)}}}}])},function(e,t,n){!function(e){!function(e){"use strict";e.defineMode("groovy",function(t){function n(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function i(e,t){var n=e.next();if('"'==n||"'"==n)return r(n,e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return d=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),e.eat(/eE/)&&(e.eat(/\+\-/),e.eatWhile(/\d/)),"number";if("/"==n){if(e.eat("*"))return t.tokenize.push(a),a(e,t);if(e.eat("/"))return e.skipToEnd(),"comment";if(s(t.lastToken,!1))return r(n,e,t)}if("-"==n&&e.eat(">"))return d="->",null;if(/[+\-*&%=<>!?|\/~]/.test(n))return e.eatWhile(/[+\-*&%=<>|~]/),"operator";if(e.eatWhile(/[\w\$_]/),"@"==n)return e.eatWhile(/[\w\$_\.]/),"meta";if("."==t.lastToken)return"property";if(e.eat(":"))return d="proplabel","property";var i=e.current();return g.propertyIsEnumerable(i)?"atom":f.propertyIsEnumerable(i)?(h.propertyIsEnumerable(i)?d="newstatement":p.propertyIsEnumerable(i)&&(d="standalone"),"keyword"):"variable"}function r(e,t,n){function i(t,n){for(var i,a=!1,s=!r;null!=(i=t.next());){if(i==e&&!a){if(!r)break;if(t.match(e+e)){s=!0;break}}if('"'==e&&"$"==i&&!a&&t.eat("{"))return n.tokenize.push(o()),"string";a=!a&&"\\"==i}return s&&n.tokenize.pop(),"string"}var r=!1;if("/"!=e&&t.eat(e)){if(!t.eat(e))return"string";r=!0}return n.tokenize.push(i),i(t,n)}function o(){function e(e,n){if("}"==e.peek()){if(0==--t)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n)}else"{"==e.peek()&&t++;return i(e,n)}var t=1;return e.isBase=!0,e}function a(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize.pop();break}i="*"==n}return"comment"}function s(e,t){return!e||"operator"==e||"->"==e||/[\.\[\{\(,;:]/.test(e)||"newstatement"==e||"keyword"==e||"proplabel"==e||"standalone"==e&&!t}function l(e,t,n,i,r){this.indented=e,this.column=t,this.type=n,this.align=i,this.prev=r}function c(e,t,n){return e.context=new l(e.indented,t,n,null,e.context)}function u(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}var d,f=n("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package private protected public return short static strictfp super switch synchronized threadsafe throw throws trait transient try void volatile while"),h=n("catch class def do else enum finally for if interface switch trait try while"),p=n("return break continue"),g=n("null true false this");return i.isBase=!0,{startState:function(e){return{tokenize:[i],context:new l((e||0)-t.indentUnit,0,"top",!1),indented:0,startOfLine:!0,lastToken:null}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0,"statement"!=n.type||s(t.lastToken,!0)||(u(t),n=t.context)),e.eatSpace())return null;d=null;var i=t.tokenize[t.tokenize.length-1](e,t);if("comment"==i)return i;if(null==n.align&&(n.align=!0),";"!=d&&":"!=d||"statement"!=n.type)if("->"==d&&"statement"==n.type&&"}"==n.prev.type)u(t),t.context.align=!1;else if("{"==d)c(t,e.column(),"}");else if("["==d)c(t,e.column(),"]");else if("("==d)c(t,e.column(),")");else if("}"==d){for(;"statement"==n.type;)n=u(t);for("}"==n.type&&(n=u(t));"statement"==n.type;)n=u(t)}else d==n.type?u(t):("}"==n.type||"top"==n.type||"statement"==n.type&&"newstatement"==d)&&c(t,e.column(),"statement");else u(t);return t.startOfLine=!1,t.lastToken=d||i,i},indent:function(n,i){if(!n.tokenize[n.tokenize.length-1].isBase)return e.Pass;var r=i&&i.charAt(0),o=n.context;"statement"!=o.type||s(n.lastToken,!0)||(o=o.prev);var a=r==o.type;return"statement"==o.type?o.indented+("{"==r?0:t.indentUnit):o.align?o.column+(a?0:1):o.indented+(a?0:t.indentUnit)},electricChars:"{}",closeBrackets:{triples:"'\""},fold:"brace"}}),e.defineMIME("text/x-groovy","groovy")}(n(15))}()},function(e,t,n){!function(e){!function(e){"use strict";e.defineMode("vbscript",function(e,t){function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b","i")}function i(e,t){t.currentIndent++}function r(e,t){t.currentIndent--}function o(e,t){if(e.eatSpace())return"space";if("'"===e.peek())return e.skipToEnd(),"comment";if(e.match(z))return e.skipToEnd(),"comment";if(e.match(/^((&H)|(&O))?[0-9\.]/i,!1)&&!e.match(/^((&H)|(&O))?[0-9\.]+[a-z_]/i,!1)){var n=!1;if(e.match(/^\d*\.\d+/i)?n=!0:e.match(/^\d+\.\d*/)?n=!0:e.match(/^\.\d+/)&&(n=!0),n)return e.eat(/J/i),"number";var o=!1;if(e.match(/^&H[0-9a-f]+/i)?o=!0:e.match(/^&O[0-7]+/i)?o=!0:e.match(/^[1-9]\d*F?/)?(e.eat(/J/i),o=!0):e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}return e.match(N)?(t.tokenize=a(e.current()),t.tokenize(e,t)):e.match(u)||e.match(c)||e.match(v)?"operator":e.match(d)?null:e.match(f)?"bracket":e.match(H)?(t.doInCurrentLine=!0,"keyword"):e.match(F)?(i(e,t),t.doInCurrentLine=!0,"keyword"):e.match(P)?(t.doInCurrentLine?t.doInCurrentLine=!1:i(e,t),"keyword"):e.match(L)?"keyword":e.match(j)?(r(e,t),r(e,t),"keyword"):e.match(R)?(t.doInCurrentLine?t.doInCurrentLine=!1:r(e,t),"keyword"):e.match(E)?"keyword":e.match(M)?"atom":e.match(O)?"variable-2":e.match(D)?"builtin":e.match(I)?"variable-2":e.match(h)?"variable":(e.next(),l)}function a(e){var n=1==e.length;return function(i,r){for(;!i.eol();){if(i.eatWhile(/[^'"]/),i.match(e))return r.tokenize=o,"string";i.eat(/['"]/)}if(n){if(t.singleLineStringErrors)return l;r.tokenize=o}return"string"}}function s(e,t){var n=t.tokenize(e,t),i=e.current();return"."===i?(n=t.tokenize(e,t),i=e.current(),!n||"variable"!==n.substr(0,8)&&"builtin"!==n&&"keyword"!==n?l:("builtin"!==n&&"keyword"!==n||(n="variable"),A.indexOf(i.substr(1))>-1&&(n="variable-2"),n)):n}var l="error",c=new RegExp("^[\\+\\-\\*/&\\\\\\^<>=]"),u=new RegExp("^((<>)|(<=)|(>=))"),d=new RegExp("^[\\.,]"),f=new RegExp("^[\\(\\)]"),h=new RegExp("^[A-Za-z][_A-Za-z0-9]*"),p=["class","sub","select","while","if","function","property","with","for"],g=["else","elseif","case"],m=["next","loop","wend"],v=n(["and","or","not","xor","is","mod","eqv","imp"]),y=["dim","redim","then","until","randomize","byval","byref","new","property","exit","in","const","private","public","get","set","let","stop","on error resume next","on error goto 0","option explicit","call","me"],b=["true","false","nothing","empty","null"],w=["abs","array","asc","atn","cbool","cbyte","ccur","cdate","cdbl","chr","cint","clng","cos","csng","cstr","date","dateadd","datediff","datepart","dateserial","datevalue","day","escape","eval","execute","exp","filter","formatcurrency","formatdatetime","formatnumber","formatpercent","getlocale","getobject","getref","hex","hour","inputbox","instr","instrrev","int","fix","isarray","isdate","isempty","isnull","isnumeric","isobject","join","lbound","lcase","left","len","loadpicture","log","ltrim","rtrim","trim","maths","mid","minute","month","monthname","msgbox","now","oct","replace","rgb","right","rnd","round","scriptengine","scriptenginebuildversion","scriptenginemajorversion","scriptengineminorversion","second","setlocale","sgn","sin","space","split","sqr","strcomp","string","strreverse","tan","time","timer","timeserial","timevalue","typename","ubound","ucase","unescape","vartype","weekday","weekdayname","year"],x=["vbBlack","vbRed","vbGreen","vbYellow","vbBlue","vbMagenta","vbCyan","vbWhite","vbBinaryCompare","vbTextCompare","vbSunday","vbMonday","vbTuesday","vbWednesday","vbThursday","vbFriday","vbSaturday","vbUseSystemDayOfWeek","vbFirstJan1","vbFirstFourDays","vbFirstFullWeek","vbGeneralDate","vbLongDate","vbShortDate","vbLongTime","vbShortTime","vbObjectError","vbOKOnly","vbOKCancel","vbAbortRetryIgnore","vbYesNoCancel","vbYesNo","vbRetryCancel","vbCritical","vbQuestion","vbExclamation","vbInformation","vbDefaultButton1","vbDefaultButton2","vbDefaultButton3","vbDefaultButton4","vbApplicationModal","vbSystemModal","vbOK","vbCancel","vbAbort","vbRetry","vbIgnore","vbYes","vbNo","vbCr","VbCrLf","vbFormFeed","vbLf","vbNewLine","vbNullChar","vbNullString","vbTab","vbVerticalTab","vbUseDefault","vbTrue","vbFalse","vbEmpty","vbNull","vbInteger","vbLong","vbSingle","vbDouble","vbCurrency","vbDate","vbString","vbObject","vbError","vbBoolean","vbVariant","vbDataObject","vbDecimal","vbByte","vbArray"],k=["WScript","err","debug","RegExp"],C=["description","firstindex","global","helpcontext","helpfile","ignorecase","length","number","pattern","source","value","count"],$=["clear","execute","raise","replace","test","write","writeline","close","open","state","eof","update","addnew","end","createobject","quit"],S=["server","response","request","session","application"],_=["buffer","cachecontrol","charset","contenttype","expires","expiresabsolute","isclientconnected","pics","status","clientcertificate","cookies","form","querystring","servervariables","totalbytes","contents","staticobjects","codepage","lcid","sessionid","timeout","scripttimeout"],T=["addheader","appendtolog","binarywrite","end","flush","redirect","binaryread","remove","removeall","lock","unlock","abandon","getlasterror","htmlencode","mappath","transfer","urlencode"],A=$.concat(C);k=k.concat(x),e.isASP&&(k=k.concat(S),A=A.concat(T,_));var E=n(y),M=n(b),D=n(w),I=n(k),O=n(A),N='"',P=n(p),L=n(g),R=n(m),j=n(["end"]),F=n(["do"]),H=n(["on error resume next","exit"]),z=n(["rem"]);return{electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:o,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1,ignoreKeyword:!1}},token:function(e,t){e.sol()&&(t.currentIndent+=t.nextLineIndent,t.nextLineIndent=0,t.doInCurrentLine=0);var n=s(e,t);return t.lastToken={style:n,content:e.current()},"space"===n&&(n=null),n},indent:function(t,n){var i=n.replace(/^\s+|\s+$/g,"");return i.match(R)||i.match(j)||i.match(L)?e.indentUnit*(t.currentIndent-1):t.currentIndent<0?0:t.currentIndent*e.indentUnit}}}),e.defineMIME("text/vbscript","vbscript")}(n(15))}()},function(e,t,n){!function(e){!function(e){"use strict";function t(e,t,n){var i=e.current(),r=i.search(t);return r>-1?e.backUp(i.length-r):i.match(/<\/?$/)&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}function n(e){return l[e]||(l[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function i(e,t){var i=e.match(n(t));return i?/^\s*(.*?)\s*$/.exec(i[2])[1]:""}function r(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var i=t[n]||(t[n]=[]),r=e[n],o=r.length-1;o>=0;o--)i.unshift(r[o])}function a(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(i(t,r[0])))return r[2]}}var s={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},l={};e.defineMode("htmlmixed",function(n,i){function l(i,o){var s,d=c.token(i,o.htmlState),f=/\btag\b/.test(d);if(f&&!/[<>\s\/]/.test(i.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&u.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&f&&/>$/.test(i.current())){var h=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var p=">"==i.current()&&a(u[h[1]],h[2]),g=e.getMode(n,p),m=r(h[1],!0),v=r(h[1],!1);o.token=function(e,n){return e.match(m,!1)?(n.token=l,n.localState=n.localMode=null,null):t(e,v,n.localMode.token(e,n.localState))},o.localMode=g,o.localState=e.startState(g,c.indent(o.htmlState,""))}else o.inTag&&(o.inTag+=i.current(),i.eol()&&(o.inTag+=" "));return d}var c=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:i.multilineTagIndentFactor,multilineTagIndentPastTag:i.multilineTagIndentPastTag}),u={},d=i&&i.tags,f=i&&i.scriptTypes;if(o(s,u),d&&o(d,u),f)for(var h=f.length-1;h>=0;h--)u.script.unshift(["type",f[h].matches,f[h].mode]);return{startState:function(){return{token:l,inTag:null,localMode:null,localState:null,htmlState:e.startState(c)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(c,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,i){return!t.localMode||/^\s*<\//.test(n)?c.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n,i):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||c}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(n(15),n(139),n(138),n(137))}()},function(e,t,n){!function(e){!function(e){"use strict";var t=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],n=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"global",shortName:"g"}],i=e.Pos;e.Vim=function(){function r(t){t.setOption("disableInput",!0),t.setOption("showCursorWhenSelecting",!1),e.signal(t,"vim-mode-change",{mode:"normal"}),t.on("cursorActivity",ot),T(t),e.on(t.getInputField(),"paste",p(t))}function o(t){t.setOption("disableInput",!1),t.off("cursorActivity",ot),e.off(t.getInputField(),"paste",p(t)),t.state.vim=null}function a(t,n){this==e.keyMap.vim&&(e.rmClass(t.getWrapperElement(),"cm-fat-cursor"),"contenteditable"==t.getOption("inputStyle")&&null!=document.body.style.caretColor&&(d(t),t.getInputField().style.caretColor="")),n&&n.attach==s||o(t)}function s(t,n){this==e.keyMap.vim&&(e.addClass(t.getWrapperElement(),"cm-fat-cursor"),"contenteditable"==t.getOption("inputStyle")&&null!=document.body.style.caretColor&&(u(t),t.getInputField().style.caretColor="transparent")),n&&n.attach==s||r(t)}function l(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var o=t[r];if(o.empty())if(o.anchor.ch<e.getLine(o.anchor.line).length)n.push(e.markText(o.anchor,i(o.anchor.line,o.anchor.ch+1),{className:"cm-fat-cursor-mark"}));else{var a=document.createElement("span");a.textContent=" ",a.className="cm-fat-cursor-mark",n.push(e.setBookmark(o.anchor,{widget:a}))}}return n}function c(e){var t=e.state.fatCursorMarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();e.state.fatCursorMarks=l(e)}function u(e){e.state.fatCursorMarks=l(e),e.on("cursorActivity",c)}function d(e){var t=e.state.fatCursorMarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();e.state.fatCursorMarks=null,e.off("cursorActivity",c)}function f(t,n){if(n){if(this[t])return this[t];var i=h(t);if(!i)return!1;var r=e.Vim.findKey(n,i);return"function"==typeof r&&e.signal(n,"vim-keypress",i),r}}function h(e){if("'"==e.charAt(0))return e.charAt(1);var t=e.split(/-(?!$)/),n=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==n.length)return!1;for(var i=!1,r=0;r<t.length;r++){var o=t[r];o in ft?t[r]=ft[o]:i=!0,o in ht&&(t[r]=ht[o])}return!!i&&(w(n)&&(t[t.length-1]=n.toLowerCase()),"<"+t.join("-")+">")}function p(e){var t=e.state.vim;return t.onPasteFn||(t.onPasteFn=function(){t.insertMode||(e.setCursor(z(e.getCursor(),0,1)),Dt.enterInsertMode(e,{},t))}),t.onPasteFn}function g(e,t){for(var n=[],i=e;i<e+t;i++)n.push(String.fromCharCode(i));return n}function m(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function v(e){return/^[a-z]$/.test(e)}function y(e){return-1!="()[]{}".indexOf(e)}function b(e){return pt.test(e)}function w(e){return/^[A-Z]$/.test(e)}function x(e){return/^\s*$/.test(e)}function k(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function C(e,t,n,i,r){if(void 0===t&&!r)throw Error("defaultValue is required unless callback is provided");if(n||(n="string"),kt[e]={type:n,defaultValue:t,callback:r},i)for(var o=0;o<i.length;o++)kt[i[o]]=kt[e];t&&$(e,t)}function $(e,t,n,i){var r=kt[e];i=i||{};var o=i.scope;if(!r)return new Error("Unknown option: "+e);if("boolean"==r.type){if(t&&!0!==t)return new Error("Invalid argument: "+e+"="+t);!1!==t&&(t=!0)}r.callback?("local"!==o&&r.callback(t,void 0),"global"!==o&&n&&r.callback(t,n)):("local"!==o&&(r.value="boolean"==r.type?!!t:t),"global"!==o&&n&&(n.state.vim.options[e]={value:t}))}function S(e,t,n){var i=kt[e];n=n||{};var r=n.scope;if(!i)return new Error("Unknown option: "+e);if(!i.callback){var o="global"!==r&&t&&t.state.vim.options[e];return(o||"local"!==r&&i||{}).value}var o=t&&i.callback(void 0,t);return"global"!==r&&void 0!==o?o:"local"!==r?i.callback():void 0}function _(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=$t()}function T(e){return e.state.vim||(e.state.vim={inputState:new E,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}function A(){St={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Ct(),macroModeState:new _,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new O({}),searchHistoryController:new N,exCommandHistoryController:new N};for(var e in kt){var t=kt[e];t.value=t.defaultValue}}function E(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function M(t,n){t.state.vim.inputState=new E,e.signal(t,"vim-command-done",n)}function D(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}function I(e,t){var n=St.registerController.registers;if(!e||1!=e.length)throw Error("Register name must be 1 character");if(n[e])throw Error("Register already defined "+e);n[e]=t,xt.push(e)}function O(e){this.registers=e,this.unnamedRegister=e['"']=new D,e["."]=new D,e[":"]=new D,e["/"]=new D}function N(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}function P(e,t){Et[e]=t}function L(e,t){for(var n=[],i=0;i<t;i++)n.push(e);return n}function R(e,t){Mt[e]=t}function j(e,t){Dt[e]=t}function F(e,t,n){var r=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),o=Z(e,r)-1;o=n?o+1:o;var a=Math.min(Math.max(0,t.ch),o);return i(r,a)}function H(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function z(e,t,n){return"object"==typeof t&&(n=t.ch,t=t.line),i(e.line+t,e.ch+n)}function B(e,t){return{line:t.line-e.line,ch:t.line-e.line}}function W(e,t,n,i){for(var r,o=[],a=[],s=0;s<t.length;s++){var l=t[s];"insert"==n&&"insert"!=l.context||l.context&&l.context!=n||i.operator&&"action"==l.type||!(r=U(e,l.keys))||("partial"==r&&o.push(l),"full"==r&&a.push(l))}return{partial:o.length&&o,full:a.length&&a}}function U(e,t){if("<character>"==t.slice(-11)){var n=t.length-11,i=e.slice(0,n),r=t.slice(0,n);return i==r&&e.length>n?"full":0==r.indexOf(i)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}function q(e){var t=/^.*(<[^>]+>)$/.exec(e),n=t?t[1]:e.slice(-1);if(n.length>1)switch(n){case"<CR>":n="\n";break;case"<Space>":n=" ";break;default:n=""}return n}function V(e,t,n){return function(){for(var i=0;i<n;i++)t(e)}}function K(e){return i(e.line,e.ch)}function G(e,t){return e.ch==t.ch&&e.line==t.line}function Y(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function X(e,t){return arguments.length>2&&(t=X.apply(void 0,Array.prototype.slice.call(arguments,1))),Y(e,t)?e:t}function Q(e,t){return arguments.length>2&&(t=Q.apply(void 0,Array.prototype.slice.call(arguments,1))),Y(e,t)?t:e}function J(e,t,n){var i=Y(e,t),r=Y(t,n);return i&&r}function Z(e,t){return e.getLine(t).length}function ee(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function te(e){return e.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function ne(e,t,n){var r=Z(e,t),o=new Array(n-r+1).join(" ");e.setCursor(i(t,r)),e.replaceRange(o,e.getCursor())}function ie(e,t){var n=[],r=e.listSelections(),o=K(e.clipPos(t)),a=!G(t,o),s=e.getCursor("head"),l=oe(r,s),c=G(r[l].head,r[l].anchor),u=r.length-1,d=u-l>l?u:0,f=r[d].anchor,h=Math.min(f.line,o.line),p=Math.max(f.line,o.line),g=f.ch,m=o.ch,v=r[d].head.ch-g,y=m-g;v>0&&y<=0?(g++,a||m--):v<0&&y>=0?(g--,c||m++):v<0&&-1==y&&(g--,m++);for(var b=h;b<=p;b++){var w={anchor:new i(b,g),head:new i(b,m)};n.push(w)}return e.setSelections(n),t.ch=m,f.ch=g,f}function re(e,t,n){for(var i=[],r=0;r<n;r++){var o=z(t,r,0);i.push({anchor:o,head:o})}e.setSelections(i,0)}function oe(e,t,n){for(var i=0;i<e.length;i++){var r="head"!=n&&G(e[i].anchor,t),o="anchor"!=n&&G(e[i].head,t);if(r||o)return i}return-1}function ae(e,t){var n=t.lastSelection;return t.visualMode?function(){var t=e.listSelections(),n=t[0],i=t[t.length-1];return[Y(n.anchor,n.head)?n.anchor:n.head,Y(i.anchor,i.head)?i.head:i.anchor]}():function(){var t=e.getCursor(),r=e.getCursor(),o=n.visualBlock;if(o){var a=o.width,s=o.height;r=i(t.line+s,t.ch+a);for(var l=[],c=t.line;c<r.line;c++){var u=i(c,t.ch),d=i(c,r.ch),f={anchor:u,head:d};l.push(f)}e.setSelections(l)}else{var h=n.anchorMark.find(),p=n.headMark.find(),g=p.line-h.line,m=p.ch-h.ch;r={line:r.line+g,ch:g?r.ch:m+r.ch},n.visualLine&&(t=i(t.line,0),r=i(r.line,Z(e,r.line))),e.setSelection(t,r)}return[t,r]}()}function se(e,t){var n=t.sel.anchor,i=t.sel.head;t.lastPastedText&&(i=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(n),headMark:e.setBookmark(i),anchor:K(n),head:K(i),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function le(e,t,n){var r,o=e.state.vim.sel,a=o.head,s=o.anchor;return Y(n,t)&&(r=n,n=t,t=r),Y(a,s)?(a=X(t,a),s=Q(s,n)):(s=X(t,s),a=Q(a,n),a=z(a,0,-1),-1==a.ch&&a.line!=e.firstLine()&&(a=i(a.line-1,Z(e,a.line-1)))),[s,a]}function ce(e,t,n){var i=e.state.vim;t=t||i.sel;var n=n||i.visualLine?"line":i.visualBlock?"block":"char",r=ue(e,t,n);e.setSelections(r.ranges,r.primary),at(e)}function ue(e,t,n,r){var o=K(t.head),a=K(t.anchor);if("char"==n){var s=r||Y(t.head,t.anchor)?0:1,l=Y(t.head,t.anchor)?1:0;return o=z(t.head,0,s),a=z(t.anchor,0,l),{ranges:[{anchor:a,head:o}],primary:0}}if("line"==n){if(Y(t.head,t.anchor))o.ch=0,a.ch=Z(e,a.line);else{a.ch=0;var c=e.lastLine();o.line>c&&(o.line=c),o.ch=Z(e,o.line)}return{ranges:[{anchor:a,head:o}],primary:0}}if("block"==n){for(var u=Math.min(a.line,o.line),d=Math.min(a.ch,o.ch),f=Math.max(a.line,o.line),h=Math.max(a.ch,o.ch)+1,p=f-u+1,g=o.line==u?0:p-1,m=[],v=0;v<p;v++)m.push({anchor:i(u+v,d),head:i(u+v,h)});return{ranges:m,primary:g}}}function de(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=X(t,e.getCursor("anchor"))),t}function fe(t,n){var i=t.state.vim;!1!==n&&t.setCursor(F(t,i.sel.head)),se(t,i),i.visualMode=!1,i.visualLine=!1,i.visualBlock=!1,e.signal(t,"vim-mode-change",{mode:"normal"}),i.fakeCursor&&i.fakeCursor.clear()}function he(e,t,n){var i=e.getRange(t,n);if(/\n\s*$/.test(i)){var r=i.split("\n");r.pop();for(var o,o=r.pop();r.length>0&&o&&x(o);o=r.pop())n.line--,n.ch=0;o?(n.line--,n.ch=Z(e,n.line)):n.ch=0}}function pe(e,t,n){t.ch=0,n.ch=0,n.line++}function ge(e){if(!e)return 0;var t=e.search(/\S/);return-1==t?e.length:t}function me(e,t,n,r,o){for(var a=de(e),s=e.getLine(a.line),l=a.ch,c=o?gt[0]:mt[0];!c(s.charAt(l));)if(++l>=s.length)return null;r?c=mt[0]:(c=gt[0])(s.charAt(l))||(c=gt[1]);for(var u=l,d=l;c(s.charAt(u))&&u<s.length;)u++;for(;c(s.charAt(d))&&d>=0;)d--;if(d++,t){for(var f=u;/\s/.test(s.charAt(u))&&u<s.length;)u++;if(f==u){for(var h=d;/\s/.test(s.charAt(d-1))&&d>0;)d--;d||(d=h)}}return{start:i(a.line,d),end:i(a.line,u)}}function ve(e,t,n){G(t,n)||St.jumpList.add(e,t,n)}function ye(e,t){St.lastCharacterSearch.increment=e,St.lastCharacterSearch.forward=t.forward,St.lastCharacterSearch.selectedCharacter=t.selectedCharacter}function be(e,t,n,r){var o=K(e.getCursor()),a=n?1:-1,s=n?e.lineCount():-1,l=o.ch,c=o.line,u=e.getLine(c),d={lineText:u,nextCh:u.charAt(l),lastCh:null,index:l,symb:r,reverseSymb:(n?{")":"(","}":"{"}:{"(":")","{":"}"})[r],forward:n,depth:0,curMoveThrough:!1},f=It[r];if(!f)return o;var h=Ot[f].init,p=Ot[f].isComplete;for(h&&h(d);c!==s&&t;){if(d.index+=a,d.nextCh=d.lineText.charAt(d.index),!d.nextCh){if(c+=a,d.lineText=e.getLine(c)||"",a>0)d.index=0;else{var g=d.lineText.length;d.index=g>0?g-1:0}d.nextCh=d.lineText.charAt(d.index)}p(d)&&(o.line=c,o.ch=d.index,t--)}return d.nextCh||d.curMoveThrough?i(c,d.index):o}function we(e,t,n,i,r){var o=t.line,a=t.ch,s=e.getLine(o),l=n?1:-1,c=i?mt:gt;if(r&&""==s){if(o+=l,s=e.getLine(o),!m(e,o))return null;a=n?0:s.length}for(;;){if(r&&""==s)return{from:0,to:0,line:o};for(var u=l>0?s.length:-1,d=u,f=u;a!=u;){for(var h=!1,p=0;p<c.length&&!h;++p)if(c[p](s.charAt(a))){for(d=a;a!=u&&c[p](s.charAt(a));)a+=l;if(f=a,h=d!=f,d==t.ch&&o==t.line&&f==d+l)continue;return{from:Math.min(d,f+1),to:Math.max(d,f),line:o}}h||(a+=l)}if(o+=l,!m(e,o))return null;s=e.getLine(o),a=l>0?0:s.length}}function xe(e,t,n,r,o,a){var s=K(t),l=[];(r&&!o||!r&&o)&&n++;for(var c=!(r&&o),u=0;u<n;u++){var d=we(e,t,r,a,c);if(!d){var f=Z(e,e.lastLine());l.push(r?{line:e.lastLine(),from:f,to:f}:{line:0,from:0,to:0});break}l.push(d),t=i(d.line,r?d.to-1:d.from)}var h=l.length!=n,p=l[0],g=l.pop();return r&&!o?(h||p.from==s.ch&&p.line==s.line||(g=l.pop()),i(g.line,g.from)):r&&o?i(g.line,g.to-1):!r&&o?(h||p.to==s.ch&&p.line==s.line||(g=l.pop()),i(g.line,g.to)):i(g.line,g.from)}function ke(e,t,n,r){for(var o,a=e.getCursor(),s=a.ch,l=0;l<t;l++){if(-1==(o=Se(s,e.getLine(a.line),r,n,!0)))return null;s=o}return i(e.getCursor().line,o)}function Ce(e,t){var n=e.getCursor().line;return F(e,i(n,t-1))}function $e(e,t,n,i){k(n,wt)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(i))}function Se(e,t,n,i,r){var o;return i?-1==(o=t.indexOf(n,e+1))||r||(o-=1):-1==(o=t.lastIndexOf(n,e-1))||r||(o+=1),o}function _e(e,t,n,r,o){function a(t){return!e.getLine(t)}function s(e,t,n){return n?a(e)!=a(e+t):!a(e)&&a(e+t)}var l,c,u=t.line,d=e.firstLine(),f=e.lastLine(),h=u;if(r){for(;d<=h&&h<=f&&n>0;)s(h,r)&&n--,h+=r;return new i(h,0)}var p=e.state.vim;if(p.visualLine&&s(u,1,!0)){var g=p.sel.anchor;s(g.line,-1,!0)&&(o&&g.line==u||(u+=1))}var m=a(u);for(h=u;h<=f&&n;h++)s(h,1,!0)&&(o&&a(h)==m||n--);for(c=new i(h,0),h>f&&!m?m=!0:o=!1,h=u;h>d&&(o&&a(h)!=m&&h!=u||!s(h,-1,!0));h--);return l=new i(h,0),{start:l,end:c}}function Te(e,t,n,r){var o,a,s=t,l={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[n],c={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[n],u=e.getLine(s.line).charAt(s.ch),d=u===c?1:0;if(o=e.scanForBracket(i(s.line,s.ch+d),-1,null,{bracketRegex:l}),a=e.scanForBracket(i(s.line,s.ch+d),1,null,{bracketRegex:l}),!o||!a)return{start:s,end:s};if(o=o.pos,a=a.pos,o.line==a.line&&o.ch>a.ch||o.line>a.line){var f=o;o=a,a=f}return r?a.ch+=1:o.ch+=1,{start:o,end:a}}function Ae(e,t,n,r){var o,a,s,l,c=K(t),u=e.getLine(c.line),d=u.split(""),f=d.indexOf(n);if(c.ch<f?c.ch=f:f<c.ch&&d[c.ch]==n&&(a=c.ch,--c.ch),d[c.ch]!=n||a)for(s=c.ch;s>-1&&!o;s--)d[s]==n&&(o=s+1);else o=c.ch+1;if(o&&!a)for(s=o,l=d.length;s<l&&!a;s++)d[s]==n&&(a=s);return o&&a?(r&&(--o,++a),{start:i(c.line,o),end:i(c.line,a)}):{start:c,end:c}}function Ee(){}function Me(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new Ee)}function De(e,t,n,i,r){e.openDialog?e.openDialog(t,i,{bottom:!0,value:r.value,onKeyDown:r.onKeyDown,onKeyUp:r.onKeyUp,selectValueOnOpen:!1}):i(prompt(n,""))}function Ie(e){var t=Oe(e)||[];if(!t.length)return[];var n=[];if(0===t[0]){for(var i=0;i<t.length;i++)"number"==typeof t[i]&&n.push(e.substring(t[i]+1,t[i+1]));return n}}function Oe(e){for(var t=!1,n=[],i=0;i<e.length;i++){var r=e.charAt(i);t||"/"!=r||n.push(i),t=!t&&"\\"==r}return n}function Ne(e){for(var t="|(){",n="}",i=!1,r=[],o=-1;o<e.length;o++){var a=e.charAt(o)||"",s=e.charAt(o+1)||"",l=s&&-1!=t.indexOf(s);i?("\\"===a&&l||r.push(a),i=!1):"\\"===a?(i=!0,s&&-1!=n.indexOf(s)&&(l=!0),l&&"\\"!==s||r.push(a)):(r.push(a),l&&"\\"!==s&&r.push("\\"))}return r.join("")}function Pe(e){for(var t=!1,n=[],i=-1;i<e.length;i++){var r=e.charAt(i)||"",o=e.charAt(i+1)||"";Nt[r+o]?(n.push(Nt[r+o]),i++):t?(n.push(r),t=!1):"\\"===r?(t=!0,b(o)||"$"===o?n.push("$"):"/"!==o&&"\\"!==o&&n.push("\\")):("$"===r&&n.push("$"),n.push(r),"/"===o&&n.push("\\"))}return n.join("")}function Le(t){for(var n=new e.StringStream(t),i=[];!n.eol();){for(;n.peek()&&"\\"!=n.peek();)i.push(n.next());var r=!1;for(var o in Pt)if(n.match(o,!0)){r=!0,i.push(Pt[o]);break}r||i.push(n.next())}return i.join("")}function Re(e,t,n){if(St.registerController.getRegister("/").setText(e),e instanceof RegExp)return e;var i,r,o=Oe(e);return o.length?(i=e.substring(0,o[0]),r=-1!=e.substring(o[0]).indexOf("i")):i=e,i?(S("pcre")||(i=Ne(i)),n&&(t=/^[^A-Z]*$/.test(i)),new RegExp(i,t||r?"i":void 0)):null}function je(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}function Fe(e,t){var n='<span style="font-family: monospace; white-space: pre">'+(e||"")+'<input type="text"></span>';return t&&(n+=' <span style="color: #888">'+t+"</span>"),n}function He(e,t){var n=(t.prefix||"")+" "+(t.desc||"");De(e,Fe(t.prefix,t.desc),n,t.onClose,t)}function ze(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],i=0;i<n.length;i++){var r=n[i];if(e[r]!==t[r])return!1}return!0}return!1}function Be(e,t,n,i){if(t){var r=Me(e),o=Re(t,!!n,!!i);if(o)return Ue(e,o),ze(o,r.getQuery())?o:(r.setQuery(o),o)}}function We(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(t&&!n.sol())return void n.skipToEnd();var i=n.match(e,!1);if(i)return 0==i[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+i[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););},query:e}}function Ue(e,t){var n=Me(e),i=n.getOverlay();i&&t==i.query||(i&&e.removeOverlay(i),i=We(t),e.addOverlay(i),e.showMatchesOnScrollbar&&(n.getScrollbarAnnotate()&&n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(i))}function qe(e,t,n,r){return void 0===r&&(r=1),e.operation(function(){for(var o=e.getCursor(),a=e.getSearchCursor(n,o),s=0;s<r;s++){var l=a.find(t);if(0==s&&l&&G(a.from(),o)&&(l=a.find(t)),!l&&(a=e.getSearchCursor(n,t?i(e.lastLine()):i(e.firstLine(),0)),!a.find(t)))return}return a.from()})}function Ve(e){var t=Me(e);e.removeOverlay(Me(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function Ke(e,t,n){return"number"!=typeof e&&(e=e.line),t instanceof Array?k(e,t):n?e>=t&&e<=n:e==t}function Ge(e){var t=e.getScrollInfo(),n=e.coordsChar({left:0,top:6+t.top},"local"),i=t.clientHeight-10+t.top,r=e.coordsChar({left:0,top:i},"local");return{top:n.line,bottom:r.line}}function Ye(e,t,n){if("'"==n){var i=e.doc.history.done,r=i[i.length-2];return r&&r.ranges&&r.ranges[0].head}if("."==n){if(0==e.doc.history.lastModTime)return;var o=e.doc.history.done.filter(function(e){if(void 0!==e.changes)return e});return o.reverse(),o[0].changes[0].to}var a=t.marks[n];return a&&a.find()}function Xe(t,n,i,r,o,a,s,l,c){function u(){t.operation(function(){for(;!g;)d(),f();h()})}function d(){var e=t.getRange(a.from(),a.to()),n=e.replace(s,l);a.replace(n)}function f(){for(;a.findNext()&&Ke(a.from(),r,o);)if(i||!m||a.from().line!=m.line)return t.scrollIntoView(a.from(),30),t.setSelection(a.from(),a.to()),m=a.from(),void(g=!1);g=!0}function h(e){if(e&&e(),t.focus(),m){t.setCursor(m);var n=t.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=m.ch}c&&c()}function p(n,i,r){switch(e.e_stop(n),e.keyName(n)){case"Y":d(),f();break;case"N":f();break;case"A":var o=c;c=void 0,t.operation(u),c=o;break;case"L":d();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":h(r)}return g&&h(r),!0}t.state.vim.exMode=!0;var g=!1,m=a.from();return f(),g?void je(t,"No matches for "+s.source):n?void He(t,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:p}):(u(),void(c&&c()))}function Qe(t){var n=t.state.vim,i=St.macroModeState,r=St.registerController.getRegister("."),o=i.isPlaying,a=i.lastInsertModeChanges,s=[];if(!o){for(var l=a.inVisualBlock&&n.lastSelection?n.lastSelection.visualBlock.height:1,c=a.changes,s=[],u=0;u<c.length;)s.push(c[u]),c[u]instanceof lt?u++:u+=l;a.changes=s,t.off("change",rt),e.off(t.getInputField(),"keydown",ct)}!o&&n.insertModeRepeat>1&&(ut(t,n,n.insertModeRepeat-1,!0),n.lastEditInputState.repeatOverride=n.insertModeRepeat),delete n.insertModeRepeat,n.insertMode=!1,t.setCursor(t.getCursor().line,t.getCursor().ch-1),t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.toggleOverwrite(!1),r.setText(a.changes.join("")),e.signal(t,"vim-mode-change",{mode:"normal"}),i.isRecording&&nt(i)}function Je(e){t.unshift(e)}function Ze(e,t,n,i,r){var o={keys:e,type:t};o[t]=n,o[t+"Args"]=i;for(var a in r)o[a]=r[a];Je(o)}function et(t,n,i,r){var o=St.registerController.getRegister(r);if(":"==r)return o.keyBuffer[0]&&Ft.processCommand(t,o.keyBuffer[0]),void(i.isPlaying=!1);var a=o.keyBuffer,s=0;i.isPlaying=!0,i.replaySearchQueries=o.searchQueries.slice(0);for(var l=0;l<a.length;l++)for(var c,u,d=a[l];d;)if(c=/<\w+-.+?>|<\w+>|./.exec(d),u=c[0],d=d.substring(c.index+u.length),e.Vim.handleKey(t,u,"macro"),n.insertMode){var f=o.insertModeChanges[s++].changes;St.macroModeState.lastInsertModeChanges.changes=f,dt(t,f,1),Qe(t)}i.isPlaying=!1}function tt(e,t){if(!e.isPlaying){var n=e.latestRegister,i=St.registerController.getRegister(n);i&&i.pushText(t)}}function nt(e){if(!e.isPlaying){var t=e.latestRegister,n=St.registerController.getRegister(t);n&&n.pushInsertModeChanges&&n.pushInsertModeChanges(e.lastInsertModeChanges)}}function it(e,t){if(!e.isPlaying){var n=e.latestRegister,i=St.registerController.getRegister(n);i&&i.pushSearchQuery&&i.pushSearchQuery(t)}}function rt(e,t){var n=St.macroModeState,i=n.lastInsertModeChanges;if(!n.isPlaying)for(;t;){if(i.expectCursorActivityForChange=!0,"+input"==t.origin||"paste"==t.origin||void 0===t.origin){var r=t.text.join("\n");i.maybeReset&&(i.changes=[],i.maybeReset=!1),e.state.overwrite&&!/\n/.test(r)?i.changes.push([r]):i.changes.push(r)}t=t.next}}function ot(e){var t=e.state.vim;if(t.insertMode){var n=St.macroModeState;if(n.isPlaying)return;var i=n.lastInsertModeChanges;i.expectCursorActivityForChange?i.expectCursorActivityForChange=!1:i.maybeReset=!0}else e.curOp.isVimOp||st(e,t);t.visualMode&&at(e)}function at(e){var t=e.state.vim,n=F(e,K(t.sel.head)),i=z(n,0,1);t.fakeCursor&&t.fakeCursor.clear(),t.fakeCursor=e.markText(n,i,{className:"cm-animate-fat-cursor"})}function st(t,n){var i=t.getCursor("anchor"),r=t.getCursor("head");if(n.visualMode&&!t.somethingSelected()?fe(t,!1):n.visualMode||n.insertMode||!t.somethingSelected()||(n.visualMode=!0,n.visualLine=!1,e.signal(t,"vim-mode-change",{mode:"visual"})),n.visualMode){var o=Y(r,i)?0:-1,a=Y(r,i)?-1:0;r=z(r,0,o),i=z(i,0,a),n.sel={anchor:i,head:r},$e(t,n,"<",X(r,i)),$e(t,n,">",Q(r,i))}else n.insertMode||(n.lastHPos=t.getCursor().ch)}function lt(e){this.keyName=e}function ct(t){function n(){return r.maybeReset&&(r.changes=[],r.maybeReset=!1),r.changes.push(new lt(o)),!0}var i=St.macroModeState,r=i.lastInsertModeChanges,o=e.keyName(t);o&&(-1==o.indexOf("Delete")&&-1==o.indexOf("Backspace")||e.lookupKey(o,"vim-insert",n))}function ut(e,t,n,i){function r(){s?At.processAction(e,t,t.lastEditActionCommand):At.evalInput(e,t)}function o(n){if(a.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var i=a.lastInsertModeChanges;dt(e,i.changes,n)}}var a=St.macroModeState;a.isPlaying=!0;var s=!!t.lastEditActionCommand,l=t.inputState;if(t.inputState=t.lastEditInputState,s&&t.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;c<n;c++)r(),o(1);else i||r(),o(n);t.inputState=l,t.insertMode&&!i&&Qe(e),a.isPlaying=!1}function dt(t,n,i){function r(n){return"string"==typeof n?e.commands[n](t):n(t),!0}var o=t.getCursor("head"),a=St.macroModeState.lastInsertModeChanges.inVisualBlock;if(a){var s=t.state.vim,l=s.lastSelection,c=B(l.anchor,l.head);re(t,o,c.line+1),i=t.listSelections().length,t.setCursor(o)}for(var u=0;u<i;u++){a&&t.setCursor(z(o,u,0));for(var d=0;d<n.length;d++){var f=n[d];if(f instanceof lt)e.lookupKey(f.keyName,"vim-insert",r);else if("string"==typeof f){var h=t.getCursor();t.replaceRange(f,h,h)}else{var p=t.getCursor(),g=z(p,0,f[0].length);t.replaceRange(f[0],p,g)}}}a&&t.setCursor(z(o,0,1))}e.defineOption("vimMode",!1,function(t,n,i){n&&"vim"!=t.getOption("keyMap")?t.setOption("keyMap","vim"):!n&&i!=e.Init&&/^vim/.test(t.getOption("keyMap"))&&t.setOption("keyMap","default")});var ft={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},ht={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},pt=/[\d]/,gt=[e.isWordChar,function(t){return t&&!e.isWordChar(t)&&!/\s/.test(t)}],mt=[function(e){return/\S/.test(e)}],vt=g(65,26),yt=g(97,26),bt=g(48,10),wt=[].concat(vt,yt,bt,["<",">"]),xt=[].concat(vt,yt,bt,["-",'"',".",":","/"]),kt={};C("filetype",void 0,"string",["ft"],function(e,t){if(void 0!==t){if(void 0===e){var n=t.getOption("mode");return"null"==n?"":n}var n=""==e?"null":e;t.setOption("mode",n)}});var Ct=function(){function e(e,t,s){function l(t){var r=++i%n,o=a[r];o&&o.clear(),a[r]=e.setBookmark(t)}var c=i%n,u=a[c];if(u){var d=u.find();d&&!G(d,t)&&l(t)}else l(t);l(s),r=i,(o=i-n+1)<0&&(o=0)}function t(e,t){i+=t,i>r?i=r:i<o&&(i=o);var s=a[(n+i)%n];if(s&&!s.find()){var l,c=t>0?1:-1,u=e.getCursor();do{if(i+=c,(s=a[(n+i)%n])&&(l=s.find())&&!G(u,l))break}while(i<r&&i>o)}return s}var n=100,i=-1,r=0,o=0,a=new Array(n);return{cachedCursor:void 0,add:e,move:t}},$t=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};_.prototype={exitMacroRecordMode:function(){var e=St.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=St.registerController.getRegister(t);n&&(n.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog("(recording)["+t+"]",null,{bottom:!0})),this.isRecording=!0)}};var St,_t,Tt={buildKeyMap:function(){},getRegisterController:function(){return St.registerController},resetVimGlobalState_:A,getVimGlobalState_:function(){return St},maybeInitVimState_:T,suppressErrorLogging:!1,InsertModeKey:lt,map:function(e,t,n){Ft.map(e,t,n)},unmap:function(e,t){Ft.unmap(e,t)},setOption:$,getOption:S,defineOption:C,defineEx:function(e,t,n){if(t){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;jt[e]=n,Ft.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,n){var i=this.findKey(e,t,n);if("function"==typeof i)return i()},findKey:function(n,i,r){function o(){var e=St.macroModeState;if(e.isRecording){if("q"==i)return e.exitMacroRecordMode(),M(n),!0;"mapping"!=r&&tt(e,i)}}function a(){if("<Esc>"==i)return M(n),c.visualMode?fe(n):c.insertMode&&Qe(n),!0}function s(t){for(var r;t;)r=/<\w+-.+?>|<\w+>|./.exec(t),i=r[0],t=t.substring(r.index+i.length),e.Vim.handleKey(n,i,"mapping")}var l,c=T(n);return l=c.insertMode?function(){if(a())return!0;for(var e=c.inputState.keyBuffer=c.inputState.keyBuffer+i,r=1==i.length,o=At.matchCommand(e,t,c.inputState,"insert");e.length>1&&"full"!=o.type;){var e=c.inputState.keyBuffer=e.slice(1),s=At.matchCommand(e,t,c.inputState,"insert");"none"!=s.type&&(o=s)}if("none"==o.type)return M(n),!1;if("partial"==o.type)return _t&&window.clearTimeout(_t),_t=window.setTimeout(function(){c.insertMode&&c.inputState.keyBuffer&&M(n)},S("insertModeEscKeysTimeout")),!r;if(_t&&window.clearTimeout(_t),r){for(var l=n.listSelections(),u=0;u<l.length;u++){var d=l[u].head;n.replaceRange("",z(d,0,-(e.length-1)),d,"+input")}St.macroModeState.lastInsertModeChanges.changes.pop()}return M(n),o.command}():function(){if(o()||a())return!0;var e=c.inputState.keyBuffer=c.inputState.keyBuffer+i;if(/^[1-9]\d*$/.test(e))return!0;var r=/^(\d*)(.*)$/.exec(e);if(!r)return M(n),!1;var s=c.visualMode?"visual":"normal",l=At.matchCommand(r[2]||r[1],t,c.inputState,s);if("none"==l.type)return M(n),!1;if("partial"==l.type)return!0;c.inputState.keyBuffer="";var r=/^(\d*)(.*)$/.exec(e);return r[1]&&"0"!=r[1]&&c.inputState.pushRepeatDigit(r[1]),l.command}(),!1===l?void 0:!0===l?function(){return!0}:function(){return n.operation(function(){n.curOp.isVimOp=!0;try{"keyToKey"==l.type?s(l.toKeys):At.processCommand(n,c,l)}catch(t){throw n.state.vim=void 0,T(n),e.Vim.suppressErrorLogging||console.log(t),t}return!0})}},handleEx:function(e,t){Ft.processCommand(e,t)},defineMotion:P,defineAction:j,defineOperator:R,mapCommand:Ze,_mapCommand:Je,defineRegister:I,exitVisualMode:fe,exitInsertMode:Qe};E.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},E.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},D.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push($t(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},O.prototype={pushText:function(e,t,n,i,r){i&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var o=this.isValidRegister(e)?this.getRegister(e):null;if(!o){switch(t){case"yank":this.registers[0]=new D(n,i,r);break;case"delete":case"change":-1==n.indexOf("\n")?this.registers["-"]=new D(n,i):(this.shiftNumericRegisters_(),this.registers[1]=new D(n,i))}return void this.unnamedRegister.setText(n,i,r)}w(e)?o.pushText(n,i):o.setText(n,i,r),this.unnamedRegister.setText(o.toString(),i)},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new D),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&k(e,xt)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},N.prototype={nextMatch:function(e,t){var n=this.historyBuffer,i=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var r=this.iterator+i;t?r>=0:r<n.length;r+=i)for(var o=n[r],a=0;a<=o.length;a++)if(this.initialPrefix==o.substring(0,a))return this.iterator=r,o;return r>=n.length?(this.iterator=n.length,this.initialPrefix):r<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var At={matchCommand:function(e,t,n,i){var r=W(e,t,i,n);if(!r.full&&!r.partial)return{type:"none"};if(!r.full&&r.partial)return{type:"partial"};for(var o,a=0;a<r.full.length;a++){var s=r.full[a];o||(o=s)}if("<character>"==o.keys.slice(-11)){var l=q(e);if(!l)return{type:"none"};n.selectedCharacter=l}return{type:"full",command:o}},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=H(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var i=t.inputState;if(i.operator){if(i.operator==n.operator)return i.motion="expandToLine",i.motionArgs={linewise:!0},void this.evalInput(e,t);M(e)}i.operator=n.operator,i.operatorArgs=H(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var i=t.visualMode,r=H(n.operatorMotionArgs);r&&i&&r.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),i||this.processMotion(e,t,n)},processAction:function(e,t,n){var i=t.inputState,r=i.getRepeat(),o=!!r,a=H(n.actionArgs)||{};i.selectedCharacter&&(a.selectedCharacter=i.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),a.repeat=r||1,a.repeatIsExplicit=o,a.registerName=i.registerName,M(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,i,n),Dt[n.action](e,a,t)},processSearch:function(t,n,i){function r(e,r,o){St.searchHistoryController.pushInput(e),St.searchHistoryController.reset();try{Be(t,e,r,o)}catch(n){return je(t,"Invalid regex: "+e),void M(t)}At.processMotion(t,n,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:i.searchArgs.toJumplist}})}function o(e){t.scrollTo(f.left,f.top),r(e,!0,!0);var n=St.macroModeState;n.isRecording&&it(n,e)}function a(n,i,r){var o,a,s=e.keyName(n);"Up"==s||"Down"==s?(o="Up"==s,a=n.target?n.target.selectionEnd:0,i=St.searchHistoryController.nextMatch(i,o)||"",r(i),a&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(a,n.target.value.length))):"Left"!=s&&"Right"!=s&&"Ctrl"!=s&&"Alt"!=s&&"Shift"!=s&&St.searchHistoryController.reset();var c;try{c=Be(t,i,!0,!0)}catch(n){}c?t.scrollIntoView(qe(t,!l,c),30):(Ve(t),t.scrollTo(f.left,f.top))}function s(n,i,r){var o=e.keyName(n);"Esc"==o||"Ctrl-C"==o||"Ctrl-["==o||"Backspace"==o&&""==i?(St.searchHistoryController.pushInput(i),St.searchHistoryController.reset(),Be(t,d),Ve(t),t.scrollTo(f.left,f.top),e.e_stop(n),M(t),r(),t.focus()):"Up"==o||"Down"==o?e.e_stop(n):"Ctrl-U"==o&&(e.e_stop(n),r(""))}if(t.getSearchCursor){var l=i.searchArgs.forward,c=i.searchArgs.wholeWordOnly;Me(t).setReversed(!l);var u=l?"/":"?",d=Me(t).getQuery(),f=t.getScrollInfo();switch(i.searchArgs.querySrc){case"prompt":var h=St.macroModeState;if(h.isPlaying){var p=h.replaySearchQueries.shift();r(p,!0,!1)}else He(t,{onClose:o,prefix:u,desc:Lt,onKeyUp:a,onKeyDown:s});break;case"wordUnderCursor":var g=me(t,!1,!0,!1,!0),m=!0;if(g||(g=me(t,!1,!0,!1,!1),m=!1),!g)return;var p=t.getLine(g.start.line).substring(g.start.ch,g.end.ch);p=m&&c?"\\b"+p+"\\b":te(p),St.jumpList.cachedCursor=t.getCursor(),t.setCursor(g.start),r(p,!0,!1)}}},processEx:function(t,n,i){function r(e){St.exCommandHistoryController.pushInput(e),St.exCommandHistoryController.reset(),Ft.processCommand(t,e)}function o(n,i,r){var o,a,s=e.keyName(n);("Esc"==s||"Ctrl-C"==s||"Ctrl-["==s||"Backspace"==s&&""==i)&&(St.exCommandHistoryController.pushInput(i),St.exCommandHistoryController.reset(),e.e_stop(n),M(t),r(),t.focus()),"Up"==s||"Down"==s?(e.e_stop(n),o="Up"==s,a=n.target?n.target.selectionEnd:0,i=St.exCommandHistoryController.nextMatch(i,o)||"",r(i),a&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(a,n.target.value.length))):"Ctrl-U"==s?(e.e_stop(n),r("")):"Left"!=s&&"Right"!=s&&"Ctrl"!=s&&"Alt"!=s&&"Shift"!=s&&St.exCommandHistoryController.reset()}"keyToEx"==i.type?Ft.processCommand(t,i.exArgs.input):n.visualMode?He(t,{onClose:r,prefix:":",value:"'<,'>",onKeyDown:o}):He(t,{onClose:r,prefix:":",onKeyDown:o})},evalInput:function(e,t){var n,r,o,a=t.inputState,s=a.motion,l=a.motionArgs||{},c=a.operator,u=a.operatorArgs||{},d=a.registerName,f=t.sel,h=K(t.visualMode?F(e,f.head):e.getCursor("head")),p=K(t.visualMode?F(e,f.anchor):e.getCursor("anchor")),g=K(h),m=K(p);if(c&&this.recordLastEdit(t,a),o=void 0!==a.repeatOverride?a.repeatOverride:a.getRepeat(),o>0&&l.explicitRepeat?l.repeatIsExplicit=!0:(l.noRepeat||!l.explicitRepeat&&0===o)&&(o=1,l.repeatIsExplicit=!1),a.selectedCharacter&&(l.selectedCharacter=u.selectedCharacter=a.selectedCharacter),l.repeat=o,M(e),s){var v=Et[s](e,h,l,t);if(t.lastMotion=Et[s],!v)return;if(l.toJumplist){var y=St.jumpList,b=y.cachedCursor;b?(ve(e,b,v),delete y.cachedCursor):ve(e,h,v)}v instanceof Array?(r=v[0],n=v[1]):n=v,n||(n=K(h)),t.visualMode?(t.visualBlock&&n.ch===1/0||(n=F(e,n,t.visualBlock)),r&&(r=F(e,r,!0)),r=r||m,f.anchor=r,f.head=n,ce(e),$e(e,t,"<",Y(r,n)?r:n),$e(e,t,">",Y(r,n)?n:r)):c||(n=F(e,n),e.setCursor(n.line,n.ch))}if(c){if(u.lastSel){r=m;var w=u.lastSel,x=Math.abs(w.head.line-w.anchor.line),k=Math.abs(w.head.ch-w.anchor.ch);n=w.visualLine?i(m.line+x,m.ch):w.visualBlock?i(m.line+x,m.ch+k):w.head.line==w.anchor.line?i(m.line,m.ch+k):i(m.line+x,m.ch),t.visualMode=!0,t.visualLine=w.visualLine,t.visualBlock=w.visualBlock,f=t.sel={anchor:r,head:n},ce(e)}else t.visualMode&&(u.lastSel={anchor:K(f.anchor),head:K(f.head),visualBlock:t.visualBlock,visualLine:t.visualLine});var C,$,S,_,T;if(t.visualMode){if(C=X(f.head,f.anchor),$=Q(f.head,f.anchor),S=t.visualLine||u.linewise,_=t.visualBlock?"block":S?"line":"char",T=ue(e,{anchor:C,head:$},_),S){var A=T.ranges;if("block"==_)for(var E=0;E<A.length;E++)A[E].head.ch=Z(e,A[E].head.line);else"line"==_&&(A[0].head=i(A[0].head.line+1,0))}}else{if(C=K(r||m),$=K(n||g),Y($,C)){var D=C;C=$,$=D}S=l.linewise||u.linewise,S?pe(e,C,$):l.forward&&he(e,C,$),_="char",T=ue(e,{anchor:C,head:$},_,!l.inclusive||S)}e.setSelections(T.ranges,T.primary),t.lastMotion=null,u.repeat=o,u.registerName=d,u.linewise=S;var I=Mt[c](e,u,T.ranges,m,n);t.visualMode&&fe(e,null!=I),I&&e.setCursor(I)}},recordLastEdit:function(e,t,n){var i=St.macroModeState;i.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,i.lastInsertModeChanges.changes=[],i.lastInsertModeChanges.expectCursorActivityForChange=!1)}},Et={moveToTopLine:function(e,t,n){var r=Ge(e).top+n.repeat-1;return i(r,ge(e.getLine(r)))},moveToMiddleLine:function(e){var t=Ge(e),n=Math.floor(.5*(t.top+t.bottom));return i(n,ge(e.getLine(n)))},moveToBottomLine:function(e,t,n){var r=Ge(e).bottom-n.repeat+1;return i(r,ge(e.getLine(r)))},expandToLine:function(e,t,n){return i(t.line+n.repeat-1,1/0)},findNext:function(e,t,n){var i=Me(e),r=i.getQuery();if(r){var o=!n.forward;return o=i.isReversed()?!o:o,Ue(e,r),qe(e,o,r,n.repeat)}},goToMark:function(e,t,n,i){var r=Ye(e,i,n.selectedCharacter);return r?n.linewise?{line:r.line,ch:ge(e.getLine(r.line))}:r:null},moveToOtherHighlightedEnd:function(e,t,n,r){if(r.visualBlock&&n.sameLine){var o=r.sel;return[F(e,i(o.anchor.line,o.head.ch)),F(e,i(o.head.line,o.anchor.ch))]}return[r.sel.head,r.sel.anchor]},jumpToMark:function(e,t,n,r){for(var o=t,a=0;a<n.repeat;a++){var s=o;for(var l in r.marks)if(v(l)){var c=r.marks[l].find(),u=n.forward?Y(c,s):Y(s,c);if(!(u||n.linewise&&c.line==s.line)){var d=G(s,o),f=n.forward?J(s,c,o):J(o,c,s);(d||f)&&(o=c)}}}return n.linewise&&(o=i(o.line,ge(e.getLine(o.line)))),o},moveByCharacters:function(e,t,n){var r=t,o=n.repeat,a=n.forward?r.ch+o:r.ch-o;return i(r.line,a)},moveByLines:function(e,t,n,r){var o=t,a=o.ch;switch(r.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:a=r.lastHPos;break;default:r.lastHPos=a}var s=n.repeat+(n.repeatOffset||0),l=n.forward?o.line+s:o.line-s,c=e.firstLine(),u=e.lastLine();return l<c&&o.line==c?this.moveToStartOfLine(e,t,n,r):l>u&&o.line==u?this.moveToEol(e,t,n,r):(n.toFirstChar&&(a=ge(e.getLine(l)),r.lastHPos=a),r.lastHSPos=e.charCoords(i(l,a),"div").left,i(l,a))},moveByDisplayLines:function(e,t,n,r){var o=t;switch(r.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:r.lastHSPos=e.charCoords(o,"div").left}var a=n.repeat,s=e.findPosV(o,n.forward?a:-a,"line",r.lastHSPos);if(s.hitSide)if(n.forward)var l=e.charCoords(s,"div"),c={top:l.top+8,left:r.lastHSPos},s=e.coordsChar(c,"div");else{var u=e.charCoords(i(e.firstLine(),0),"div");u.left=r.lastHSPos,s=e.coordsChar(u,"div")}return r.lastHPos=s.ch,s},moveByPage:function(e,t,n){var i=t,r=n.repeat;return e.findPosV(i,n.forward?r:-r,"page")},moveByParagraph:function(e,t,n){var i=n.forward?1:-1;return _e(e,t,n.repeat,i)},moveByScroll:function(e,t,n,i){var r=e.getScrollInfo(),o=null,a=n.repeat;a||(a=r.clientHeight/(2*e.defaultTextHeight()));var s=e.charCoords(t,"local");n.repeat=a;var o=Et.moveByDisplayLines(e,t,n,i);if(!o)return null;var l=e.charCoords(o,"local");return e.scrollTo(null,r.top+l.top-s.top),o},moveByWords:function(e,t,n){return xe(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},moveTillCharacter:function(e,t,n){var i=n.repeat,r=ke(e,i,n.forward,n.selectedCharacter),o=n.forward?-1:1;return ye(o,n),r?(r.ch+=o,r):null},moveToCharacter:function(e,t,n){var i=n.repeat;return ye(0,n),ke(e,i,n.forward,n.selectedCharacter)||t},moveToSymbol:function(e,t,n){return be(e,n.repeat,n.forward,n.selectedCharacter)||t},moveToColumn:function(e,t,n,i){var r=n.repeat;return i.lastHPos=r-1,i.lastHSPos=e.charCoords(t,"div").left,Ce(e,r)},moveToEol:function(e,t,n,r){var o=t;r.lastHPos=1/0;var a=i(o.line+n.repeat-1,1/0),s=e.clipPos(a);return s.ch--,r.lastHSPos=e.charCoords(s,"div").left,a},moveToFirstNonWhiteSpaceCharacter:function(e,t){var n=t;return i(n.line,ge(e.getLine(n.line)))},moveToMatchedSymbol:function(e,t){for(var n,r=t,o=r.line,a=r.ch,s=e.getLine(o);a<s.length;a++)if((n=s.charAt(a))&&y(n)){var l=e.getTokenTypeAt(i(o,a+1));if("string"!==l&&"comment"!==l)break}return a<s.length?e.findMatchingBracket(i(o,a)).to:r},moveToStartOfLine:function(e,t){return i(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t,n){var r=n.forward?e.lastLine():e.firstLine();return n.repeatIsExplicit&&(r=n.repeat-e.getOption("firstLineNumber")),i(r,ge(e.getLine(r)))},textObjectManipulation:function(e,t,n,i){var r={"(":")",")":"(","{":"}","}":"{","[":"]","]":"["},o={"'":!0,'"':!0},a=n.selectedCharacter;"b"==a?a="(":"B"==a&&(a="{");var s,l=!n.textObjectInner;if(r[a])s=Te(e,t,a,l);else if(o[a])s=Ae(e,t,a,l);else if("W"===a)s=me(e,l,!0,!0);else if("w"===a)s=me(e,l,!0,!1);else{if("p"!==a)return null;if(s=_e(e,t,n.repeat,0,l),n.linewise=!0,i.visualMode)i.visualLine||(i.visualLine=!0);else{var c=i.inputState.operatorArgs;c&&(c.linewise=!0),s.end.line--}}return e.state.vim.visualMode?le(e,s.start,s.end):[s.start,s.end]},repeatLastCharacterSearch:function(e,t,n){var i=St.lastCharacterSearch,r=n.repeat,o=n.forward===i.forward,a=(i.increment?1:0)*(o?-1:1);e.moveH(-a,"char"),n.inclusive=!!o;var s=ke(e,r,o,i.selectedCharacter);return s?(s.ch+=a,s):(e.moveH(a,"char"),t)}},Mt={change:function(t,n,r){var o,a,s=t.state.vim;if(St.macroModeState.lastInsertModeChanges.inVisualBlock=s.visualBlock,s.visualMode){a=t.getSelection();var l=L("",r.length);t.replaceSelections(l),o=X(r[0].head,r[0].anchor)}else{var c=r[0].anchor,u=r[0].head;a=t.getRange(c,u);var d=s.lastEditInputState||{};if("moveByWords"==d.motion&&!x(a)){var f=/\s+$/.exec(a);f&&d.motionArgs&&d.motionArgs.forward&&(u=z(u,0,-f[0].length),a=a.slice(0,-f[0].length))}var h=new i(c.line-1,Number.MAX_VALUE),p=t.firstLine()==t.lastLine();u.line>t.lastLine()&&n.linewise&&!p?t.replaceRange("",h,u):t.replaceRange("",c,u),n.linewise&&(p||(t.setCursor(h),e.commands.newlineAndIndent(t)),c.ch=Number.MAX_VALUE),o=c}St.registerController.pushText(n.registerName,"change",a,n.linewise,r.length>1),Dt.enterInsertMode(t,{head:o},t.state.vim)},delete:function(e,t,n){var r,o,a=e.state.vim;if(a.visualBlock){o=e.getSelection();var s=L("",n.length);e.replaceSelections(s),r=n[0].anchor}else{var l=n[0].anchor,c=n[0].head;t.linewise&&c.line!=e.firstLine()&&l.line==e.lastLine()&&l.line==c.line-1&&(l.line==e.firstLine()?l.ch=0:l=i(l.line-1,Z(e,l.line-1))),o=e.getRange(l,c),e.replaceRange("",l,c),r=l,t.linewise&&(r=Et.moveToFirstNonWhiteSpaceCharacter(e,l))}return St.registerController.pushText(t.registerName,"delete",o,t.linewise,a.visualBlock),F(e,r,a.insertMode)},indent:function(e,t,n){var i=e.state.vim,r=n[0].anchor.line,o=i.visualBlock?n[n.length-1].anchor.line:n[0].head.line,a=i.visualMode?t.repeat:1;t.linewise&&o--;for(var s=r;s<=o;s++)for(var l=0;l<a;l++)e.indentLine(s,t.indentRight);return Et.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},changeCase:function(e,t,n,i,r){for(var o=e.getSelections(),a=[],s=t.toLower,l=0;l<o.length;l++){var c=o[l],u="";if(!0===s)u=c.toLowerCase();else if(!1===s)u=c.toUpperCase();else for(var d=0;d<c.length;d++){var f=c.charAt(d);u+=w(f)?f.toLowerCase():f.toUpperCase()}a.push(u)}return e.replaceSelections(a),t.shouldMoveCursor?r:!e.state.vim.visualMode&&t.linewise&&n[0].anchor.line+1==n[0].head.line?Et.moveToFirstNonWhiteSpaceCharacter(e,i):t.linewise?i:X(n[0].anchor,n[0].head)},yank:function(e,t,n,i){var r=e.state.vim,o=e.getSelection(),a=r.visualMode?X(r.sel.anchor,r.sel.head,n[0].head,n[0].anchor):i;return St.registerController.pushText(t.registerName,"yank",o,t.linewise,r.visualBlock),a}},Dt={jumpListWalk:function(e,t,n){if(!n.visualMode){var i=t.repeat,r=t.forward,o=St.jumpList,a=o.move(e,r?i:-i),s=a?a.find():void 0;s=s||e.getCursor(),e.setCursor(s)}},scroll:function(e,t,n){if(!n.visualMode){var i=t.repeat||1,r=e.defaultTextHeight(),o=e.getScrollInfo().top,a=r*i,s=t.forward?o+a:o-a,l=K(e.getCursor()),c=e.charCoords(l,"local");if(t.forward)s>c.top?(l.line+=(s-c.top)/r,l.line=Math.ceil(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.top)):e.scrollTo(null,s);else{var u=s+e.getScrollInfo().clientHeight;u<c.bottom?(l.line-=(c.bottom-u)/r,l.line=Math.floor(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,s)}}},scrollToCursor:function(e,t){var n=e.getCursor().line,r=e.charCoords(i(n,0),"local"),o=e.getScrollInfo().clientHeight,a=r.top,s=r.bottom-a;switch(t.position){case"center":a=a-o/2+s;break;case"bottom":a=a-o+s}e.scrollTo(null,a)},replayMacro:function(e,t,n){var i=t.selectedCharacter,r=t.repeat,o=St.macroModeState;for("@"==i&&(i=o.latestRegister);r--;)et(e,n,o,i)},enterMacroRecordMode:function(e,t){var n=St.macroModeState,i=t.selectedCharacter;St.registerController.isValidRegister(i)&&n.enterMacroRecordMode(e,i)},toggleOverwrite:function(t){t.state.overwrite?(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})):(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(t,n,r){if(!t.getOption("readOnly")){r.insertMode=!0,r.insertModeRepeat=n&&n.repeat||1;var o=n?n.insertAt:null,a=r.sel,s=n.head||t.getCursor("head"),l=t.listSelections().length;if("eol"==o)s=i(s.line,Z(t,s.line));else if("charAfter"==o)s=z(s,0,1);else if("firstNonBlank"==o)s=Et.moveToFirstNonWhiteSpaceCharacter(t,s);else if("startOfSelectedArea"==o)r.visualBlock?(s=i(Math.min(a.head.line,a.anchor.line),Math.min(a.head.ch,a.anchor.ch)),l=Math.abs(a.head.line-a.anchor.line)+1):s=a.head.line<a.anchor.line?a.head:i(a.anchor.line,0);else if("endOfSelectedArea"==o)r.visualBlock?(s=i(Math.min(a.head.line,a.anchor.line),Math.max(a.head.ch+1,a.anchor.ch)),l=Math.abs(a.head.line-a.anchor.line)+1):s=a.head.line>=a.anchor.line?z(a.head,0,1):i(a.anchor.line,0);else if("inplace"==o&&r.visualMode)return;t.setOption("disableInput",!1),n&&n.replace?(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"})):(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})),St.macroModeState.isPlaying||(t.on("change",rt),e.on(t.getInputField(),"keydown",ct)),r.visualMode&&fe(t),re(t,s,l)}},toggleVisualMode:function(t,n,r){var o,a=n.repeat,s=t.getCursor();r.visualMode?r.visualLine^n.linewise||r.visualBlock^n.blockwise?(r.visualLine=!!n.linewise,r.visualBlock=!!n.blockwise,e.signal(t,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""}),ce(t)):fe(t):(r.visualMode=!0,r.visualLine=!!n.linewise,r.visualBlock=!!n.blockwise,o=F(t,i(s.line,s.ch+a-1),!0),r.sel={anchor:s,head:o},e.signal(t,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""}),ce(t),$e(t,r,"<",X(s,o)),$e(t,r,">",Q(s,o)))},reselectLastSelection:function(t,n,i){var r=i.lastSelection;if(i.visualMode&&se(t,i),r){var o=r.anchorMark.find(),a=r.headMark.find();if(!o||!a)return;i.sel={anchor:o,head:a},i.visualMode=!0,i.visualLine=r.visualLine,i.visualBlock=r.visualBlock,ce(t),$e(t,i,"<",X(o,a)),$e(t,i,">",Q(o,a)),e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""})}},joinLines:function(e,t,n){var r,o;if(n.visualMode){if(r=e.getCursor("anchor"),o=e.getCursor("head"),Y(o,r)){var a=o;o=r,r=a}o.ch=Z(e,o.line)-1}else{var s=Math.max(t.repeat,2);r=e.getCursor(),o=F(e,i(r.line+s-1,1/0))}for(var l=0,c=r.line;c<o.line;c++){l=Z(e,r.line);var a=i(r.line+1,Z(e,r.line+1)),u=e.getRange(r,a);u=u.replace(/\n\s*/g," "),e.replaceRange(u,r,a)}var d=i(r.line,l);n.visualMode&&fe(e,!1),e.setCursor(d)},newLineAndEnterInsertMode:function(t,n,r){r.insertMode=!0;var o=K(t.getCursor());o.line!==t.firstLine()||n.after?(o.line=n.after?o.line:o.line-1,o.ch=Z(t,o.line),t.setCursor(o),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t)):(t.replaceRange("\n",i(t.firstLine(),0)),t.setCursor(t.firstLine(),0)),this.enterInsertMode(t,{repeat:n.repeat},r)},paste:function(e,t,n){var r=K(e.getCursor()),o=St.registerController.getRegister(t.registerName),a=o.toString();if(a){if(t.matchIndent){var s=e.getOption("tabSize"),l=function(e){var t=e.split("\t").length-1,n=e.split(" ").length-1;return t*s+1*n},c=e.getLine(e.getCursor().line),u=l(c.match(/^\s*/)[0]),d=a.replace(/\n$/,""),f=a!==d,h=l(a.match(/^\s*/)[0]),a=d.replace(/^\s*/gm,function(t){var n=u+(l(t)-h);if(n<0)return"";if(e.getOption("indentWithTabs")){var i=Math.floor(n/s);return Array(i+1).join("\t")}return Array(n+1).join(" ")});a+=f?"\n":""}if(t.repeat>1)var a=Array(t.repeat+1).join(a);var p=o.linewise,g=o.blockwise;if(p)n.visualMode?a=n.visualLine?a.slice(0,-1):"\n"+a.slice(0,a.length-1)+"\n":t.after?(a="\n"+a.slice(0,a.length-1),r.ch=Z(e,r.line)):r.ch=0;else{if(g){a=a.split("\n");for(var m=0;m<a.length;m++)a[m]=""==a[m]?" ":a[m]}r.ch+=t.after?1:0}var v,y;if(n.visualMode){n.lastPastedText=a;var b,w=ae(e,n),x=w[0],k=w[1],C=e.getSelection(),$=e.listSelections(),S=new Array($.length).join("1").split("1");n.lastSelection&&(b=n.lastSelection.headMark.find()),St.registerController.unnamedRegister.setText(C),g?(e.replaceSelections(S),k=i(x.line+a.length-1,x.ch),e.setCursor(x),ie(e,k),e.replaceSelections(a),v=x):n.visualBlock?(e.replaceSelections(S),e.setCursor(x),e.replaceRange(a,x,x),v=x):(e.replaceRange(a,x,k),v=e.posFromIndex(e.indexFromPos(x)+a.length-1)),b&&(n.lastSelection.headMark=e.setBookmark(b)),p&&(v.ch=0)}else if(g){e.setCursor(r);for(var m=0;m<a.length;m++){var _=r.line+m;_>e.lastLine()&&e.replaceRange("\n",i(_,0));var T=Z(e,_);T<r.ch&&ne(e,_,r.ch)}e.setCursor(r),ie(e,i(r.line+a.length-1,r.ch)),e.replaceSelections(a),v=r}else e.replaceRange(a,r),p&&t.after?v=i(r.line+1,ge(e.getLine(r.line+1))):p&&!t.after?v=i(r.line,ge(e.getLine(r.line))):!p&&t.after?(y=e.indexFromPos(r),v=e.posFromIndex(y+a.length-1)):(y=e.indexFromPos(r),v=e.posFromIndex(y+a.length));n.visualMode&&fe(e,!1),e.setCursor(v)}},undo:function(t,n){t.operation(function(){V(t,e.commands.undo,n.repeat)(),t.setCursor(t.getCursor("anchor"))})},redo:function(t,n){V(t,e.commands.redo,n.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){$e(e,n,t.selectedCharacter,e.getCursor())},replace:function(t,n,r){var o,a,s=n.selectedCharacter,l=t.getCursor(),c=t.listSelections();if(r.visualMode)l=t.getCursor("start"),a=t.getCursor("end");else{var u=t.getLine(l.line);o=l.ch+n.repeat,o>u.length&&(o=u.length),a=i(l.line,o)}if("\n"==s)r.visualMode||t.replaceRange("",l,a),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t);else{var d=t.getRange(l,a);if(d=d.replace(/[^\n]/g,s),r.visualBlock){var f=new Array(t.getOption("tabSize")+1).join(" ");d=t.getSelection(),d=d.replace(/\t/g,f).replace(/[^\n]/g,s).split("\n"),t.replaceSelections(d)}else t.replaceRange(d,l,a);r.visualMode?(l=Y(c[0].anchor,c[0].head)?c[0].anchor:c[0].head,t.setCursor(l),fe(t,!1)):t.setCursor(z(a,0,-1))}},incrementNumberToken:function(e,t){for(var n,r,o,a,s,l=e.getCursor(),c=e.getLine(l.line),u=/-?\d+/g;null!==(n=u.exec(c))&&(s=n[0],r=n.index,o=r+s.length,!(l.ch<o)););if((t.backtrack||!(o<=l.ch))&&s){var d=t.increase?1:-1,f=parseInt(s)+d*t.repeat,h=i(l.line,r),p=i(l.line,o);a=f.toString(),e.replaceRange(a,h,p),e.setCursor(i(l.line,r+a.length-1))}},repeatLastEdit:function(e,t,n){if(n.lastEditInputState){var i=t.repeat;i&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=i:i=n.lastEditInputState.repeatOverride||i,ut(e,n,i,!1)}},indent:function(e,t){e.indentLine(e.getCursor().line,t.indentRight)},exitInsertMode:Qe},It={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Ot={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(++e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};C("pcre",!0,"boolean"),Ee.prototype={getQuery:function(){return St.query},setQuery:function(e){St.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return St.isReversed},setReversed:function(e){St.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};var Nt={"\\n":"\n","\\r":"\r","\\t":"\t"},Pt={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"},Lt="(Javascript regexp)",Rt=function(){this.buildCommandMap_()};Rt.prototype={processCommand:function(e,t,n){var i=this;e.operation(function(){e.curOp.isVimOp=!0,i._processCommand(e,t,n)})},_processCommand:function(t,n,i){var r=t.state.vim,o=St.registerController.getRegister(":"),a=o.toString();r.visualMode&&fe(t);var s=new e.StringStream(n);o.setText(n);var l=i||{};l.input=n;try{this.parseInput_(t,s,l)}catch(e){throw je(t,e),e}var c,u;if(l.commandName){if(c=this.matchCommand_(l.commandName)){if(u=c.name,c.excludeFromCommandHistory&&o.setText(a),this.parseCommandArgs_(s,l,c),"exToKey"==c.type){for(var d=0;d<c.toKeys.length;d++)e.Vim.handleKey(t,c.toKeys[d],"mapping");return}if("exToEx"==c.type)return void this.processCommand(t,c.toInput)}}else void 0!==l.line&&(u="move");if(!u)return void je(t,'Not an editor command ":'+n+'"');try{jt[u](t,l),c&&c.possiblyAsync||!l.callback||l.callback()}catch(e){throw je(t,e),e}},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var i=t.match(/^(\w+)/);return n.commandName=i?i[1]:t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return this.parseLineSpecOffset_(t,e.getCursor().line);case"$":return this.parseLineSpecOffset_(t,e.lastLine());case"'":var i=t.next(),r=Ye(e,e.state.vim,i);if(!r)throw new Error("Mark not set");return this.parseLineSpecOffset_(t,r.line);case"-":case"+":return t.backUp(1),this.parseLineSpecOffset_(t,e.getCursor().line);default:return void t.backUp(1)}},parseLineSpecOffset_:function(e,t){var n=e.match(/^([+-])?(\d+)/);if(n){var i=parseInt(n[2],10);"-"==n[1]?t-=i:t+=i}return t},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var i=n.argDelimiter||/\s+/,r=ee(t.argString).split(i);r.length&&r[0]&&(t.args=r)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var i=this.commandMap_[n];if(0===i.name.indexOf(e))return i}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<n.length;e++){var t=n[e],i=t.shortName||t.name;this.commandMap_[i]=t}},map:function(e,n,i){if(":"!=e&&":"==e.charAt(0)){if(i)throw Error("Mode not supported for ex mappings");var r=e.substring(1);":"!=n&&":"==n.charAt(0)?this.commandMap_[r]={name:r,type:"exToEx",toInput:n.substring(1),user:!0}:this.commandMap_[r]={name:r,type:"exToKey",toKeys:n,user:!0}}else if(":"!=n&&":"==n.charAt(0)){var o={keys:e,type:"keyToEx",exArgs:{input:n.substring(1)}};i&&(o.context=i),t.unshift(o)}else{var o={keys:e,type:"keyToKey",toKeys:n};i&&(o.context=i),t.unshift(o)}},unmap:function(e,n){if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var i=e.substring(1);if(this.commandMap_[i]&&this.commandMap_[i].user)return void delete this.commandMap_[i]}else for(var r=e,o=0;o<t.length;o++)if(r==t[o].keys&&t[o].context===n)return void t.splice(o,1);throw Error("No such mapping.")}};var jt={colorscheme:function(e,t){if(!t.args||t.args.length<1)return void je(e,e.getOption("theme"));e.setOption("theme",t.args[0])},map:function(e,t,n){var i=t.args;if(!i||i.length<2)return void(e&&je(e,"Invalid mapping: "+t.input));Ft.map(i[0],i[1],n)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,n){var i=t.args;if(!i||i.length<1)return void(e&&je(e,"No such mapping: "+t.input));Ft.unmap(i[0],n)},move:function(e,t){At.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args,i=t.setCfg||{};if(!n||n.length<1)return void(e&&je(e,"Invalid mapping: "+t.input));var r=n[0].split("="),o=r[0],a=r[1],s=!1;if("?"==o.charAt(o.length-1)){if(a)throw Error("Trailing characters: "+t.argString);o=o.substring(0,o.length-1),s=!0}void 0===a&&"no"==o.substring(0,2)&&(o=o.substring(2),a=!1);var l=kt[o]&&"boolean"==kt[o].type;if(l&&void 0==a&&(a=!0),!l&&void 0===a||s){var c=S(o,e,i);c instanceof Error?je(e,c.message):!0===c||!1===c?je(e," "+(c?"":"no")+o):je(e,"  "+o+"="+c)}else{var u=$(o,a,e,i);u instanceof Error&&je(e,u.message)}},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var n=t.args,i=St.registerController.registers,r="----------Registers----------<br><br>";if(n){var o;n=n.join("");for(var a=0;a<n.length;a++)if(o=n.charAt(a),St.registerController.isValidRegister(o)){var s=i[o]||new D;r+='"'+o+"    "+s.toString()+"<br>"}}else for(var o in i){var l=i[o].toString();l.length&&(r+='"'+o+"    "+l+"<br>")}je(e,r)},sort:function(t,n){function r(e,t){if(a){var n;n=e,e=t,t=n}s&&(e=e.toLowerCase(),t=t.toLowerCase());var i=c&&v.exec(e),r=c&&v.exec(t);return i?(i=parseInt((i[1]+i[2]).toLowerCase(),y),r=parseInt((r[1]+r[2]).toLowerCase(),y),i-r):e<t?-1:1}function o(e,t){if(a){var n;n=e,e=t,t=n}return s&&(e[0]=e[0].toLowerCase(),t[0]=t[0].toLowerCase()),e[0]<t[0]?-1:1}var a,s,l,c,u,d=function(){if(n.argString){var t=new e.StringStream(n.argString);if(t.eat("!")&&(a=!0),t.eol())return;if(!t.eatSpace())return"Invalid arguments";var i=t.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!i&&!t.eol())return"Invalid arguments";if(i[1]){s=-1!=i[1].indexOf("i"),l=-1!=i[1].indexOf("u");var r=-1!=i[1].indexOf("d")||-1!=i[1].indexOf("n")&&1,o=-1!=i[1].indexOf("x")&&1,d=-1!=i[1].indexOf("o")&&1;if(r+o+d>1)return"Invalid arguments";c=r&&"decimal"||o&&"hex"||d&&"octal"}i[2]&&(u=new RegExp(i[2].substr(1,i[2].length-2),s?"i":""))}}();if(d)return void je(t,d+": "+n.argString);var f=n.line||t.firstLine(),h=n.lineEnd||n.line||t.lastLine();if(f!=h){var p=i(f,0),g=i(h,Z(t,h)),m=t.getRange(p,g).split("\n"),v=u||("decimal"==c?/(-?)([\d]+)/:"hex"==c?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==c?/([0-7]+)/:null),y="decimal"==c?10:"hex"==c?16:"octal"==c?8:null,b=[],w=[];if(c||u)for(var x=0;x<m.length;x++){var k=u?m[x].match(u):null;k&&""!=k[0]?b.push(k):!u&&v.exec(m[x])?b.push(m[x]):w.push(m[x])}else w=m;if(b.sort(u?o:r),u)for(var x=0;x<b.length;x++)b[x]=b[x].input;else c||w.sort(r);if(m=a?b.concat(w):w.concat(b),l){var C,$=m;m=[];for(var x=0;x<$.length;x++)$[x]!=C&&m.push($[x]),C=$[x]}t.replaceRange(m.join("\n"),p,g)}},global:function(e,t){var n=t.argString;if(!n)return void je(e,"Regular Expression missing from global");var i,r=void 0!==t.line?t.line:e.firstLine(),o=t.lineEnd||t.line||e.lastLine(),a=Ie(n),s=n;if(a.length&&(s=a[0],i=a.slice(1,a.length).join("/")),s)try{Be(e,s,!0,!0)}catch(t){return void je(e,"Invalid regex: "+s)}for(var l=Me(e).getQuery(),c=[],u="",d=r;d<=o;d++)l.test(e.getLine(d))&&(c.push(d+1),u+=e.getLine(d)+"<br>");if(!i)return void je(e,u);var f=0,h=function(){if(f<c.length){var t=c[f]+i;Ft.processCommand(e,t,{callback:h})}f++};h()},substitute:function(e,t){if(!e.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var n,r,o,a,s=t.argString,l=s?Ie(s):[],c="",u=!1,d=!1;if(l.length)n=l[0],c=l[1],n&&"$"===n[n.length-1]&&(n=n.slice(0,n.length-1)+"\\n",c=c?c+"\n":"\n"),void 0!==c&&(c=S("pcre")?Le(c):Pe(c),St.lastSubstituteReplacePart=c),r=l[2]?l[2].split(" "):[];else if(s&&s.length)return void je(e,"Substitutions should be of the form :s/pattern/replace/");if(r&&(o=r[0],a=parseInt(r[1]),o&&(-1!=o.indexOf("c")&&(u=!0,o.replace("c","")),-1!=o.indexOf("g")&&(d=!0,o.replace("g","")),n=n+"/"+o)),n)try{Be(e,n,!0,!0)}catch(t){return void je(e,"Invalid regex: "+n)}if(void 0===(c=c||St.lastSubstituteReplacePart))return void je(e,"No previous substitute regular expression");var f=Me(e),h=f.getQuery(),p=void 0!==t.line?t.line:e.getCursor().line,g=t.lineEnd||p;p==e.firstLine()&&g==e.lastLine()&&(g=1/0),a&&(p=g,g=p+a-1);var m=F(e,i(p,0)),v=e.getSearchCursor(h,m);Xe(e,u,d,p,g,v,h,c,t.callback)},redo:e.commands.redo,undo:e.commands.undo,write:function(t){e.commands.save?e.commands.save(t):t.save&&t.save()},nohlsearch:function(e){Ve(e)},yank:function(e){var t=K(e.getCursor()),n=t.line,i=e.getLine(n);St.registerController.pushText("0","yank",i,!0,!0)},delmarks:function(t,n){if(!n.argString||!ee(n.argString))return void je(t,"Argument required");for(var i=t.state.vim,r=new e.StringStream(ee(n.argString));!r.eol();){r.eatSpace();var o=r.pos;if(!r.match(/[a-zA-Z]/,!1))return void je(t,"Invalid argument: "+n.argString.substring(o));var a=r.next();if(r.match("-",!0)){if(!r.match(/[a-zA-Z]/,!1))return void je(t,"Invalid argument: "+n.argString.substring(o));var s=a,l=r.next();if(!(v(s)&&v(l)||w(s)&&w(l)))return void je(t,"Invalid argument: "+s+"-");var c=s.charCodeAt(0),u=l.charCodeAt(0);if(c>=u)return void je(t,"Invalid argument: "+n.argString.substring(o));for(var d=0;d<=u-c;d++){var f=String.fromCharCode(c+d);delete i.marks[f]}}else delete i.marks[a]}}},Ft=new Rt;return e.keyMap.vim={attach:s,detach:a,call:f},C("insertModeEscKeysTimeout",200,"number"),e.keyMap["vim-insert"]={fallthrough:["default"],attach:s,detach:a,call:f},e.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:s,detach:a,call:f},A(),Tt}()}(n(15),n(140),n(371),n(141))}()},function(e,t,n){!function(e){!function(e){function t(e,t,n){var i;return i=e.getWrapperElement().appendChild(document.createElement("div")),i.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?i.innerHTML=t:i.appendChild(t),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(i,r,o){function a(e){if("string"==typeof e)d.value=e;else{if(c)return;c=!0,l.parentNode.removeChild(l),u.focus(),o.onClose&&o.onClose(l)}}o||(o={}),n(this,null);var s,l=t(this,i,o.bottom),c=!1,u=this,d=l.getElementsByTagName("input")[0];return d?(d.focus(),o.value&&(d.value=o.value,!1!==o.selectValueOnOpen&&d.select()),o.onInput&&e.on(d,"input",function(e){o.onInput(e,d.value,a)}),o.onKeyUp&&e.on(d,"keyup",function(e){o.onKeyUp(e,d.value,a)}),e.on(d,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,d.value,a)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(d.blur(),e.e_stop(t),a()),13==t.keyCode&&r(d.value,t))}),!1!==o.closeOnBlur&&e.on(d,"blur",a)):(s=l.getElementsByTagName("button")[0])&&(e.on(s,"click",function(){a(),u.focus()}),!1!==o.closeOnBlur&&e.on(s,"blur",a),s.focus()),a}),e.defineExtension("openConfirm",function(i,r,o){function a(){c||(c=!0,s.parentNode.removeChild(s),u.focus())}n(this,null);var s=t(this,i,o&&o.bottom),l=s.getElementsByTagName("button"),c=!1,u=this,d=1;l[0].focus();for(var f=0;f<l.length;++f){var h=l[f];!function(t){e.on(h,"click",function(n){e.e_preventDefault(n),a(),t&&t(u)})}(r[f]),e.on(h,"blur",function(){--d,setTimeout(function(){d<=0&&a()},200)}),e.on(h,"focus",function(){++d})}}),e.defineExtension("openNotification",function(i,r){function o(){l||(l=!0,clearTimeout(a),s.parentNode.removeChild(s))}n(this,o);var a,s=t(this,i,r&&r.bottom),l=!1,c=r&&void 0!==r.duration?r.duration:5e3;return e.on(s,"click",function(t){e.e_preventDefault(t),o()}),c&&(a=setTimeout(o,c)),o})}(n(15))}()},function(e,t,n){!function(e){!function(e){"use strict";function t(t,n,i){if(i<0&&0==n.ch)return t.clipPos(h(n.line-1));var r=t.getLine(n.line);if(i>0&&n.ch>=r.length)return t.clipPos(h(n.line+1,0));for(var o,a="start",s=n.ch,l=i<0?0:r.length,c=0;s!=l;s+=i,c++){var u=r.charAt(i<0?s-1:s),d="_"!=u&&e.isWordChar(u)?"w":"o";if("w"==d&&u.toUpperCase()==u&&(d="W"),"start"==a)"o"!=d&&(a="in",o=d);else if("in"==a&&o!=d){if("w"==o&&"W"==d&&i<0&&s--,"W"==o&&"w"==d&&i>0){o="w";continue}break}}return h(n.line,s)}function n(e,n){e.extendSelectionsBy(function(i){return e.display.shift||e.doc.extend||i.empty()?t(e.doc,i.head,n):n<0?i.from():i.to()})}function i(t,n){if(t.isReadOnly())return e.Pass;t.operation(function(){for(var e=t.listSelections().length,i=[],r=-1,o=0;o<e;o++){var a=t.listSelections()[o].head;if(!(a.line<=r)){var s=h(a.line+(n?0:1),0);t.replaceRange("\n",s,null,"+insertLine"),t.indentLine(s.line,null,!0),i.push({head:s,anchor:s}),r=a.line+1}}t.setSelections(i)}),t.execCommand("indentAuto")}function r(t,n){for(var i=n.ch,r=i,o=t.getLine(n.line);i&&e.isWordChar(o.charAt(i-1));)--i;for(;r<o.length&&e.isWordChar(o.charAt(r));)++r;return{from:h(n.line,i),to:h(n.line,r),word:o.slice(i,r)}}function o(e,t){for(var n=e.listSelections(),i=[],r=0;r<n.length;r++){var o=n[r],a=e.findPosV(o.anchor,t,"line"),s=e.findPosV(o.head,t,"line"),l={anchor:a,head:s};i.push(o),i.push(l)}e.setSelections(i)}function a(e,t,n){for(var i=0;i<e.length;i++)if(e[i].from()==t&&e[i].to()==n)return!0;return!1}function s(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i],o=r.head,a=e.scanForBracket(o,-1);if(!a)return!1;for(;;){var s=e.scanForBracket(o,1);if(!s)return!1;if(s.ch==p.charAt(p.indexOf(a.ch)+1)){n.push({anchor:h(a.pos.line,a.pos.ch+1),head:s.pos});break}o=h(s.pos.line,s.pos.ch+1)}}return e.setSelections(n),!0}function l(t,n){if(t.isReadOnly())return e.Pass;for(var i,r=t.listSelections(),o=[],a=0;a<r.length;a++){var s=r[a];if(!s.empty()){for(var l=s.from().line,c=s.to().line;a<r.length-1&&r[a+1].from().line==c;)c=r[++a].to().line;r[a].to().ch||c--,o.push(l,c)}}o.length?i=!0:o.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var e=[],r=0;r<o.length;r+=2){var a=o[r],s=o[r+1],l=h(a,0),c=h(s),u=t.getRange(l,c,!1);n?u.sort():u.sort(function(e,t){var n=e.toUpperCase(),i=t.toUpperCase();return n!=i&&(e=n,t=i),e<t?-1:e==t?0:1}),t.replaceRange(u,l,c),i&&e.push({anchor:l,head:h(s+1,0)})}i&&t.setSelections(e,0)})}function c(t,n){t.operation(function(){for(var i=t.listSelections(),o=[],a=[],s=0;s<i.length;s++){var l=i[s];l.empty()?(o.push(s),a.push("")):a.push(n(t.getRange(l.from(),l.to())))}t.replaceSelections(a,"around","case");for(var c,s=o.length-1;s>=0;s--){var l=i[o[s]];if(!(c&&e.cmpPos(l.head,c)>0)){var u=r(t,l.head);c=u.from,t.replaceRange(n(u.word),u.from,u.to)}}})}function u(t){var n=t.getCursor("from"),i=t.getCursor("to");if(0==e.cmpPos(n,i)){var o=r(t,n);if(!o.word)return;n=o.from,i=o.to}return{from:n,to:i,query:t.getRange(n,i),word:o}}function d(e,t){var n=u(e);if(n){var i=n.query,r=e.getSearchCursor(i,t?n.to:n.from);(t?r.findNext():r.findPrevious())?e.setSelection(r.from(),r.to()):(r=e.getSearchCursor(i,t?h(e.firstLine(),0):e.clipPos(h(e.lastLine()))),(t?r.findNext():r.findPrevious())?e.setSelection(r.from(),r.to()):n.word&&e.setSelection(n.from,n.to))}}var f=e.commands,h=e.Pos;f.goSubwordLeft=function(e){n(e,-1)},f.goSubwordRight=function(e){n(e,1)},f.scrollLineUp=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},f.scrollLineDown=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},f.splitSelectionByLine=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)for(var r=t[i].from(),o=t[i].to(),a=r.line;a<=o.line;++a)o.line>r.line&&a==o.line&&0==o.ch||n.push({anchor:a==r.line?r:h(a,0),head:a==o.line?o:h(a)});e.setSelections(n,0)},f.singleSelectionTop=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},f.selectLine=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i];n.push({anchor:h(r.from().line,0),head:h(r.to().line+1,0)})}e.setSelections(n)},f.insertLineAfter=function(e){return i(e,!1)},f.insertLineBefore=function(e){return i(e,!0)},f.selectNextOccurrence=function(t){var n=t.getCursor("from"),i=t.getCursor("to"),o=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,i)){var s=r(t,n);if(!s.word)return;t.setSelection(s.from,s.to),o=!0}else{var l=t.getRange(n,i),c=o?new RegExp("\\b"+l+"\\b"):l,u=t.getSearchCursor(c,i),d=u.findNext();if(d||(u=t.getSearchCursor(c,h(t.firstLine(),0)),d=u.findNext()),!d||a(t.listSelections(),u.from(),u.to()))return e.Pass;t.addSelection(u.from(),u.to())}o&&(t.state.sublimeFindFullWord=t.doc.sel)},f.addCursorToPrevLine=function(e){o(e,-1)},f.addCursorToNextLine=function(e){o(e,1)};var p="(){}[]";f.selectScope=function(e){s(e)||e.execCommand("selectAll")},f.selectBetweenBrackets=function(t){if(!s(t))return e.Pass},f.goToBracket=function(t){t.extendSelectionsBy(function(n){var i=t.scanForBracket(n.head,1);if(i&&0!=e.cmpPos(i.pos,n.head))return i.pos;var r=t.scanForBracket(n.head,-1);return r&&h(r.pos.line,r.pos.ch+1)||n.head})},f.swapLineUp=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),i=[],r=t.firstLine()-1,o=[],a=0;a<n.length;a++){var s=n[a],l=s.from().line-1,c=s.to().line;o.push({anchor:h(s.anchor.line-1,s.anchor.ch),head:h(s.head.line-1,s.head.ch)}),0!=s.to().ch||s.empty()||--c,l>r?i.push(l,c):i.length&&(i[i.length-1]=c),r=c}t.operation(function(){for(var e=0;e<i.length;e+=2){var n=i[e],r=i[e+1],a=t.getLine(n);t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),r>t.lastLine()?t.replaceRange("\n"+a,h(t.lastLine()),null,"+swapLine"):t.replaceRange(a+"\n",h(r,0),null,"+swapLine")}t.setSelections(o),t.scrollIntoView()})},f.swapLineDown=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),i=[],r=t.lastLine()+1,o=n.length-1;o>=0;o--){var a=n[o],s=a.to().line+1,l=a.from().line;0!=a.to().ch||a.empty()||s--,s<r?i.push(s,l):i.length&&(i[i.length-1]=l),r=l}t.operation(function(){for(var e=i.length-2;e>=0;e-=2){var n=i[e],r=i[e+1],o=t.getLine(n);n==t.lastLine()?t.replaceRange("",h(n-1),h(n),"+swapLine"):t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),t.replaceRange(o+"\n",h(r,0),null,"+swapLine")}t.scrollIntoView()})},f.toggleCommentIndented=function(e){e.toggleComment({indent:!0})},f.joinLines=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){for(var r=t[i],o=r.from(),a=o.line,s=r.to().line;i<t.length-1&&t[i+1].from().line==s;)s=t[++i].to().line;n.push({start:a,end:s,anchor:!r.empty()&&o})}e.operation(function(){for(var t=0,i=[],r=0;r<n.length;r++){for(var o,a=n[r],s=a.anchor&&h(a.anchor.line-t,a.anchor.ch),l=a.start;l<=a.end;l++){var c=l-t;l==a.end&&(o=h(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",h(c),h(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}i.push({anchor:s||o,head:o})}e.setSelections(i,0)})},f.duplicateLine=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;n<t;n++){var i=e.listSelections()[n];i.empty()?e.replaceRange(e.getLine(i.head.line)+"\n",h(i.head.line,0)):e.replaceRange(e.getRange(i.from(),i.to()),i.from())}e.scrollIntoView()})},f.sortLines=function(e){l(e,!0)},f.sortLinesInsensitive=function(e){l(e,!1)},f.nextBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),i=n.find();if(i)return t.push(n),e.setSelection(i.from,i.to)}},f.prevBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},f.toggleBookmark=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),i=0;i<t.length;i++){for(var r=t[i].from(),o=t[i].to(),a=e.findMarks(r,o),s=0;s<a.length;s++)if(a[s].sublimeBookmark){a[s].clear();for(var l=0;l<n.length;l++)n[l]==a[s]&&n.splice(l--,1);break}s==a.length&&n.push(e.markText(r,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},f.clearBookmarks=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},f.selectBookmarks=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var i=0;i<t.length;i++){var r=t[i].find();r?n.push({anchor:r.from,head:r.to}):t.splice(i--,0)}n.length&&e.setSelections(n,0)},f.smartBackspace=function(t){if(t.somethingSelected())return e.Pass;t.operation(function(){for(var n=t.listSelections(),i=t.getOption("indentUnit"),r=n.length-1;r>=0;r--){var o=n[r].head,a=t.getRange({line:o.line,ch:0},o),s=e.countColumn(a,null,t.getOption("tabSize")),l=t.findPosH(o,-1,"char",!1);if(a&&!/\S/.test(a)&&s%i==0){var c=new h(o.line,e.findColumn(a,s-i,i));c.ch!=o.ch&&(l=c)}t.replaceRange("",l,o,"+delete")}})},f.delLineRight=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,h(t[n].to().line),"+delete");e.scrollIntoView()})},f.upcaseAtCursor=function(e){c(e,function(e){return e.toUpperCase()})},f.downcaseAtCursor=function(e){c(e,function(e){return e.toLowerCase()})},f.setSublimeMark=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},f.selectToSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},f.deleteToSublimeMark=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var i=t.getCursor(),r=n;if(e.cmpPos(i,r)>0){var o=r;r=i,i=o}t.state.sublimeKilled=t.getRange(i,r),t.replaceRange("",i,r)}},f.swapWithSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},f.sublimeYank=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},f.showInCenter=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},f.selectLinesUpward=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var i=t[n];i.head.line>e.firstLine()&&e.addSelection(h(i.head.line-1,i.head.ch))}})},f.selectLinesDownward=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var i=t[n];i.head.line<e.lastLine()&&e.addSelection(h(i.head.line+1,i.head.ch))}})},f.findUnder=function(e){d(e,!0)},f.findUnderPrevious=function(e){d(e,!1)},f.findAllUnder=function(e){var t=u(e);if(t){for(var n=e.getSearchCursor(t.query),i=[],r=-1;n.findNext();)i.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&r++;e.setSelections(i,r)}};var g=e.keyMap;g.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Up":"addCursorToPrevLine","Shift-Cmd-Down":"addCursorToNextLine","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F9:"sortLines","Cmd-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"selectLinesUpward","Ctrl-Shift-Down":"selectLinesDownward","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},e.normalizeKeyMap(g.macSublime),g.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Alt-CtrlUp":"addCursorToPrevLine","Alt-CtrlDown":"addCursorToNextLine","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Ctrl-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"selectLinesUpward","Ctrl-Alt-Down":"selectLinesDownward","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},e.normalizeKeyMap(g.pcSublime);var m=g.default==g.macDefault;g.sublime=m?g.macSublime:g.pcSublime}(n(15),n(140),n(141))}()},function(e,t,n){!function(e){!function(e){"use strict";function t(e,t){return e.line==t.line&&e.ch==t.ch}function n(e){N.push(e),N.length>50&&N.shift()}function i(e){if(!N.length)return n(e);N[N.length-1]+=e}function r(e){return N[N.length-(e?Math.min(e,1):1)]||""}function o(){return N.length>1&&N.pop(),r()}function a(e,r,o,a,s){null==s&&(s=e.getRange(r,o)),"grow"==a&&P&&P.cm==e&&t(r,P.pos)&&e.isClean(P.gen)?i(s):!1!==a&&n(s),e.replaceRange("",r,o,"+delete"),P="grow"==a?{cm:e,pos:r,gen:e.changeGeneration()}:null}function s(e,t,n){return e.findPosH(t,n,"char",!0)}function l(e,t,n){return e.findPosH(t,n,"word",!0)}function c(e,t,n){return e.findPosV(t,n,"line",e.doc.sel.goalColumn)}function u(e,t,n){return e.findPosV(t,n,"page",e.doc.sel.goalColumn)}function d(e,t,n){for(var i=t.line,r=e.getLine(i),o=/\S/.test(n<0?r.slice(0,t.ch):r.slice(t.ch)),a=e.firstLine(),s=e.lastLine();;){if((i+=n)<a||i>s)return e.clipPos(O(i-n,n<0?0:null));if(r=e.getLine(i),/\S/.test(r))o=!0;else if(o)return O(i,0)}}function f(e,t,n){for(var i=t.line,r=t.ch,o=e.getLine(t.line),a=!1;;){var s=o.charAt(r+(n<0?-1:0));if(s){if(a&&/[!?.]/.test(s))return O(i,r+(n>0?1:0));a||(a=/\w/.test(s)),r+=n}else{if(i==(n<0?e.firstLine():e.lastLine()))return O(i,r);if(o=e.getLine(i+n),!/\S/.test(o))return O(i,r);i+=n,r=n<0?o.length:0}}}function h(e,n,i){var r;if(e.findMatchingBracket&&(r=e.findMatchingBracket(n,{strict:!0}))&&r.match&&(r.forward?1:-1)==i)return i>0?O(r.to.line,r.to.ch+1):r.to;for(var o=!0;;o=!1){var a=e.getTokenAt(n),s=O(n.line,i<0?a.start:a.end);if(!(o&&i>0&&a.end==n.ch)&&/\w/.test(a.string))return s;var l=e.findPosH(s,i,"char");if(t(s,l))return n;n=l}}function p(e,t){var n=e.state.emacsPrefix;return n?(k(e),"-"==n?-1:Number(n)):t?null:1}function g(e){var t="string"==typeof e?function(t){t.execCommand(e)}:e;return function(e){var n=p(e);t(e);for(var i=1;i<n;++i)t(e)}}function m(e,n,i,r){var o=p(e);o<0&&(r=-r,o=-o);for(var a=0;a<o;++a){var s=i(e,n,r);if(t(s,n))break;n=s}return n}function v(e,t){var n=function(n){n.extendSelection(m(n,n.getCursor(),e,t))};return n.motion=!0,n}function y(e,t,n,i){for(var r,o=e.listSelections(),s=o.length;s--;)r=o[s].head,a(e,r,m(e,r,t,n),i)}function b(e,t){if(e.somethingSelected()){for(var n,i=e.listSelections(),r=i.length;r--;)n=i[r],a(e,n.anchor,n.head,t);return!0}}function w(e,t){if(e.state.emacsPrefix)return void("-"!=t&&(e.state.emacsPrefix+=t));e.state.emacsPrefix=t,e.on("keyHandled",x),e.on("inputRead",C)}function x(e,t){e.state.emacsPrefixMap||L.hasOwnProperty(t)||k(e)}function k(e){e.state.emacsPrefix=null,e.off("keyHandled",x),e.off("inputRead",C)}function C(e,t){var n=p(e);if(n>1&&"+input"==t.origin){for(var i=t.text.join("\n"),r="",o=1;o<n;++o)r+=i;e.replaceSelection(r)}}function $(e){e.state.emacsPrefixMap=!0,e.addKeyMap(j),e.on("keyHandled",S),e.on("inputRead",S)}function S(e,t){("string"!=typeof t||!/^\d$/.test(t)&&"Ctrl-U"!=t)&&(e.removeKeyMap(j),e.state.emacsPrefixMap=!1,e.off("keyHandled",S),e.off("inputRead",S))}function _(e){e.setCursor(e.getCursor()),e.setExtending(!e.getExtending()),e.on("change",function(){e.setExtending(!1)})}function T(e){e.setExtending(!1),e.setCursor(e.getCursor())}function A(e,t,n){e.openDialog?e.openDialog(t+': <input type="text" style="width: 10em"/>',n,{bottom:!0}):n(prompt(t,""))}function E(e,t){var n=e.getCursor(),i=e.findPosH(n,1,"word");e.replaceRange(t(e.getRange(n,i)),n,i),e.setCursor(i)}function M(e){for(var t=e.getCursor(),n=t.line,i=t.ch,r=[];n>=e.firstLine();){for(var o=e.getLine(n),a=null==i?o.length:i;a>0;){var i=o.charAt(--a);if(")"==i)r.push("(");else if("]"==i)r.push("[");else if("}"==i)r.push("{");else if(/[\(\{\[]/.test(i)&&(!r.length||r.pop()!=i))return e.extendSelection(O(n,a))}--n,i=null}}function D(e){e.execCommand("clearSearch"),T(e)}function I(e){j[e]=function(t){w(t,e)},R["Ctrl-"+e]=function(t){w(t,e)},L["Ctrl-"+e]=!0}var O=e.Pos,N=[],P=null,L={"Alt-G":!0,"Ctrl-X":!0,"Ctrl-Q":!0,"Ctrl-U":!0};e.emacs={kill:a,killRegion:b,repeated:g};for(var R=e.keyMap.emacs=e.normalizeKeyMap({"Ctrl-W":function(e){a(e,e.getCursor("start"),e.getCursor("end"),!0)},"Ctrl-K":g(function(e){var t=e.getCursor(),n=e.clipPos(O(t.line)),i=e.getRange(t,n);/\S/.test(i)||(i+="\n",n=O(t.line+1,0)),a(e,t,n,"grow",i)}),"Alt-W":function(e){n(e.getSelection()),T(e)},"Ctrl-Y":function(e){var t=e.getCursor();e.replaceRange(r(p(e)),t,t,"paste"),e.setSelection(t,e.getCursor())},"Alt-Y":function(e){e.replaceSelection(o(),"around","paste")},"Ctrl-Space":_,"Ctrl-Shift-2":_,"Ctrl-F":v(s,1),"Ctrl-B":v(s,-1),Right:v(s,1),Left:v(s,-1),"Ctrl-D":function(e){y(e,s,1,!1)},Delete:function(e){b(e,!1)||y(e,s,1,!1)},"Ctrl-H":function(e){y(e,s,-1,!1)},Backspace:function(e){b(e,!1)||y(e,s,-1,!1)},"Alt-F":v(l,1),"Alt-B":v(l,-1),"Alt-D":function(e){y(e,l,1,"grow")},"Alt-Backspace":function(e){y(e,l,-1,"grow")},"Ctrl-N":v(c,1),"Ctrl-P":v(c,-1),Down:v(c,1),Up:v(c,-1),"Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",End:"goLineEnd",Home:"goLineStart","Alt-V":v(u,-1),"Ctrl-V":v(u,1),PageUp:v(u,-1),PageDown:v(u,1),"Ctrl-Up":v(d,-1),"Ctrl-Down":v(d,1),"Alt-A":v(f,-1),"Alt-E":v(f,1),"Alt-K":function(e){y(e,f,1,"grow")},"Ctrl-Alt-K":function(e){y(e,h,1,"grow")},"Ctrl-Alt-Backspace":function(e){y(e,h,-1,"grow")},"Ctrl-Alt-F":v(h,1),"Ctrl-Alt-B":v(h,-1),"Shift-Ctrl-Alt-2":function(e){var t=e.getCursor();e.setSelection(m(e,t,h,1),t)},"Ctrl-Alt-T":function(e){var t=h(e,e.getCursor(),-1),n=h(e,t,1),i=h(e,n,1),r=h(e,i,-1);e.replaceRange(e.getRange(r,i)+e.getRange(n,r)+e.getRange(t,n),t,i)},"Ctrl-Alt-U":g(M),"Alt-Space":function(e){for(var t=e.getCursor(),n=t.ch,i=t.ch,r=e.getLine(t.line);n&&/\s/.test(r.charAt(n-1));)--n;for(;i<r.length&&/\s/.test(r.charAt(i));)++i;e.replaceRange(" ",O(t.line,n),O(t.line,i))},"Ctrl-O":g(function(e){e.replaceSelection("\n","start")}),"Ctrl-T":g(function(e){e.execCommand("transposeChars")}),"Alt-C":g(function(e){E(e,function(e){var t=e.search(/\w/);return-1==t?e:e.slice(0,t)+e.charAt(t).toUpperCase()+e.slice(t+1).toLowerCase()})}),"Alt-U":g(function(e){E(e,function(e){return e.toUpperCase()})}),"Alt-L":g(function(e){E(e,function(e){return e.toLowerCase()})}),"Alt-;":"toggleComment","Ctrl-/":g("undo"),"Shift-Ctrl--":g("undo"),"Ctrl-Z":g("undo"),"Cmd-Z":g("undo"),"Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findPersistentNext","Ctrl-R":"findPersistentPrev","Ctrl-G":D,"Shift-Alt-5":"replace","Alt-/":"autocomplete",Enter:"newlineAndIndent","Ctrl-J":g(function(e){e.replaceSelection("\n","end")}),Tab:"indentAuto","Alt-G G":function(e){var t=p(e,!0);if(null!=t&&t>0)return e.setCursor(t-1);A(e,"Goto line",function(t){var n;t&&!isNaN(n=Number(t))&&n==(0|n)&&n>0&&e.setCursor(n-1)})},"Ctrl-X Tab":function(e){e.indentSelection(p(e,!0)||e.getOption("indentUnit"))},"Ctrl-X Ctrl-X":function(e){e.setSelection(e.getCursor("head"),e.getCursor("anchor"))},"Ctrl-X Ctrl-S":"save","Ctrl-X Ctrl-W":"save","Ctrl-X S":"saveAll","Ctrl-X F":"open","Ctrl-X U":g("undo"),"Ctrl-X K":"close","Ctrl-X Delete":function(e){a(e,e.getCursor(),f(e,e.getCursor(),1),"grow")},"Ctrl-X H":"selectAll","Ctrl-Q Tab":g("insertTab"),"Ctrl-U":$}),j={"Ctrl-G":k},F=0;F<10;++F)I(String(F));I("-")}(n(15))}()},function(e,t,n){"use strict";n(375),n(376),n(378),n(379),n(380),n(44),n(395);var i=n(419),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(145),n(146),n(147),n(439),n(451),n(148),n(99),n(465),n(149),n(467),angular.module("breadboard",["breadboard.filters","breadboard.services","breadboard.directives","breadboard.controllers","breadboard.login","breadboard.routes","breadboard.amt-admin","breadboard.customize","breadboard.create-first-user","breadboard.create-new-experiment","breadboard.instance-parameters","breadboard.steps","breadboard.content","breadboard.experiment-import","ui.utils","ui.codemirror","ui.tinymce","ui.bootstrap","ngSanitize","ngCookies"]).value("uiJqConfig",r.default)},function(e,t,n){"use strict";function i(e,t,n){var i=void 0==e?600:e,r=void 0==t?600:e,a=i/90,s=i/12,n=(d3.scale.category20(),n),l=["text"],c=1,u={},d={},f=d3.select("#graphDiv"),h=f.append("svg:svg");h.attr("width","100%"),h.attr("height","100%");var g=h.append("svg:defs"),m=g.append("svg:radialGradient");m.attr("id","circleGradient");var v=m.append("svg:stop");v.attr("offset","0%"),v.attr("stop-color","currentColor");var y=m.append("svg:stop");y.attr("offset","100%"),y.attr("stop-color","#000");var b=h.append("svg:g");b.attr("width","100%"),b.attr("height","100%"),f.call(d3.behavior.zoom().scaleExtent([.1,20]).on("zoom",function(){b.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")"),d3.event.scale>1&&b.selectAll("circle.node").attr("r",a/d3.event.scale),c=d3.event.scale}));var w=d3.layout.force().gravity(.05).charge(-1e3).linkDistance(s).size([i,r]),x=w.nodes(),k=w.links();w.on("tick",function(){b.selectAll("line.link").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),b.selectAll("circle.node").attr("transform",function(e){return"translate("+e.x+","+e.y+")"})}),this.getNodes=function(){return x},this.selectNode=function(e){b.selectAll("line.link").attr("selected",function(t){return e.id===t.source.id||e.id===t.target.id?"1":"0"}),b.selectAll("circle.node").attr("selected",function(e){return e.selected})},this.addNode=function(e,t){try{var n={id:e};if(void 0!=t)for(p in t)o.default.extend(n,p);u[e]=n,x.push(u[e]),_()}catch(e){console.error("Error in addNode: "+e.toString())}},this.removeNode=function(e){try{x.splice(x.indexOf(C(e)),1),delete u[e],_()}catch(e){console.error("Error in removeNode: "+e.toString())}},this.nodePropertyChanged=function(e,t,i){C(e)[t]=i,-1==o.default.indexOf(l,t)&&b.selectAll("circle.node").attr(t,function(e,n){return e[t]}),void 0!=n&&void 0!=n.selectedNode&&n.selectedNode.id==e&&n.$apply()},this.nodePropertyRemoved=function(e,t){C(e)[t]=null,b.selectAll("circle.node").attr(t,null),void 0!=n&&void 0!=n.selectedNode&&n.selectedNode.id==e&&n.$apply()},this.addLink=function(e,t,n,i){try{var r=C(t),o=C(n),a={id:e,source:r,target:o,value:i,selected:"1"==r.selected||"1"==o.selected?"1":"0"};d[e]=a,k.push(d[e]),_()}catch(e){console.error("Error in addLink: "+e.toString())}},this.removeLink=function(e,t,n){try{var i=d[e];k.splice(k.indexOf(i),1),delete d[e],_()}catch(e){console.error("Error in removeLink: "+e.toString())}},this.linkPropertyChanged=function(e,t,n){S(e)[t]=n,-1==o.default.indexOf(l,t)&&b.select("#link_"+e).attr(t,function(e,n){return e[t]})},this.linkPropertyRemoved=function(e,t){S(e)[t]=null,b.selectAll("line.link").attr(t,null)};var C=function(e){return u[e]},S=function(e){return d[e]},_=function(){try{var e=b.selectAll("line.link").data(k,function(e){return e.id});e.enter().insert("svg:line","circle.node").attr("id",function(e){return"link_"+e.id}).attr("class","link").attr("vector-effect","non-scaling-stroke").attr("selected",function(e){return e.selected}),e.exit().remove();var t=b.selectAll("circle.node").data(x,function(e){return e.id});t.enter().append("svg:circle").attr("class","node").attr("vector-effect","non-scaling-stroke").attr("r",c>1?a/c:a).call(w.drag),t.exit().remove(),void 0!=n&&t.on("click",function(e){var t=d3.select(this);if("1"==t.attr("selected"))e.selected="0",t.attr("selected","0"),b.selectAll("line.link").attr("selected","0");else{b.selectAll("circle.node").attr("selected",function(e){return e.selected="0","0"}),t.attr("selected","1"),e.selected="1";var i=e.id;b.selectAll("line.link").attr("selected",function(e,t){return i==e.source.id||i==e.target.id?"1":"0"}),$("#playerDiv").dialog("isOpen")&&n.selectedNode.id===i||$("#playerDiv").dialog("open"),n.selectedNode=e,n.$apply()}}),w.nodes(x).links(k).start()}catch(e){console.error("Error in update: "+e.toString())}}}var r=n(142),o=function(e){return e&&e.__esModule?e:{default:e}}(r);window.Graph=i},function(e,t,n){"use strict";var i=n(142),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(143),angular.module("breadboard.controllers",["ngFileUpload"]).controller("AppCtrl",["$scope","breadboardFactory","$timeout","$http","$state","csvService","configService","Upload","downloadService",function(e,t,n,i,o,a,s,l,c){function u(){e.customizeActions.saveCustomize()}function d(){e.stepsActions.saveSteps()}function f(){e.scriptEngineState=e.ENGINE_STATE.STALE}function h(){e.contentActions.saveContent()}function p(e){t.send({action:"SendStep",id:e.id,name:e.name,source:e.source})}e.image={file:null,path:""},s.get("imageUploadRoute").then(function(t){e.image.path=t}),e.uploadImage=function(){e.image.file&&l.upload({url:e.image.path,data:{picture:e.image.file,experimentId:e.breadboard.experiment.id}}).then(function(t){"Error uploading"===t.data?alert("Unable to upload the photo. Please select a new photo."):e.update(),e.image.file=null},function(t){console.error(t),e.image.file=null},function(e){console.log("progress",e)})},t.onmessage(function(t){try{void 0==e.breadboard&&(e.breadboard={}),e.breadboard=r.default.extend(e.breadboard,t),console.log("$scope.breadboard",e.breadboard),void 0!=e.breadboard.experiment&&(e.breadboard.experiment.style&&g(),e.breadboard.experiment.parameters)}catch(e){console.error("Parse error: "+e.toString())}}),e.lastExperimentId=-1,e.ENGINE_STATE={READY:0,LOADING:1,LOADED:2,STALE:3},e.scriptEngineLastReloaded=0,e.scriptEngineLastReloading=0,e.scriptEngineState=e.ENGINE_STATE.READY,e.$watch("breadboard.notify",function(t){console.log("notify",t),t&&(t.hasOwnProperty("ScriptEngineReloaded")&&t.ScriptEngineReloaded!==e.scriptEngineLastReloaded&&(e.scriptEngineLastReloaded=t.ScriptEngineReloaded,e.scriptEngineState=e.ENGINE_STATE.LOADED,n(function(){e.scriptEngineState=e.ENGINE_STATE.READY},1500)),t.hasOwnProperty("ScriptEngineReloading")&&t.ScriptEngineReloading!==e.scriptEngineLastReloading&&(e.scriptEngineLastReloading=t.ScriptEngineReloading,e.scriptEngineState=e.ENGINE_STATE.LOADING))}),e.nodes=[],e.selectedNode={},e.breadboardGraph=new Graph($(window).width()/2,$(window).width()/2,e),e.customizeActions={},e.stepsActions={sendStep:p,onDeleteStep:f},e.contentActions={},t.addNodeChangeListener(function(t){e.nodes=t}),e.selectNode=function(t){for(var n=0;n<e.nodes.length;n++)e.nodes[n].selected="0";t.selected="1",e.breadboardGraph.selectNode(t),e.selectedNode=t};var g=function(){$("#styleTag").text(e.breadboard.experiment.style)};e.logout=function(){i.get("/logout").then(function(e){setTimeout(function(){window.location.reload()})})},e.paramType=function(e){return"Boolean"===e?"checkbox":"Decimal"===e||"Integer"===e?"number":"text"},e.clearParameterFields=function(){e.parameterMin="",e.parameterMax="",e.parameterDefaultInteger="",e.parameterDefaultDecimal="",e.parameterDefaultText=""},e.newParameter=function(){var n="";"Integer"===e.parameterType&&(n=e.parameterDefaultInteger+""),"Decimal"===e.parameterType&&(n=e.parameterDefaultDecimal+""),"Boolean"===e.parameterType&&(n=e.parameterDefaultBoolean),"Text"===e.parameterType&&(n=e.parameterDefaultText),t.send({action:"NewParameter",name:e.parameterName,type:e.parameterType,minVal:e.parameterMin+"",maxVal:e.parameterMax+"",defaultVal:n,description:e.parameterDescription}),e.clearParameterFields(),e.parameterName="",e.parameterType="",e.parameterDescription=""},e.removeParameter=function(e){t.send({action:"RemoveParameter",id:e})},e.playerProperties=function(e){var t=["weight","x","y","px","fixed","equals","py","text","choices"],n={};for(var i in e)-1==$.inArray(i,t)&&(n[i]=e[i]);return n},e.getClientURL=function(e,t){return window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/game/"+e+"/"+t+"/login"},e.makeChoice=function(n){t.send({action:"MakeChoice",choiceUID:e.selectedNode.choices[n].uid})},e.update=function(){t.send({action:"Update"})},e.experimentChanged=function(){e.lastExperimentId!==e.breadboard.experiment.id&&(t.send({action:"SelectExperiment",experimentId:e.breadboard.experiment.id}),e.lastExperimentId=e.breadboard.experiment.id)},e.newExperiment=function(){$("#newExperimentDialog input").each(function(e,t){$(t).val("")}),$("#newExperimentDialog").dialog({title:"Create a new experiment",modal:!0})},e.openNewInstanceModal=function(){$("#newExperimentInstanceDialog").dialog({title:"Create an experiment instance",width:"600px",modal:"true"})},e.launchParameters={},e.launchGame=function(){$("#newExperimentInstanceDialog").dialog("close"),$("#launchDiv").dialog("open"),$("#graphDiv").dialog("open"),t.send({action:"LaunchGame",name:e.experimentInstanceName,parameters:e.launchParameters})},e.deleteExperiment=function(){var n=e.breadboard.user.selectedExperiment;$("#deleteExperimentDialog span.deleteExperimentName").html(n),$("#deleteExperimentDialog").dialog({title:"Delete Experiment",buttons:{Yes:function(){t.send({action:"DeleteExperiment",selectedExperiment:n}),$(this).dialog("close")},No:function(){$(this).dialog("close")}}})},e.exportExperiment=function(){c.download("/experiment/export/"+e.breadboard.experiment.id,e.breadboard.experiment.name+".zip").then(function(e){console.log("Successfully downloaded experiment")})},e.openImportDialog=function(){$("#importExperimentDialog").dialog({title:"Import Experiment"})},e.createExperiment=function(){$("#newExperimentDialog").dialog("close"),t.send({action:"CreateExperiment",name:e.newExperimentName,copyExperimentName:e.copyExperimentName})},e.deleteImage=function(e){t.send({action:"DeleteImage",imageId:e})},e.showUserSettings=function(){function t(){o.html(""),n.val(""),i.val(""),r.val(""),o.hide(),$("#saveUserSettings, #cancelUserSettings").prop("disabled",!1).removeClass("ui-state-disabled")}var n=$(".user-setting-section input#currentPassword"),i=$(".user-setting-section input#newPassword"),r=$(".user-setting-section input#confirmNewPassword"),o=$(".user-setting-section ul#changePasswordError");$("#userSettingsDialog").dialog({modal:!0,minWidth:360,beforeClose:function(e,n){t()},buttons:[{id:"saveUserSettings",text:"Save",click:function(){$("#saveUserSettings, #cancelUserSettings").prop("disabled",!0).addClass("ui-state-disabled");var a=$.trim(n.val()),s=$.trim(i.val()),l=$.trim(r.val());0==a.length&&(o.append("<li>'Current Password' is required</li>"),o.show()),0==s.length&&(o.append("<li>'New Password' is required</li>"),o.show()),l!=s&&(o.append("<li>'Confirm Password' doesn't match the new password</li>"),o.show()),$.post("/saveUserSettings",{email:e.breadboard.user.email,currentPassword:a,newPassword:s,confirmPassword:l},function(e){t(),e.success?$("#userSettingsDialog").dialog("close"):e.error&&o.append("<li>"+e.error+"</li>").show()})}},{id:"cancelUserSettings",text:"Cancel",click:function(){$(this).dialog("close")}}]})},e.selectInstance=function(e){t.send({action:"SelectInstance",id:e})},e.deleteInstance=function(e,n){$("#deleteInstanceDialogDesc").text(e),$("#deleteInstanceDialog").dialog({modal:!0,minWidth:360,buttons:[{text:"Delete",click:function(){t.send({action:"DeleteInstance",id:n}),$(this).dialog("close")}},{text:"Cancel",click:function(){$(this).dialog("close")}}]})};var m=function(){var n=e.breadboard.user.currentScript;window.getSelection&&window.getSelection().toString().length>0&&(n=window.getSelection().toString()),t.send({action:"SendScript",script:n})};e.run=function(){t.send({action:"RunGame"})},e.reload=function(){e.scriptEngineState=e.ENGINE_STATE.LOADING,t.send({action:"ReloadEngine"})},e.initStep=function(t){void 0!==e.newStepName&&t.name===e.newStepName&&(e.selectedStep=t)},e.stopGame=function(e){t.send({action:"StopGame",id:e})},e.downloadEventCsv=function(e){a.getInstanceData(e.id).then(function(t){var n=e.name+".csv",i=new Blob([t.data],{type:"text/csv"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,n);else{var r=document.createEvent("MouseEvents"),o=document.createElement("a");o.download=n,o.href=window.URL.createObjectURL(i),o.dataset.downloadurl=["text/csv",o.download,o.href].join(":"),r.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(r)}},function(e){console.error(e.data)})},e.downloadExperimentCsv=function(e){a.getExperimentInstances(e.id).then(function(t){var n=e.name+".csv",i=new Blob([t.data],{type:"text/csv"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,n);else{var r=document.createEvent("MouseEvents"),o=document.createElement("a");o.download=n,o.href=window.URL.createObjectURL(i),o.dataset.downloadurl=["text/csv",o.download,o.href].join(":"),r.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(r)}},function(e){console.error(e.data)})};var v=$(window).innerHeight()-45-55,y=$(window).innerWidth()-10;e.amtAdminDialogOptions={title:"AMT",autoOpen:!1,width:y,height:v-9,position:[5,45],buttons:{}},e.outputDialogOptions={title:"Output",autoOpen:!0,width:.5*y-5,height:.25*v-5,position:[5,50+.75*v],buttons:{}},e.scriptDialogOptions={title:"Script",autoOpen:!0,width:.5*y-5,height:.75*v-5,position:[5,45],buttons:[{text:"Execute Script",click:function(){m()}}]},e.contentDialogOptions={title:"Content",width:y,height:v,position:[5,45],autoOpen:!1,buttons:{Save:function(){h()}},dialogClass:"contentDialog"},e.stepsDialogOptions={title:"Steps",width:y,height:v,position:[5,45],autoOpen:!1,dialogClass:"steps-dialog",buttons:{Save:function(){d()}}},e.customizeDialogOptions={title:"Customize",autoOpen:!1,width:y,height:v,position:[5,45],buttons:{Save:function(){u()}}},e.graphDialogOptions={title:"Graph",autoOpen:!0,width:.5*y,height:v,position:[.5*y+5,45],buttons:{}},e.imagesDialogOptions={title:"Images",width:.5*y,height:v,position:[.5*y+5,45],autoOpen:!1,buttons:{}},e.launchDialogOptions={title:"Experiment Instances",autoOpen:!1,width:y,height:v,position:[5,45],buttons:{}},e.playerDialogOptions={title:"Players",autoOpen:!1,width:.5*y-5,height:v,position:[5,45],buttons:{}},e.parametersDialogOptions={title:"Parameters",autoOpen:!1,width:.5*y,height:v,position:[.5*y+5,45],buttons:{}},e.scriptCodemirrorOptions={lineNumbers:!0,matchBrackets:!0,mode:"text/x-groovy",extraKeys:{"Ctrl-Enter":m},vimMode:!1,showCursorWhenSelecting:!0},e.$on("$destroy",function(){$('[ui-jq="dialog"]').dialog("destroy")})}])},function(e,t){/**!
 * AngularJS file upload directives and services. Supports: file upload/drop/paste, resume, cancel/abort,
 * progress, resize, thumbnail, preview, validation and CORS
 * FileAPI Flash shim for old browsers not supporting FormData
 * @author  Danial  <danial.farid@gmail.com>
 * @version 12.2.13
 */
!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(e){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,i,r){n(this),this.__url=i;try{e.apply(this,[t,i,r])}catch(n){n.message.indexOf("Access is denied")>-1&&(this.__origError=n,e.apply(this,[t,"_fix_for_ie_crossdomain__",r]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var r=i(this);r instanceof Function&&r(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],r={url:n.__url,jsonp:!1,cache:!0,complete:function(e,i){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&t(n,"status",function(){return 0===i.status&&e&&"abort"!==e?500:i.status}),void 0!==i.statusText&&t(n,"statusText",function(){return i.statusText}),t(n,"readyState",function(){return 4}),void 0!==i.response&&t(n,"response",function(){return i.response});var r=i.responseText||(e&&0===i.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return r}),t(n,"response",function(){return r}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};r.data={},r.files={};for(var o=0;o<i.data.length;o++){var a=i.data[o];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?r.files[a.key]=a.val:r.data[a.key]=a.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(r)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do{t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent}while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var i,r,o,a,s,l=document.createElement("script"),c=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)i=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)r=window.FileAPI.jsPath;else for(o=0;o<c.length;o++)if(s=c[o].src,(a=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/))>-1){r=s.substring(0,a+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=r),l.setAttribute("src",i||r+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(i,r,o){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var a=function(){var t=r.parent();i.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(r.attr("__ngf_flash_")||(r.unbind("change"),r.unbind("click"),r.bind("change",function(e){s.apply(this,[e]),o.apply(this,[e])}),r.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(i)||(t.css("position","absolute").css("top",n(i[0]).top+"px").css("left",n(i[0]).left+"px").css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",i.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),r.css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};i.bind("mouseenter",a);var s=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",i)));var r;"load"===i.type?(e.onloadend&&e.onloadend(n("loadend",i)),r=n("load",i),e.onload&&e.onload(r),e.dispatchEvent(r)):"progress"===i.type?(r=n("progress",i),e.onprogress&&e.onprogress(r),e.dispatchEvent(r)):(r=n("error",i),e.onerror&&e.onerror(r),e.dispatchEvent(r))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}}),/**!
 * AngularJS file upload directives and services. Supoorts: file upload/drop/paste, resume, cancel/abort,
 * progress, resize, thumbnail, preview, validation and CORS
 * @author  Danial  <danial.farid@gmail.com>
 * @version 12.2.13
 */
!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var n=angular.module("ngFileUpload",[]);n.version="12.2.13",n.service("UploadBase",["$http","$q","$timeout",function(e,t,i){function r(n){function r(e){c.notify&&c.notify(e),u.progressFunc&&i(function(){u.progressFunc(e)})}function o(e){return null!=n._start&&s?{loaded:e.loaded+n._start,total:n._file&&n._file.size||e.total,type:e.type,config:n,lengthComputable:!0,target:e.target}:e}function l(){e(n).then(function(e){if(s&&n._chunkSize&&!n._finished&&n._file){var t=n._file&&n._file.size||0;r({loaded:Math.min(n._end,t),total:t,config:n,type:"progress"}),a.upload(n,!0)}else n._finished&&delete n._finished,c.resolve(e)},function(e){c.reject(e)},function(e){c.notify(e)})}n.method=n.method||"POST",n.headers=n.headers||{};var c=n._deferred=n._deferred||t.defer(),u=c.promise;return n.disableProgress||(n.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=n,r(o(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=n,r(o(e)))},!1))}}),s?n._chunkSize&&n._end&&!n._finished?(n._start=n._end,n._end+=n._chunkSize,l()):n.resumeSizeUrl?e.get(n.resumeSizeUrl).then(function(e){n.resumeSizeResponseReader?n._start=n.resumeSizeResponseReader(e.data):n._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),n._chunkSize&&(n._end=n._start+n._chunkSize),l()},function(e){throw e}):n.resumeSize?n.resumeSize().then(function(e){n._start=e,n._chunkSize&&(n._end=n._start+n._chunkSize),l()},function(e){throw e}):(n._chunkSize&&(n._start=0,n._end=n._start+n._chunkSize),l()):l(),u.success=function(e){return u.then(function(t){e(t.data,t.status,t.headers,n)}),u},u.error=function(e){return u.then(null,function(t){e(t.data,t.status,t.headers,n)}),u},u.progress=function(e){return u.progressFunc=e,u.then(null,null,function(t){e(t)}),u},u.abort=u.pause=function(){return n.__XHR&&i(function(){n.__XHR.abort()}),u},u.xhr=function(e){return n.xhrFn=function(t){return function(){t&&t.apply(u,arguments),e.apply(u,arguments)}}(n.xhrFn),u},a.promisesCount++,u.finally&&u.finally instanceof Function&&u.finally(function(){a.promisesCount--}),u}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=this;a.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var s=this.isResumeSupported();this.isUploadInProgress=function(){return a.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&s){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var i=t.slice(e._start,e._end||t.size);return i.name=t.name,i.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),i}return t}function i(t,r,o){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))t.append(o,r);else if(a.isFile(r)){var s=n(r,t),l=o.split(",");l[1]&&(s.ngfName=l[1].replace(/^\s+|\s+$/g,""),o=l[0]),e._fileKey=e._fileKey||o,t.append(o,s,s.ngfName||s.name)}else if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+o;r.$$ngfCircularDetection=!0;try{for(var c in r)if(r.hasOwnProperty(c)&&"$$ngfCircularDetection"!==c){var u=null==e.objectKey?"[i]":e.objectKey;r.length&&parseInt(c)>-1&&(u=null==e.arrayKey?u:e.arrayKey),i(t,r[c],o+u.replace(/[ik]/g,c))}}finally{delete r.$$ngfCircularDetection}}else t.append(o,r)}return t||(e=o(e)),e._isDigested||(e._isDigested=!0,function(){e._chunkSize=a.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,r=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var o=t[n];e.formDataAppender?e.formDataAppender(r,n,o):i(r,o,n)}return r})}()),r(e)},this.http=function(t){return t=o(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=a.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,r(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var i=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),r=e.headers("content-type")||"image/WebP",o=new window.Blob([t],{type:r}),a=n.match(/.*\/(.+?)(\?.*)?$/);a.length>1&&(o.name=a[1]),i.resolve(o)},function(e){i.reject(e)}),i.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=n.version}]),n.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,i,r){function o(e,t,n){var r=[l.emptyPromise()];return angular.forEach(e,function(i,o){0===i.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:i})&&r.push(l.happyPromise(l.applyExifRotation(i),i).then(function(t){e.splice(o,1,t)}))}),i.all(r)}function a(e,t,n,r){var o=l.attrGetter("ngfResize",t,n);if(!o||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(o instanceof Function){var a=i.defer();return o(e).then(function(i){s(i,e,t,n,r).then(function(e){a.resolve(e)},function(e){a.reject(e)})},function(e){a.reject(e)})}return s(o,e,t,n,r)}function s(e,t,n,r,o){for(var a=[l.emptyPromise()],s=0;s<t.length;s++)!function(i,s){if(0===i.type.indexOf("image")){if(e.pattern&&!l.validatePattern(i,e.pattern))return;e.resizeIf=function(e,t){return l.attrGetter("ngfResizeIf",n,r,{$width:e,$height:t,$file:i})};var c=l.resize(i,e);a.push(c),c.then(function(e){t.splice(s,1,e)},function(e){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(e?(e.message?e.message:e)+": ":"")+(i&&i.name),o.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(o,t)})}}(t[s],s);return i.all(a)}var l=r;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,i,r){var o=this.getAttrWithDefaults(n,t);if(!i)return o;try{return r?e(o)(i,r):e(o)(i)}catch(e){if(t.search(/min|max|pattern/i))return o;throw e}},l.shouldUpdateOn=function(e,t,n){var i=l.attrGetter("ngfModelOptions",t,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var r=i.defer();return e.then(function(e){r.resolve(e)},function(e){t(function(){throw e}),r.resolve(n)}),r.promise},l.updateModel=function(n,i,r,s,c,u,d){function f(o,a,c,d,f){i.$$ngfPrevValidFiles=o,i.$$ngfPrevInvalidFiles=a;var h=o&&o.length?o[0]:null,p=a&&a.length?a[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(f?h:o)),s&&e(s)(r,{$files:o,$file:h,$newFiles:c,$duplicateFiles:d,$invalidFiles:a,$invalidFile:p,$event:u});var g=l.attrGetter("ngfModelInvalid",i);g&&t(function(){e(g).assign(r,f?p:a)}),t(function(){})}function h(){function e(){t(function(){f(w?g.concat(b):b,w?m.concat(y):y,c,v,x)},C&&C.debounce?C.debounce.change||C.debounce:0)}var o=k?p:b;a(o,i,r,n).then(function(){k?l.validate(p,w?g.length:0,n,i,r).then(function(t){b=t.validsFiles,y=t.invalidsFiles,e()}):e()},function(){for(var t=0;t<o.length;t++){var n=o[t];if("resize"===n.$error){var i=b.indexOf(n);i>-1&&(b.splice(i,1),y.push(n)),e()}}})}var p,g,m,v=[],y=[],b=[];g=i.$$ngfPrevValidFiles||[],m=i.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(e){return angular.isArray(e)?e:[e]}(n.$modelValue));var w=l.attrGetter("ngfKeep",i,r);p=(c||[]).slice(0),"distinct"!==w&&!0!==l.attrGetter("ngfKeepDistinct",i,r)||function(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}if(c){p=[],v=[];for(var t=0;t<c.length;t++)!function(t){var n;for(n=0;n<g.length;n++)if(e(t,g[n]))return!0;for(n=0;n<m.length;n++)if(e(t,m[n]))return!0;return!1}(c[t])?p.push(c[t]):v.push(c[t])}}();var x=!w&&!l.attrGetter("ngfMultiple",i,r)&&!l.attrGetter("multiple",i);if(!w||p.length){l.attrGetter("ngfBeforeModelChange",i,r,{$files:c,$file:c&&c.length?c[0]:null,$newFiles:p,$duplicateFiles:v,$event:u});var k=l.attrGetter("ngfValidateAfterResize",i,r),C=l.attrGetter("ngfModelOptions",i,r);l.validate(p,w?g.length:0,n,i,r).then(function(e){d?f(p,[],c,v,x):(C&&C.allowInvalid||k?b=p:(b=e.validFiles,y=e.invalidFiles),l.attrGetter("ngfFixOrientation",i,r)&&l.isExifSupported()?o(b,i,r).then(function(){h()}):h())})}},l}]),n.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,i){function r(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,i,o,s,l,c){function u(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return y("ngfChange")||y("ngfSelect")}function f(t){if(c.shouldUpdateOn("change",n,e)){var r=t.__files_||t.target&&t.target.files,o=[];if(!r)return;for(var a=0;a<r.length;a++)o.push(r[a]);c.updateModel(i,n,e,d(),o.length?o:null,t)}}function h(e,i){function r(t){e.attr("id","ngf-"+t),i.attr("id","ngf-label-"+t)}for(var o=0;o<t[0].attributes.length;o++){var a=t[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(r(a.value),b.push(n.$observe("id",r))):e.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}}function p(n){if(t.attr("disabled"))return!1;if(!y("ngfSelectDisabled",e)){var i=g(n);if(null!=i)return i;m(n);try{u()||document.body.contains(k[0])||(a.push({el:t,ref:k.parent()}),document.body.appendChild(k.parent()[0]),k.bind("change",f))}catch(e){}return r(navigator.userAgent)?setTimeout(function(){k[0].click()},0):k[0].click(),!1}}function g(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return x=t[0].clientX,w=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,i=t[0].clientY;if(Math.abs(n-x)>20||Math.abs(i-w)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}function m(t){c.shouldUpdateOn("click",n,e)&&k.val()&&(k.val(null),c.updateModel(i,n,e,d(),null,t,!0))}function v(e){if(k&&!k.attr("__ngf_ie10_Fix_")){if(!k[0].parentNode)return void(k=null);e.preventDefault(),e.stopPropagation(),k.unbind("click");var t=k.clone();return k.replaceWith(t),k=t,k.attr("__ngf_ie10_Fix_","true"),k.bind("change",f),k.bind("click",v),k[0].click(),!1}k.removeAttr("__ngf_ie10_Fix_")}var y=function(e,t){return c.attrGetter(e,n,t)};c.registerModelChangeValidator(i,n,e);var b=[];y("ngfMultiple")&&b.push(e.$watch(y("ngfMultiple"),function(){k.attr("multiple",y("ngfMultiple",e))})),y("ngfCapture")&&b.push(e.$watch(y("ngfCapture"),function(){k.attr("capture",y("ngfCapture",e))})),y("ngfAccept")&&b.push(e.$watch(y("ngfAccept"),function(){k.attr("accept",y("ngfAccept",e))})),b.push(n.$observe("accept",function(){k.attr("accept",y("accept"))}));var w=0,x=0,k=t;u()||(k=function(){if(u())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),h(e,n),a.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}()),k.bind("change",f),u()?t.bind("click",m):t.bind("click touchstart touchend",p),-1!==navigator.appVersion.indexOf("MSIE 10")&&k.bind("click",v),i&&i.$formatters.push(function(e){return null!=e&&0!==e.length||k.val()&&k.val(null),e}),e.$on("$destroy",function(){u()||k.parent().remove(),angular.forEach(b,function(e){e()})}),s(function(){for(var e=0;e<a.length;e++){var t=a[e];document.body.contains(t.el[0])||(a.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,k,f)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(r,a,s,l){o(r,a,s,l,e,t,n,i)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,i,r,o,a,s,l){function c(e){var a=t.attrGetter("ngfNoObjectUrl",o,i);t.dataUrl(e,a).finally(function(){n(function(){var t=(a?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?r.css("background-image","url('"+(t||"")+"')"):r.attr("src",t),t?r.removeClass("ng-hide"):r.addClass("ng-hide")})})}n(function(){var n=i.$watch(o[a],function(n){var u=s;if("ngfThumbnail"===a&&(u||(u={width:r[0].naturalWidth||r[0].clientWidth,height:r[0].naturalHeight||r[0].clientHeight}),0===u.width&&window.getComputedStyle)){var d=getComputedStyle(r[0]);d.width&&d.width.indexOf("px")>-1&&d.height&&d.height.indexOf("px")>-1&&(u={width:parseInt(d.width.slice(0,-2)),height:parseInt(d.height.slice(0,-2))})}if(angular.isString(n))return r.removeClass("ng-hide"),l?r.css("background-image","url('"+n+"')"):r.attr("src",n);!n||!n.type||0!==n.type.search(e(r[0]))||l&&0!==n.type.indexOf("image")?r.addClass("ng-hide"):u&&t.isResizeSupported()?(u.resizeIf=function(e,r){return t.attrGetter("ngfResizeIf",o,i,{$width:e,$height:r,$file:n})},t.resize(n,u).then(function(e){c(e)},function(e){throw e})):c(n)});i.$on("$destroy",function(){n()})})}n.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var i=e;return i.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),r=0;return angular.forEach(e,function(n){i.dataUrl(n,!0).finally(function(){if(++r===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return i.dataUrl(e,!0)},i.dataUrl=function(e,r){if(!e)return i.emptyPromise(e,e);if(r&&null!=e.$ngfDataUrl||!r&&null!=e.$ngfBlobUrl)return i.emptyPromise(r?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=r?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var o;try{o=n.createObjectURL(e)}catch(n){return void t(function(){e.$ngfBlobUrl="",a.reject()})}t(function(){if(e.$ngfBlobUrl=o,o){a.resolve(o,e),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:o,size:e.size}),i.blobUrlsTotalSize+=e.size||0;for(var t=i.defaults.blobUrlsMaxMemory||268435456,r=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>t||i.blobUrls.length>r)&&i.blobUrls.length>1;){var s=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),i.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,a.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},s.onerror=function(){t(function(){e.$ngfDataUrl="",a.reject()})},s.readAsDataURL(e)}}else t(function(){e[r?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),o=r?e.$$ngfDataUrlPromise=a.promise:e.$$ngfBlobUrlPromise=a.promise,o.finally(function(){delete e[r?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},i}]),n.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){t(e,n,i,r,o,"ngfSrc",e.attrGetter("ngfResize",o,i),!1)}}}]),n.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){t(e,n,i,r,o,"ngfBackground",e.attrGetter("ngfResize",o,i),!0)}}}]),n.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){var a=e.attrGetter("ngfSize",o,i);t(e,n,i,r,o,"ngfThumbnail",a,e.attrGetter("ngfAsBackground",o,i))}}}]),n.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),n.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,i,r){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?r?t.trustAsResourceUrl(o):o:n)||"")}}])}(),n.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function i(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var r=e.split(",");if(r.length>1)for(var o=0;o<r.length;o++){var a=i(r[o]);a.regexp?(t+="("+a.regexp+")",o<r.length-1&&(t+="|")):n=n.concat(a.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+i(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function r(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var n=i(t),r=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");r=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");r=r&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return r},o.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(i){if(e.$dirty){var r=i;i&&!angular.isArray(i)&&(r=[i]),o.validate(r,0,e,t,n).then(function(){o.applyModelValidation(e,r)})}return i})},o.applyModelValidation=function(e,t){r(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,n,i,r){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,e,t,{$file:r});if(null==s&&(s=o.attrGetter("ngfValidate",e,t,{$file:r}))){var l=(i||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(e,n,i,r,a){function s(t,n,s){if(e){for(var l=e.length,c=null;l--;){var h=e[l];if(h){var p=o.getValidationAttr(r,a,t,n,h);null!=p&&(s(h,p,l)||(-1===u.indexOf(t)?(h.$error=t,(h.$errorMessages=h.$errorMessages||{})[t]=!0,h.$errorParam=p,-1===f.indexOf(h)&&f.push(h),d||e.splice(l,1),c=!1):e.splice(l,1)))}}null!==c&&i.$ngfValidations.push({name:t,valid:c})}}function l(n,s,l,h,p){function g(t,i,r){function o(o){if(o())if(-1===u.indexOf(n)){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=r,-1===f.indexOf(i)&&f.push(i),!d){var a=e.indexOf(i);a>-1&&e.splice(a,1)}t.resolve(!1)}else{var s=e.indexOf(i);s>-1&&e.splice(s,1),t.resolve(!0)}else t.resolve(!0)}null!=r?h(i,r).then(function(e){o(function(){return!p(e,r)})},function(){o(function(){return c("ngfValidateForce",{$file:i})})}):t.resolve(!0)}var m=[o.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var i=t.defer();if(m.push(i.promise),l&&(null==e.type||0!==e.type.search(l)))return void i.resolve(!0);"dimensions"===n&&null!=o.attrGetter("ngfDimensions",r)?o.imageDimensions(e).then(function(t){g(i,e,c("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){i.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",r)?o.mediaDuration(e).then(function(t){g(i,e,c("ngfDuration",{$file:e,$duration:t}))},function(){i.resolve(!1)}):g(i,e,o.getValidationAttr(r,a,n,s,e))}));var v=t.defer();return t.all(m).then(function(e){for(var t=!0,r=0;r<e.length;r++)if(!e[r]){t=!1;break}i.$ngfValidations.push({name:n,valid:t}),v.resolve(t)}),v.promise}i=i||{},i.$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(e){e.valid=!0});var c=function(e,t){return o.attrGetter(e,r,a,t)},u=(o.attrGetter("ngfIgnoreInvalid",r,a)||"").split(" "),d=o.attrGetter("ngfRunAllValidations",r,a);if(null==e||0===e.length)return o.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var f=[];s("pattern",null,o.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var h=0;if(s("maxTotalSize",null,function(t,n){return!((h+=t.size)>o.translateScalars(n)&&(e.splice(0,e.length),1))}),s("validateFn",null,function(e,t){return!0===t||null===t||""===t}),!e.length)return o.emptyPromise({validFiles:[],invalidFiles:f});var p=t.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),g.push(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e})),g.push(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),i=!1,r=0;r<n.length;r++)Math.abs(e.width/e.height-o.ratioToFloat(n[r]))<.01&&(i=!0);return i})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=o.translateScalars(t)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)})),g.push(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e})),g.push(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return!0===e||null===e||""===e})),t.all(g).then(function(){if(d)for(var t=0;t<e.length;t++){var i=e[t];i.$error&&e.splice(t--,1)}d=!1,s("maxFiles",null,function(e,t,i){return n+i<t}),p.resolve({validFiles:e,invalidFiles:f})}),p.promise},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var i=t.defer();return n(function(){i.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),i.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var r=t.defer();return n(function(){if(0!==e.type.indexOf("image"))return void r.reject("not image");o.dataUrl(e).then(function(t){function i(){var t=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,r.resolve({width:t,height:n})}function o(){s.remove(),r.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?i():l++>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",i),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){r.reject("load error")})}),e.$ngfDimensionPromise=r.promise,e.$ngfDimensionPromise.finally(function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var i=t.defer();return n(function(){i.resolve(e.$ngfDuration)}),i.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var r=t.defer();return n(function(){if(0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video"))return void r.reject("not media");o.dataUrl(e).then(function(t){function i(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),r.resolve(t)}function o(){s.remove(),r.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?i():l>10?o():a())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",i),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){r.reject("load error")})}),e.$ngfDurationPromise=r.promise,e.$ngfDurationPromise.finally(function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),n.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,i=function(e,t,n,i,r){var o=r?Math.max(n/e,i/t):Math.min(n/e,i/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-i}},r=function(e,r,o,a,s,l,c,u){var d=t.defer(),f=document.createElement("canvas"),h=document.createElement("img");return h.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(h),h.onload=function(){var e=h.width,t=h.height;if(h.parentNode.removeChild(h),null!=u&&!1===u(e,t))return void d.reject("resizeIf");try{if(l){var p=n.ratioToFloat(l);e/t<p?(r=e,o=r/p):(o=t,r=o*p)}r||(r=e),o||(o=t);var g=i(e,t,r,o,c);f.width=Math.min(g.width,r),f.height=Math.min(g.height,o),f.getContext("2d").drawImage(h,Math.min(0,-g.marginX/2),Math.min(0,-g.marginY/2),g.width,g.height),d.resolve(f.toDataURL(s||"image/WebP",a||.934))}catch(e){d.reject(e)}},h.onerror=function(){h.parentNode.removeChild(h),d.reject()},h.src=e,d.promise};return n.dataUrltoBlob=function(e,t,n){for(var i=e.split(","),r=i[0].match(/:(.*?);/)[1],o=atob(i[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:r});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,i){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var o=t.defer();return n.dataUrl(e,!0).then(function(t){r(t,i.width,i.height,i.quality,i.type||e.type,i.ratio,i.centerCrop,i.resizeIf).then(function(r){if("image/jpeg"===e.type&&!1!==i.restoreExif)try{r=n.restoreExif(t,r)}catch(e){setTimeout(function(){throw e},1)}try{var a=n.dataUrltoBlob(r,e.name,e.size);o.resolve(a)}catch(e){o.reject(e)}},function(t){"resizeIf"===t&&o.resolve(e),o.reject(t)})},function(e){o.reject(e)}),o.promise},n}]),function(){function e(e,n,i,r,o,a,s,l,c,u){function d(){return n.attr("disabled")||y("ngfDropDisabled",e)}function f(t,n,i){if(t){var r;try{r=t&&t.getData&&t.getData("text/html")}catch(e){}m(t.items,t.files,!1!==y("ngfAllowDir",e),y("multiple")||y("ngfMultiple",e)).then(function(e){e.length?h(e,n):p(i,r).then(function(e){h(e,n)})})}}function h(t,n){l.updateModel(r,i,e,y("ngfChange")||y("ngfDrop"),t,n)}function p(t,n){if(!l.shouldUpdateOn(t,i,e)||"string"!=typeof n)return l.rejectPromise([]);var r=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){r.push(n)});var o=[],a=[];if(r.length){angular.forEach(r,function(e){o.push(l.urlToBlob(e).then(function(e){a.push(e)}))});var s=u.defer();return u.all(o).then(function(){s.resolve(a)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function g(e,t,n,i){var r=y("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(r))o=r;else if(r&&(r.delay&&(k=r.delay),r.accept||r.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=r.pattern||y("ngfPattern",e,{$event:n}),c=a.length;c--;){if(!l.validatePattern(a[c],s)){o=r.reject;break}o=r.accept}else o=r.accept}i(o)}function m(t,n,r,o){function a(e,t){var n=u.defer();if(null!=e)if(e.isDirectory){var i=[l.emptyPromise()];if(f){var r={type:"directory"};r.name=r.path=(t||"")+e.name,h.push(r)}var o=e.createReader(),s=[],g=function(){o.readEntries(function(r){try{r.length?(s=s.concat(Array.prototype.slice.call(r||[],0)),g()):(angular.forEach(s.slice(0),function(n){h.length<=c&&p<=d&&i.push(a(n,(t||"")+e.name+"/"))}),u.all(i).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(e){n.reject(e)}},function(e){n.reject(e)})};g()}else e.file(function(e){try{e.path=(t||"")+e.name,f&&(e=l.rename(e,e.path)),h.push(e),p+=e.size,n.resolve()}catch(e){n.reject(e)}},function(e){n.reject(e)});return n.promise}var c=l.getValidationAttr(i,e,"maxFiles");null==c&&(c=Number.MAX_VALUE);var d=l.getValidationAttr(i,e,"maxTotalSize");null==d&&(d=Number.MAX_VALUE);var f=y("ngfIncludeDir",e),h=[],p=0,g=[l.emptyPromise()];if(t&&t.length>0&&"file:"!==s.location.protocol)for(var m=0;m<t.length;m++){if(t[m].webkitGetAsEntry&&t[m].webkitGetAsEntry()&&t[m].webkitGetAsEntry().isDirectory){var v=t[m].webkitGetAsEntry();if(v.isDirectory&&!r)continue;null!=v&&g.push(a(v))}else{var b=t[m].getAsFile();null!=b&&(h.push(b),p+=b.size)}if(h.length>c||p>d||!o&&h.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var x=n.item(w);if((x.type||x.size>0)&&(h.push(x),p+=x.size),h.length>c||p>d||!o&&h.length>0)break}var k=u.defer();return u.all(g).then(function(){if(o||f||!h.length)k.resolve(h);else{for(var e=0;h[e]&&"directory"===h[e].type;)e++;k.resolve([h[e]])}},function(e){k.reject(e)}),k.promise}var v=t(),y=function(e,t,n){return l.attrGetter(e,i,t,n)};if(y("dropAvailable")&&a(function(){e[y("dropAvailable")]?e[y("dropAvailable")].value=v:e[y("dropAvailable")]=v}),!v)return void(!0===y("ngfHideOnDropNotAvailable",e)&&n.css("display","none"));null==y("ngfSelect")&&l.registerModelChangeValidator(r,i,e);var b,w=null,x=o(y("ngfStopPropagation")),k=1;n[0].addEventListener("dragover",function(t){if(!d()&&l.shouldUpdateOn("drop",i,e)){if(t.preventDefault(),x(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}a.cancel(w),b||(b="C",g(e,i,t,function(i){b=i,n.addClass(b),y("ngfDrag",e,{$isDragging:!0,$class:b,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!d()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),x(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!d()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),x(e)&&t.stopPropagation(),w=a(function(){b&&n.removeClass(b),b=null,y("ngfDrag",e,{$isDragging:!1,$event:t})},k||100))},!1),n[0].addEventListener("drop",function(t){!d()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),x(e)&&t.stopPropagation(),b&&n.removeClass(b),b=null,f(t.dataTransfer,t,"dropUrl"))},!1),n[0].addEventListener("paste",function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!d()&&l.shouldUpdateOn("paste",i,e)&&f(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}n.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,i,r,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,l,c,u){e(s,l,c,u,t,n,i,r,o,a)}}}]),n.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),n.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,i){return function(r,o,a){if(t()){var s=e(i.attrGetter("ngfDropAvailable",a));n(function(){s(r),s.assign&&s.assign(r,!0)})}}}])}(),n.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,i){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,i);case 4:return e.transform(1,0,0,-1,0,i);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,i,0);case 7:return e.transform(0,-1,-1,0,i,n);case 8:return e.transform(0,-1,1,0,0,n)}}function i(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}var r=e;return r.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&r.isResizeSupported()},r.readOrientation=function(e){var n=t.defer(),i=new FileReader,r=e.slice?e.slice(0,65536):e;return i.readAsArrayBuffer(r),i.onerror=function(e){return n.reject(e)},i.onload=function(e){var t={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(t);for(var r=i.byteLength,o=2;o<r;){var a=i.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==i.getUint32(o+=2,!1))return n.resolve(t);var s=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,s);var l=i.getUint16(o,s);o+=2;for(var c=0;c<l;c++)if(274===i.getUint16(o+12*c,s)){var u=i.getUint16(o+12*c+8,s);return u>=2&&u<=8&&(i.setUint16(o+12*c+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=u,n.resolve(t)}}else{if(65280!=(65280&a))break;o+=i.getUint16(o,!1)}}return n.resolve(t)},n.promise},r.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return r.emptyPromise(e);var o=t.defer();return r.readOrientation(e).then(function(t){if(t.orientation<2||t.orientation>8)return o.resolve(e);r.dataUrl(e,!0).then(function(a){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var a=s.getContext("2d");n(a,t.orientation,l.width,l.height),a.drawImage(l,0,0);var c=s.toDataURL(e.type||"image/WebP",.934);c=r.restoreExif(i(t.fixedArrayBuffer),c);var u=r.dataUrltoBlob(c,e.name);o.resolve(u)}catch(e){return o.reject(e)}},l.onerror=function(){o.reject()},l.src=a},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise},r.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,i,r,o,a="",s="",l="",c=0;do{t=e[c++],n=e[c++],s=e[c++],i=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",i=r=o=l=""}while(c<e.length);return a},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(r)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),a=i.slice(r),s=o;return s=s.concat(t),s=s.concat(a)},n.slice2Segments=function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var i=256*e[t+2]+e[t+3],r=t+i+2,o=e.slice(t,r);n.push(o),t=r}if(t>e.length)break}return n},n.decode64=function(e){var t,n,i,r,o,a="",s="",l=0,c=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{i=this.KEY_STR.indexOf(e.charAt(l++)),r=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=i<<2|r>>4,n=(15&r)<<4|o>>2,a=(3&o)<<6|s,c.push(t),64!==o&&c.push(n),64!==s&&c.push(a),t=n=a="",i=r=o=s=""}while(l<e.length);return c},n.restore(e,t)},r}])},function(e,t,n){"use strict";window.resizeTiny=function(){if(tinyMCE){var e=document.getElementById("contentDiv"),t=document.getElementById("contentTabsDiv"),n=document.getElementsByClassName("mce-toolbar-grp")[0];if(e&&t&&n){if(!tinyMCE.get("tinymceTextarea"))return;window.setTimeout(function(){tinyMCE.get("tinymceTextarea").theme.resizeTo(e.clientWidth-20,e.clientHeight-(t.clientHeight+n.clientHeight))},50)}}},$(document).on("dialogresizestop",".contentDialog",resizeTiny),window.dockWindow=function(e,t){var n=$("<button type='button' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only' role='button' aria-disabled='false' id='closed-dialog-"+t+"'><span class='ui-button-text'>"+t+"</span></button>");$(n).click(function(){$(e).dialog("open"),"Content"==t&&resizeTiny(),$(this).remove()}),$("#dockDiv").append(n)}},function(e,t,n){"use strict";angular.module("breadboard.directives",[]).directive("jqButton",function(){return{link:function(e,t,n){t.button(),e.$watch(n.jqButtonDisabled,function(e){t.attr("disabled",e),e?t.button("disable"):t.button("enable")})}}}).directive("compile",function(e,t){return{restrict:"A",link:function(n,i,r){t(function(){e(i.contents())(n),console.log("inside compile directive")})}}})},function(e,t,n){"use strict";function i(){return function(e){return Number(e)}}function r(){return function(e){return("string"==typeof e||e instanceof String)&&e.length>10?e.substr(0,10)+"...":e}}angular.module("breadboard.filters",[]).filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).filter("asNumber",i).filter("shortId",r).filter("playerOrder",["$filter",function(e){return function(e){var t=["_"];return e.sort(function(e,n){var i=e.id.localeCompare(n.id),r=!1,o=!1,a=!0,s=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;r=e.id.substr(0,d.length)===d,o=n.id.substr(0,d.length)===d,!r&&!o||r&&o||(i=r?1:-1)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return i}),e}}])},function(e,t,n){"use strict";function i(e,t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement("script");t.src=url;for(var n in e)t[n]=e[n];return document.body.appendChild(t),t}this.injectScriptFromUrl=function(i,r){var o=e.defer(),a=n(r.props),s=t(function(){o.reject("Unable to load resource from "+i)},5e3);return a.addEventListener("load",function(){t.cancel(s),o.resolve()}),o.promise},this.injectScript=function(n){var i=eval,r=t(function(){i(n)});return e.when(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$q","$timeout"]},function(e,t,n){"use strict";function i(e,t,n){this.load=function(){return n.get("clientGraph").then(function(e){return console.log("Evaluating in global scope",e),t.injectScript(e)}).then(function(){return window.Graph},function(e){return o.default})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(383),o=function(e){return e&&e.__esModule?e:{default:e}}(r);i.$inject=["$q","scriptInjector","configService"]},function(e,t,n){"use strict";function i(e,t,n){var i=void 0==e?600:e,r=void 0==t?600:t,o=Math.min(i,r)/2-30-20,a=["$$hashKey","text","choices","x","y","px","py"],s=d3.select("#graph"),l=s.append("svg:svg").attr("width",i).attr("height",r);l.append("svg:defs").append("svg:marker").attr("id","end").attr("viewBox","0 -5 10 10").attr("refX",6).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").attr("fill","#333"),l.append("svg:defs").append("svg:marker").attr("id","start").attr("viewBox","0 -5 10 10").attr("refX",4).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("svg:path").attr("d","M10,-5L0,0L10,5").attr("fill","#333"),l.append("svg:defs").append("svg:marker").attr("id","end-green").attr("viewBox","0 -5 10 10").attr("refX",6).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").attr("fill","green"),l.append("svg:defs").append("svg:marker").attr("id","end-red").attr("viewBox","0 -5 10 10").attr("refX",6).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").attr("fill","red"),l.append("svg:defs").append("svg:marker").attr("id","start-green").attr("viewBox","0 -5 10 10").attr("refX",4).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("svg:path").attr("d","M10,-5L0,0L10,5").attr("fill","green"),l.append("svg:defs").append("svg:marker").attr("id","start-red").attr("viewBox","0 -5 10 10").attr("refX",4).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("svg:path").attr("d","M10,-5L0,0L10,5").attr("fill","red");var c=d3.layout.force().gravity(.05).friction(.8).charge(-1e4).linkStrength(10).linkDistance(.9*o).size([i,r]),u=c.nodes(),d=c.links();c.on("tick",function(){l.selectAll("line.link").attr("x1",function(e){var t=e.target.x-e.source.x,i=e.target.y-e.source.y,r=Math.sqrt(t*t+i*i),o=t/r,a=e.source.id==n?50:30;return e.arrow&&e.arrow.length>0&&(a+=7),e.source.x+a*o}).attr("y1",function(e){var t=e.target.x-e.source.x,i=e.target.y-e.source.y,r=Math.sqrt(t*t+i*i),o=i/r,a=e.source.id==n?50:30;return e.arrow&&e.arrow.length>0&&(a+=7),e.source.y+a*o}).attr("x2",function(e){var t=e.target.x-e.source.x,i=e.target.y-e.source.y,r=Math.sqrt(t*t+i*i),o=t/r,a=e.target.id==n?50:30;return e.arrow&&e.arrow.length>0&&(a+=7),targetX=e.target.x-a*o}).attr("y2",function(e){var t=e.target.x-e.source.x,i=e.target.y-e.source.y,r=Math.sqrt(t*t+i*i),o=i/r,a=e.target.id==n?50:30;return e.arrow&&e.arrow.length>0&&(a+=7),targetY=e.target.y-a*o}),l.selectAll("g.node").attr("transform",function(e){return"translate("+e.x+","+e.y+")"})});var f=function(e){for(var t=0;t<u.length;t++)if(u[t].id==e)return u[t];return null},h=function(e,t,n){e.source=f(t),e.target=f(n),d.push(e)},p=function(e,t,n,i){_.extend(e,t),e.source=f(n),e.target=f(i)};this.updateGraph=function(e){if(void 0!=e){if(void 0==e.nodes||0==e.nodes.length)u.length=0;else{for(var t=u.length-1;t>=0;t--)void 0===_.find(e.nodes,function(e){return e.id===u[t].id})&&u.splice(t,1);for(var t=0;t<e.nodes.length;t++){var n=_.find(u,function(n){return n.id===e.nodes[t].id});null===n||void 0===n?u.push(e.nodes[t]):_.extend(n,e.nodes[t])}}if(void 0==e.links||0==e.links.length)d.length=0;else{for(var t=d.length-1;t>=0;t--){var i=void 0==d[t].source?null:d[t].source.id,r=void 0==d[t].target?null:d[t].target.id;try{void 0===_.find(e.links,function(t){return e.nodes[t.source].id===i&&e.nodes[t.target].id===r})&&d.splice(t,1)}catch(e){}}for(var t=0;t<e.links.length;t++){var o,a,s,l,i,r=void 0,c=e.links[t];if(void 0!=c&&(o=c.source,a=c.target),void 0!=o&&void 0!=a&&(s=e.nodes[o],l=e.nodes[a]),void 0!=s&&void 0!=l&&(i=s.id,r=l.id),void 0!=i&&void 0!=r){var f=_.find(d,function(e){return e.target.id===r&&e.source.id===i});null===f||void 0===f?h(c,i,r):p(f,c,i,r)}}}m()}};var g=function(e,t,n,i){l.append("svg:text").attr("class","anim").style("text-anchor","middle").style("fill","#1EFF1E").style("stroke","#000").style("font-family","Lucida Sans").style("font-weight","bold").style("font-size",18).text((e<0?"":"+")+e).attr("x",t.x).attr("y",t.y).transition().duration(1500).attr("x",n.x).attr("y",n.y).remove()},m=function(){var e=l.selectAll("line.link").data(d,function(e){return e.id});e.enter().insert("svg:line","g.node").attr("class","link client"),e.exit().remove();var t=l.selectAll("g.node").data(u,function(e){return e.id}),o=t.enter().append("svg:g").attr("class","node client");o.append("svg:text").attr("class","node client").style("text-anchor","middle").style("font-size",function(e){return e.id==n?"18pt":"14pt"}).text(function(e){return void 0==e.score?"":e.score}),o.insert("svg:circle","text.node").attr("class","node client").attr("r",function(e){return e.id==n?50:30}).each(function(e){e.id==n&&(e.fixed=!0,e.x=i/2,e.y=r/2)}),t.exit().remove(),l.selectAll("text.node").text(function(e){return void 0==e.score?"":e.score}),c.nodes(u).links(d).start(),t.selectAll("circle.node"),d3.selectAll("circle.node").each(function(e,t){for(var n in e)-1==_.indexOf(a,n)&&isNaN(n)&&d3.select(this).attr(n,e[n])}),d3.selectAll("line.link").each(function(e,t){d3.select(this).attr("marker-start",null),d3.select(this).attr("marker-end",null);for(var n in e)if("arrow"==n){var i=e.arrow.split(",");if(i.length<1)return;e.source.id==i[0]||"both"==i[0]?i.length>1&&"grey"!=i[1]?d3.select(this).attr("marker-start","url(#start-"+i[1]+")"):d3.select(this).attr("marker-start","url(#start)"):d3.select(this).attr("marker-start",null),e.target.id==i[0]||"both"==i[0]?i.length>1&&"grey"!=i[1]?d3.select(this).attr("marker-end","url(#end-"+i[1]+")"):d3.select(this).attr("marker-end","url(#end)"):d3.select(this).attr("marker-end",null)}else-1==_.indexOf(a,n)&&d3.select(this).attr(n,e[n])});var s=function(){e.each(function(e){var t=d3.select(this).attr("animate");if(void 0!=t){var n=t.split(",");if(n.length>3){var i=(n[0],n[1]),r=n[2],o=n[3],a=f(r),s=f(o),l={x:a.x,y:a.y},c={x:s.x,y:s.y};e.animated!=t&&void 0!=l&&void 0!=c&&void 0!=o&&(e.animated=t,g(i,l,c))}}})};setTimeout(s,1e3)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e,t,n,i,r){var o=void 0;return r.get("connectSocket").then(function(t){o=e(t),o.onopen=function(e){r.all().then(function(e){e.action="LogIn",console.log("Sending on open",e),o.send(JSON.stringify(e))})}}),{onmessage:function(e){r.all().then(function(){o.onmessage=function(){var n=arguments;t.$apply(function(){e.apply(o,n)})}})},send:function(e){var t=JSON.stringify(e);o.send(t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["websocketFactory","$rootScope","$http","$q","configService"]},function(e,t,n){"use strict";function i(e,t){var n=null,i=e.get("state").then(function(e){return n=e.data},function(e){console.error("Unable to load client configuration",e)});this.hasLoaded=function(){return t.when(i)},this.get=function(e){return t.when(i).then(function(){return n[e]},function(e){throw e})},this.all=function(){return t.when(i).then(function(){return Object.assign({},n)},function(e){throw e})},this.set=function(e,r){return t.when(i).then(function(){return n[e]=r,r},function(e){throw e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","$q"]},function(e,t,n){"use strict";function i(e,t){var n=null,i=e.get("languages").then(function(e){return n=e.data},function(e){console.error("Unable to retrieve available languages",e)});this.all=function(){return t.when(i).then(function(){return Object.assign({},n)},function(e){throw e})},this.addLanguage=function(n,i){console.log("language.service",i);var r={experimentId:n,languageId:i};return e.post("languages",r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})},this.removeLanguage=function(n,i){var r={experimentId:n,languageId:i};return e.post("languages/remove",r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","$q"]},function(e,t,n){"use strict";function i(e,t,n,i,r,o){function a(e,n){if(void 0!==e.action){var i=t.$$childHead.breadboardGraph;if("addNode"===e.action&&i.addNode(e.id),"removeNode"===e.action&&i.removeNode(e.id),"nodePropertyChanged"===e.action){var r="";try{r=JSON.parse(e.value)}catch(t){r=e.value}i.nodePropertyChanged(e.id,e.key,r)}if("nodePropertyRemoved"===e.action&&i.nodePropertyChanged(e.id,e.key),"addLink"===e.action&&i.addLink(e.id,e.source,e.target,e.value),"removeLink"===e.action&&i.removeLink(e.id,e.source,e.target),"linkPropertyChanged"===e.action&&i.linkPropertyChanged(e.id,e.key,e.value),"linkPropertyRemoved"===e.action&&i.linkPropertyRemoved(e.id,e.key),"addNode"===e.action||"removeNode"===e.action||"nodePropertyChanged"===e.action||"nodePropertyRemoved"===e.action)for(var o=0;o<l.length;o++){var a=i.getNodes();l[o].call(window,a)}}else t.$apply(function(){n(e)})}var s=void 0,l=[];return o.all().then(function(t){s=e(t.connectSocket),s.onopen=function(e){s.send(JSON.stringify({action:"LogIn",uid:t.uid}))}}),{onmessage:function(e){o.hasLoaded().then(function(){setTimeout(function(){s.onmessage=function(){var t=arguments,n=JSON.parse(t[0].data);if(void 0!=n.queuedMessages)for(var i=0;i<n.queuedMessages.length;i++)a(n.queuedMessages[i],e);else a(n,e)}})})},send:function(e){o.get("uid").then(function(t){e.uid=t,s.send(JSON.stringify(e))})},addNodeChangeListener:function(e){l.push(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,n(144),n(56),i.$inject=["websocketFactory","$rootScope","$cookieStore","$http","$q","configService"]},function(e,t,n){"use strict";function i(e,t){function n(n){return e.get("/csv/instances/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function i(n){return e.get("/csv/data/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}return{getExperimentInstances:n,getInstanceData:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","$q"]},function(e,t,n){"use strict";function i(e,t){this.getFile=function(t){return e.get(t,{responseType:"arraybuffer"}).then(function(e){if(401===e.status)throw Error("unauthorized to download files");if(200!==e.status)throw Error(e.status);return e})},this.download=function(e,t){var n=this;return this.getFile(e).then(function(e){return n.saveAsBlob(e.data,t)})},this.saveAsBlob=function(e,t){var n=URL.createObjectURL(new Blob([e]));return this.saveAs(n,t)},this.saveAs=function(e,n){var i=t.defer();try{var r=document.createElement("a");r.href=e,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),i.resolve("Downloading "+n)}catch(e){i.reject(e)}return i.promise}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","$q"]},function(e,t,n){"use strict";function i(e,t){this.confirm=function(n,i){var r=e.defer(),a=t.open({animation:!0,templateUrl:o.default,resolve:{title:function(){return i||"Confirm"},prompt:function(){return n}},controller:["$scope","prompt","title",function(e,t,n){e.prompt=t,e.title=n,e.confirm=function(){a.close(),r.resolve()},e.cancel=function(){a.dismiss("cancel"),r.reject()}}]});return r.promise}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(391),o=function(e){return e&&e.__esModule?e:{default:e}}(r);n(392),i.$inject=["$q","$modal"]},function(e,t){var n="files/app/services/alert/confirm.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=confirm> <div class=modal-content> <div class=modal-header> <div class=modal-title> <span class="title h3">{{title}}</span> <button class="btn close" ng-click=cancel()> <span aria-hidden=true>&times;</span> </button> </div> </div> <div class=modal-body> <p>{{prompt}}</p> </div> <div class=modal-footer> <div class=form-group> <button class="btn btn-lg btn-outline-success" ng-click=confirm()> Confirm </button> <button class="btn btn-lg btn-danger" ng-click=cancel()> Cancel </button> </div> </div> </div> </div>')}]),e.exports=n},function(e,t,n){var i=n(393);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0,n(51)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(50)(void 0),t.push([e.i,".confirm .modal-header{color:#d9534f}.btn.btn-outline-success{background:none;color:#28a745;border:1px solid #28a745;transition:all .3s}.btn.btn-outline-success:hover{background:#28a745;color:#fff}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(396),o=i(r),a=n(397),s=i(a),l=n(398),c=i(l);n(399),n(99),n(418),n(44),angular.module("breadboard.routes",["ui.router","breadboard.middleware","ngCookies"]).config(["$stateProvider","$urlRouterProvider","$httpProvider",function(e,t,n){t.otherwise("/"),e.state("login",{url:"/login",templateUrl:o.default,controller:["$scope","$state","$cookieStore",function(e,t,n){e.path="/login",e.onSuccess=function(e){n.put("email",e.data.email),n.put("juid",e.data.juid),n.put("uid",e.data.uid),t.go("home")}}]}).state("home",{url:"/",controller:"AppCtrl",templateUrl:c.default,onExit:function(){window.location.reload()}}).state("create-first-user",{url:"/create-first-user",templateUrl:s.default}),n.interceptors.push("AuthorizationMiddleware")}])},function(e,t){var n="files/app/templates/login.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<login path=path on-success=onSuccess(res)></login>")}]),e.exports=n},function(e,t){var n="files/app/templates/create-first-user.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<create-first-user></create-first-user>")}]),e.exports=n},function(e,t){var n="files/app/templates/home.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div id=mainDiv ng-cloak> <div class=container-fluid> <div class="form-inline row"> <div class="form-group experiment-group"> <label for=select-experiment class=form-control-static> Experiment </label> <select class="form-control input-sm" id=select-experiment ng-hide="breadboard.user.experiments.length == 0" ng-options="experiment as experiment.name for experiment in breadboard.user.experiments track by experiment.id" ng-change=experimentChanged() ng-model=breadboard.experiment ng-disabled="breadboard.experimentInstance.status === \'RUNNING\'"> </select> <div class="btn-group btn-group-sm"> <button class="btn btn-default" ng-disabled="instance.status === \'RUNNING\' || instance.status === \'FINISHED\'" id=newExperimentButton ng-click=newExperiment() ng-disabled="breadboard.experimentInstance.status === \'RUNNING\'"> <span class="glyphicon glyphicon-plus" tooltip="Create a new experiment" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> </button> <button class="btn btn-default" id=deleteExperimentButton ng-disabled="breadboard.experimentInstance.status === \'RUNNING\' || breadboard.experiment === undefined || breadboard.experiment === \'\'" ng-click=deleteExperiment()> <span class="glyphicon glyphicon-remove" tooltip="Delete the selected experiment" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> </button> <button class="btn btn-default" id=exportButton ng-disabled="breadboard.experiment === undefined || breadboard.experiment === \'\'" ng-click=exportExperiment()> <span class="glyphicon glyphicon-export" tooltip="Export the selected experiment" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> </button> <button class="btn btn-default" id=importButton ng-click=openImportDialog()> <span class="glyphicon glyphicon-import" tooltip="Import an experiment" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> </button> </div> </div> <div class="form-group experiment-group"> <label for=select-experiment-instance class=control-label> Instance </label> <select class="form-control input-sm" id=select-experiment-instance ng-hide="breadboard.user.experiments.length === 0 || breadboard.experiment.instances.length === 0" ng-options="instance as instance.name for instance in breadboard.experiment.instances track by instance.id" ng-model=breadboard.experimentInstance ng-disabled="breadboard.experimentInstance.status === \'RUNNING\'"> </select> <div class="btn-group btn-group-sm"> <button class="btn btn-default" id=newInstanceButton ng-disabled="breadboard.experimentInstance.status === \'RUNNING\' || breadboard.experiment === undefined || breadboard.experiment === \'\'" ng-click=openNewInstanceModal()> <span class="glyphicon glyphicon-plus" tooltip="Create an experiment instance" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true></span> </button> <button class="btn btn-default" id=removeInstanceButton ng-disabled="breadboard.experimentInstance.status === \'RUNNING\' || !breadboard.experimentInstance" ng-click="deleteInstance(breadboard.experimentInstance.name, breadboard.experimentInstance.id)"> <span class="glyphicon glyphicon-remove" tooltip="Delete the selected experiment instance" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true></span> </button> <button class="btn btn-default" id=runButton ng-disabled="breadboard.experimentInstance == \'\' || breadboard.experimentInstance.status === \'RUNNING\' || breadboard.experimentInstance.status === \'FINISHED\'" ng-click=selectInstance(breadboard.experimentInstance.id)> <span class="glyphicon glyphicon-play" tooltip="Start the selected experiment instance" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> </button> <button class="btn btn-default" id=stopButton ng-click=stopGame(breadboard.experimentInstance.id) ng-disabled="breadboard.experimentInstance.status !== \'RUNNING\'"> <span class="glyphicon glyphicon-stop" tooltip="Stop the selected experiment instance" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> </button> <button class="btn btn-default" id=reloadButton ng-click=reload()> <span class="fa fa-refresh" ng-show="scriptEngineState === ENGINE_STATE.READY" tooltip="Reload the script engine" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> <span class="fa fa-refresh fa-spin" ng-show="scriptEngineState === ENGINE_STATE.LOADING" tooltip="The script engine is reloading" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> <span class="fa fa-info-circle text-danger" ng-show="scriptEngineState === ENGINE_STATE.STALE" tooltip="The script engine may be in an inconsistent state. Reload the script engine" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> <span class="fa fa-check-circle text-success" ng-show="scriptEngineState === ENGINE_STATE.LOADED" tooltip="The script engine has reloaded" tooltip-placement=bottom tooltip-append-to-body=true aria-hidden=true> </span> </button> <button class="btn btn-default" tooltip="Execute initStep.start()" tooltip-placement=bottom tooltip-append-to-body=true id=startInitStep ng-click=run()> Start InitStep </button> </div> </div> <div class="form-group pull-right"> <p class="form-control-static text-right" id=logoutDiv> You are logged in as <a ng-click=showUserSettings()>{{breadboard.user.email}}</a> | <a ng-click=logout()>Log out</a> </p> </div> </div> </div> <div id=bottomDiv class="footer task-bar"> <div id=dockDiv></div> </div> <div id=newExperimentInstanceDialog style=display:none> <form name=createExperimentInstanceForm class=form-horizontal> <h4>Instance</h4> <div class=form-group> <label class="col-md-3 control-label" for=experiment-instance-name> Name </label> <div class=col-md-4> <input class=form-control type=text id=experiment-instance-name ng-model=experimentInstanceName required> </div> <div class=col-md-5></div> </div> <div class=form-group ng-repeat="elem in breadboard.experiment.parameters"> <span ng-if="elem.type === \'Text\'"> <label class="col-md-3 control-label" for={{elem.name}}_text>{{elem.name}}</label> <div class=col-md-4> <input class=form-control id={{elem.name}}_text ng-model=launchParameters[elem.name] type=text ng-init="launchParameters[elem.name] = elem.defaultVal" required> </div> </span> <span ng-if="elem.type === \'Boolean\'"> <label class="col-md-3 control-label" for={{elem.name}}_checkbox>{{elem.name}}</label> <div class=col-md-4> <input id={{elem.name}}_checkbox ng-model=launchParameters[elem.name] type=checkbox ng-init="launchParameters[elem.name] = (elem.defaultVal === \'true\')"> </div> </span> <span ng-if="elem.type === \'Integer\'"> <label class="col-md-3 control-label" for={{elem.name}}_integer>{{elem.name}}</label> <div class=col-md-4> <input class=form-control id={{elem.name}}_integer ng-model=launchParameters[elem.name] type=number step=1 min={{elem.minVal}} max={{elem.maxVal}} ng-init="launchParameters[elem.name] = (elem.defaultVal | asNumber)"> </div> </span> <span ng-if="elem.type === \'Decimal\'"> <label class="col-md-3 control-label" for={{elem.name}}_decimal>{{elem.name}}</label> <div class=col-md-4> <input class=form-control id={{elem.name}}_decimal ng-model=launchParameters[elem.name] type=number step=.01 min={{elem.minVal}} max={{elem.maxVal}} ng-init="launchParameters[elem.name] = (elem.defaultVal | asNumber)"> </div> </span> <div class=col-md-5> <span class=note>{{elem.description}}</span> </div> </div> <div class="form-group col-md-12 text-right"> <button class="btn btn-default" ng-disabled=createExperimentInstanceForm.$invalid ng-click=launchGame()>Create</button> </div> </form> </div> <div id=newExperimentDialog style=display:none> <div class=new-dialog> <create-new-experiment user-id=breadboard.user.id user-experiments=breadboard.user.experiments> </create-new-experiment> </div> </div> <experiment-import></experiment-import> <div> <div ui-jq=dialog ui-options=amtAdminDialogOptions id=amtAdminDiv> <amt-admin experiment=breadboard.experiment experiment-instance=breadboard.experimentInstance on-create-hit=submitAMTTask></amt-admin> </div> </div> <div> <div ui-jq=dialog ui-options=contentDialogOptions id=contentDiv> <content experiment-id=breadboard.experiment.id experiment-languages=breadboard.experiment.languages ng-if=breadboard.experiment actions=contentActions></content> </div> </div> <div> <div ui-jq=dialog ui-options=customizeDialogOptions id=customizeDiv> <customize ng-if=breadboard.experiment actions=customizeActions experiment-id=breadboard.experiment.id> </customize> </div> </div> <div> <div ui-jq=dialog ui-options=launchDialogOptions id=launchDiv> <div> <table class="table table-hover" id=instance-table> <thead> <tr> <td colspan=6> <button class="btn btn-default btn-sm pull-right" ng-click=downloadExperimentCsv(breadboard.experiment)> Download List </button> <button class="btn btn-default btn-sm pull-right" ng-disabled="breadboard.experimentInstance.status === \'RUNNING\' || breadboard.experiment === undefined || breadboard.experiment === \'\'" ng-click=openNewInstanceModal()> Create instance </button> </td> </tr> <tr> <th>ID</th> <th>Instance</th> <th>Status</th> <th>Creation Date</th> <th>Actions</th> <th>Client URL</th> </tr> </thead> <tbody> <tr ng-show="breadboard.experiment.instances.length == 0"><td colspan=6>No instances</td></tr> <tr ng-repeat-start="instance in breadboard.experiment.instances" ng-class="{\'info\':(instance.id === breadboard.experimentInstance.id)}" ng-click="breadboard.experimentInstance = instance"> <td>{{instance.id}}</td> <td>{{instance.name}}</td> <td>{{instance.status}}</td> <td>{{instance.creationTime}}</td> <td> <div class="btn-group btn-group-sm"> <button class="btn btn-default" title="Start the selected experiment instance" tooltip="Start the selected experiment instance" tooltip-placement=bottom ng-disabled="instance.status === \'RUNNING\' || instance.status === \'FINISHED\'" ng-click=selectInstance(instance.id)> <span class="glyphicon glyphicon-play" aria-hidden=true> </span> </button> <button class="btn btn-default" title="Stop the selected experiment instance" tooltip="Stop the selected experiment instance" tooltip-placement=bottom ng-click=stopGame(instance.id) ng-disabled="instance.status !== \'RUNNING\'"> <span class="glyphicon glyphicon-stop" aria-hidden=true> </span> </button> <button class="btn btn-default" title="Delete the selected experiment instance" tooltip="Delete the selected experiment instance" tooltip-placement=bottom ng-disabled="instance.status === \'RUNNING\'" ng-click="deleteInstance(instance.name, instance.id)"> <span class="glyphicon glyphicon-remove" aria-hidden=true> </span> </button> <button class="btn btn-default" title="Download experiment data" tooltip="Download experiment data" tooltip-placement=bottom ng-click=downloadEventCsv(instance)> <span class="glyphicon glyphicon-save" aria-hidden=true> </span> </button> </div> </td> <td> <span ng-show="instance.status === \'RUNNING\'"> <a href="{{ getClientURL(breadboard.experiment.id,instance.id) }}" target=_blank> {{ getClientURL(breadboard.experiment.id,instance.id) }} </a> </span> <span ng-show="instance.status !== \'RUNNING\'"> {{ getClientURL(breadboard.experiment.id,instance.id) }} </span> </td> </tr> <tr ng-repeat-end ng-show="instance.id === breadboard.experimentInstance.id"> <td colspan=6> <instance-parameters instance=breadboard.experimentInstance></instance-parameters> </td> </tr> </tbody> <tfoot> <tr> <th>ID</th> <th>Instance</th> <th>Status</th> <th>Creation Date</th> <th>Actions</th> <th>Client URL</th> </tr> <tr> <td colspan=6> <button class="btn btn-default btn-sm pull-right" ng-click=downloadExperimentCsv(breadboard.experiment)> Download List </button> <button class="btn btn-default btn-sm pull-right" ng-disabled="breadboard.experimentInstance.status === \'RUNNING\' || breadboard.experiment === undefined || breadboard.experiment === \'\'" ng-click=openNewInstanceModal()> Create instance </button> </td> </tr> </tfoot> </table> </div> </div> </div> <div> <div ui-jq=dialog ui-options=graphDialogOptions id=graphDiv> </div> </div> <div> <div ui-jq=dialog ui-options=imagesDialogOptions id=imagesDiv> <table class=table> <thead> <tr> <th colspan=3>Add Image</th> </tr> </thead> <tbody> <tr> <td> <button ngf-select class="btn btn-default" ngf-pattern="\'image/*\'" ng-model=image.file> Select an image </button> </td> <td> {{image.file.name}} </td> <td> <button title="Add image" class="btn btn-default" ng-click=uploadImage()> <span class="step-icon ui-icon-plusthick">Upload image</span> </button> </td> </tr> </tbody> </table> <table class=table> <thead> <tr> <th>File Name</th> <th>Image</th> <th>URL</th> <th>Delete</th> </tr> </thead> <tbody> <tr ng-repeat="image in breadboard.experiment.images"> <td>{{image.fileName}}</td> <td><img ng-src=/thumbs/{{image.id}}></td> <td>/images/{{image.id}}</td> <td> <button title="Delete image" class="btn btn-default" ng-click=deleteImage(image.id)><span class="step-icon ui-icon-closethick">Delete image</span></button> </td> </tr> </tbody> </table> </div> </div> <div> <div class=testClass ui-jq=dialog ui-options=outputDialogOptions id=outputDiv> {{breadboard.output}} <span class=error>{{breadboard.error}}</span> </div> </div> <div> <div ui-jq=dialog ui-options=parametersDialogOptions id=parametersDiv> <form name=createParameter> <table class=table id=parametersTable> <thead> <tr> <th>Name</th> <th>Type</th> <th>Min</th> <th>Max</th> <th>Default</th> <th>Short Description</th> <th></th> </tr> </thead> <tbody> <tr> <td><input class="form-control input-sm" style=width:8em type=text name=parameterName ng-model=parameterName placeholder=Name required></td> <td> <select class="form-control input-sm" ng-change=clearParameterFields() style=width:7em ng-model=parameterType required> <option></option> <option value=Boolean>Boolean</option> <option value=Decimal>Decimal</option> <option value=Integer>Integer</option> <option value=Text>Text</option> </select> </td> <td><input class="form-control input-sm" style=width:5em ng-disabled="parameterType!==\'Decimal\' && parameterType!==\'Integer\'" type=number name=parameterMin max={{parameterMax}} ng-model=parameterMin placeholder=min ng-required="parameterType === \'Decimal\' || parameterType === \'Integer\'" required></td> <td><input class="form-control input-sm" style=width:5em ng-disabled="parameterType!==\'Decimal\' && parameterType!==\'Integer\'" type=number name=parameterMax min={{parameterMin}} ng-model=parameterMax placeholder=max ng-required="parameterType === \'Decimal\' || parameterType === \'Integer\'"></td> <td ng-show=!parameterType> <input class="form-control input-sm" style=width:6em type=text placeholder=Default disabled=disabled> </td> <td ng-show="parameterType === \'Integer\'"> <input class="form-control input-sm" style=width:6em type=number min={{parameterMin}} max={{parameterMax}} step=1 ng-model=parameterDefaultInteger placeholder=Default ng-required="parameterType === \'Integer\'"> </td> <td ng-show="parameterType === \'Decimal\'"> <input class="form-control input-sm" style=width:6em type=number min={{parameterMin}} max={{parameterMax}} step=0.01 ng-model=parameterDefaultDecimal placeholder=Default ng-required="parameterType === \'Decimal\'"> </td> <td ng-show="parameterType === \'Text\'"> <input class="form-control input-sm" style=width:6em type=text ng-model=parameterDefaultText placeholder=Default ng-required="parameterType === \'Text\'"> </td> <td ng-show="parameterType === \'Boolean\'"> <select class="form-control input-sm" ng-model=parameterDefaultBoolean ng-required="parameterType === \'Boolean\'"> <option value=true>true</option> <option value=false>false</option> </select> </td> <td><input class="form-control input-sm" style=width:16em type=text name=parameterDescription ng-model=parameterDescription placeholder="Short Description" required></td> <td> <button class="btn btn-default btn-sm" title="Create parameter" type=submit ng-disabled=createParameter.$invalid ng-click=newParameter()> <span class="glyphicon glyphicon-plus" aria-hidden=true> </span> </button> </td> </tr> <tr class=parameters ng-repeat="elem in breadboard.experiment.parameters"> <td><p class=form-control-static>{{elem.name}}</p></td> <td><p class=form-control-static>{{elem.type}}</p></td> <td><p class=form-control-static>{{elem.minVal}}</p></td> <td><p class=form-control-static>{{elem.maxVal}}</p></td> <td><p class=form-control-static>{{elem.defaultVal}}</p></td> <td><p class=form-control-static>{{elem.description}}</p></td> <td> <button type=button onmouseover=\'$(this).parent().parent().css("background","-webkit-linear-gradient(top, #b9e0f5 0%,#92bdd6 100%)")\' onmouseout=\'$(this).parent().parent().css("background","")\' class="btn btn-default btn-sm" title="Delete parameter" ng-click=removeParameter(elem.id)> <span class="glyphicon glyphicon-remove" aria-hidden=true> </span> </button> </td> </tr> </tbody> </table> </form> </div> </div> <div> <div ui-jq=dialog ui-options=playerDialogOptions id=playerDiv> <div class="container-fluid scrollable-container"> <div class="row scrollable-container"> <div class="col-md-3 scrollable"> <ul class="nav nav-pills nav-stacked"> <li ng-repeat="node in nodes | playerOrder" role=presentation ng-class="{\'active\':(node.id === selectedNode.id)}"> <a class=pill-condensed ng-click=selectNode(node)>{{node.id | shortId}}</a> </li> </ul> </div> <div class="col-md-9 scrollable"> <div ng-show=selectedNode> <div id=playerStatusDiv> <h3>Player {{selectedNode.id | shortId}}</h3> <pre>{{playerProperties(selectedNode) | json}}</pre> </div> <div id=playerText ng-bind-html="selectedNode.text | to_trusted"></div> <div id=playerChoices> <button ng-repeat="choice in selectedNode.choices" class={{choice.class}} ng-click=makeChoice($index)> {{choice.name}} </button> </div> </div> </div> </div> </div> </div> </div> <div> <div ui-jq=dialog ui-options=scriptDialogOptions id=scriptDiv> <textarea id=scriptTextArea class=codemirror ui-codemirror ui-codemirror-opts=scriptCodemirrorOptions ng-model=breadboard.user.currentScript></textarea> </div> </div> <div> <div ui-jq=dialog ui-options=stepsDialogOptions id=stepsDiv> <steps ng-if=breadboard.experiment actions=stepsActions experiment-id=breadboard.experiment.id> </steps> </div> </div> <div class=delete-dialog id=deleteStepDialog style=display:none> <p id=deleteStepDesc></p> </div> <div class=new-dialog id=addLanguageDialog style=display:none> <form ng-submit=addLanguage()> <p> <input name=code ng-model=newLanguageCode placeholder="ISO 639-1 Code" required> <input name=name ng-model=newLanguageName placeholder="Display Name" required> </p> </form> </div> <div class=new-dialog id=newStepDialog style=display:none> <form ng-submit=createStep()> <p> <input name=name ng-model=newStepName placeholder=Name required> </p> <p> <button style=float:right type=submit>Create</button> </p> </form> </div> <div class=delete-dialog id=deleteExperimentDialog style=display:none> <p> Are you sure that you want to permanently delete the experiment \'<span class=deleteExperimentName></span>\' and all of its associated data and instances? </p> </div> <div class=user-settings-dialog id=userSettingsDialog title="User Settings" style=display:none> <div class=user-setting-section> <fieldset> <legend>Change Password</legend> <ul id=changePasswordError class=error style=display:none></ul> <p> <label class=fixed-width for=currentPassword>Current Password</label>* <input type=password name=currentPassword id=currentPassword /> </p> <p> <label class=fixed-width for=newPassword>New Password</label>* <input type=password name=newPassword id=newPassword /> </p> <p> <label class=fixed-width for=confirmNewPassword>Confirm Password</label>* <input type=password name=confirmNewPassword id=confirmNewPassword /> </p> </fieldset> </div> </div> <div class=delete-dialog id=deleteInstanceDialog title="Delete Instance" style=display:none> <p> Are you sure that you want to permanently delete the instance "<span id=deleteInstanceDialogDesc class=bold></span> " and all of its associated data?</p> </div> <div id=amtErrorDialog style=display:none> <p>Please select an experiment and launch an instance before posting a HIT.</p> </div> <style id=styleTag></style> </div> ')}]),e.exports=n},function(e,t,n){"use strict";var i=n(400),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(401),angular.module("breadboard.login").directive("login",function(){return{restrict:"E",replace:!0,scope:{path:"=",onSuccess:"&",onError:"&"},controller:"LoginCtrl",templateUrl:r.default}})},function(e,t){var n="files/app/login/login.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=container-fluid> <div class=row><div class=col-md-12>&nbsp;</div></div> <div class=row id=login-form> <div class=col-md-4></div> <form class="form col-md-4"> <div class="form-group error" ng-show=hasError> {{errorMessage}} </div> <div class=form-group> <label class=control-label for=email>Email</label> <input class=form-control type=text id=email name=email ng-model=vm.email autofocus> </div> <div class=form-group> <label class=control-label for=password>Password</label> <input class=form-control type=password id=password name=password ng-model=vm.password> </div> <div class=form-group> <button class="btn btn-default" type=submit ng-click=submit()>Login</button> </div> </form> <div class=col-md-4></div> </div> </div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=angular.module("breadboard.login",[]).controller("LoginCtrl",["$scope","$http",function(e,t){function n(t){e.hasError=!0,e.errorMessage=t}if(!e.path)throw Error("Must include the path to submit to");if(!e.onSuccess)throw Error("Must include the onSuccess callback");e.hasError=!1,e.vm={username:"",password:""},e.submit=function(){t.post(e.path,e.vm).then(function(t){200===t.status?e.onSuccess({res:t}):(n(t.data.message),e.onError({err:t.data.message}))},function(t){console.error(t),n(t),e.onError({err:t})})}}])},function(e,t,n){"use strict";n(403),n(99),n(44),n(43),n(52),angular.module("breadboard.create-first-user",["breadboard.services","breadboard.create-first-user.service"])},function(e,t,n){"use strict";function i(e,t){function n(n,i,r){var o={email:n,password:i,defaultLanguageId:r};return e.post("createFirstUser",o).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}return{createFirstUser:n}}angular.module("breadboard.create-first-user.service",[]).factory("CreateFirstUserSrv",i),i.$inject=["$http","$q"]},function(e,t){+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===o?[]:o);t&&t.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target).closest(".btn");t.call(i,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof t?r.to(t):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i="prev"==e?-1:1,r=(n+i)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(t,r),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var f=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"))&&t.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var o=t(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();n.call(o,s)})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(r).remove(),e(o).each(function(){var i=e(this),r=t(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(r[0],n.target)||(r.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=t(r),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=t(i),a=r.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery)},function(e,t){+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](i):a.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,a,this)})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=o[0].offsetWidth,f=o[0].offsetHeight;if(c){var h=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+f>p.bottom?"top":"top"==s&&u.top-f<p.top?"bottom":"right"==s&&u.right+d>p.width?"left":"left"==s&&u.left-d<p.left?"right":s,o.removeClass(h).addClass(s)}var g=this.getCalculatedOffset(s,u,d,f);this.applyPlacement(g,s);var m=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),f=d?2*u.left-r+l:2*u.top-o+c,h=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(f,i[0][h],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:o?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,a)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},n.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},n.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery)},function(e,t){+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=i.find("> .active"),s=r&&e.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top,c=s?a:t;return null!=n&&r<=n?"top":null!=i&&l+c>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,t,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery)},function(e,t){var n="files/app/create-first-user/create-first-user.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=container-fluid> <div class=row><div class=col-md-12>&nbsp;</div></div> <div class=row> <div class=col-md-4>&nbsp;</div> <div class=col-md-4> <h4>Create first user</h4> </div> <div class=col-md-4>&nbsp;</div> </div> <div class=row> <div class=col-md-4>&nbsp;</div> <div class=col-md-4> <form class=form id=create-first-user-form name=createUserForm> <div class=form-group ng-show=vm.hasError> <p class="form-control-static error"> {{vm.errorMessage}} </p> </div> <div class=form-group> <label class=control-label for=first-user-email>Email</label> <input class=form-control type=email id=first-user-email name=email ng-model=vm.email autofocus required> </div> <div class=form-group> <label class=control-label for=first-user-password>Password</label> <input class=form-control type=password id=first-user-password name=password ng-model=vm.password required> </div> <div class=form-group> <label class=control-label for=first-user-confirm-password>Confirm Password</label> <input class=form-control type=password id=first-user-confirm-password name=password ng-model=vm.confirmPassword required> </div> <div class=form-group> <label class=control-label for=first-user-default-language>Default Language</label> <select class=form-control id=first-user-default-language ng-options="language as language.name for language in vm.languages | orderBy: \'name\' track by language.id" ng-model=vm.defaultLanguage required> </select> </div> <div class=form-group> <button class="btn btn-default" type=submit ng-click=submit() ng-disabled=createUserForm.$invalid>Create</button> </div> </form> </div> <div class=col-md-4>&nbsp;</div> </div> </div> ')}]),e.exports=n},function(e,t,n){"use strict";function i(e,t,n,i){e.vm={languages:[],defaultLanguage:{},email:"",password:"",confirmPassword:"",hasError:!1,errorMessage:""},t.all().then(function(t){e.vm.languages=t.languages},function(t){e.vm.hasError=!0,e.vm.errorMessage=t.data}),e.submit=function(){console.log(e.vm.defaultLanguage),e.vm.password!==e.vm.confirmPassword?(e.vm.hasError=!0,e.vm.errorMessage="Password and confirm password do not match."):n.createFirstUser(e.vm.email,e.vm.password,e.vm.defaultLanguage.id).then(function(t){200===t.status?i.go("login"):(e.vm.hasError=!0,e.vm.errorMessage=t.data)},function(t){e.vm.hasError=!0,e.vm.errorMessage=t.data})}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope","languageService","CreateFirstUserSrv","$state"],t.default=i},function(e,t,n){"use strict";angular.module("breadboard.middleware",[],["$provide",function(e){e.factory("AuthorizationMiddleware",["$q","$injector",function(e,t){function n(e){return e}function i(e){if(401===e.status){console.log("Need to login");var n=t.get("$state");return"create-first-user"===e.data.status?n.go("create-first-user"):n.go("login")}return e}return{response:n,responseError:i}}])}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(43),n(52),t.default={dialog:{closeOnEscape:!1,width:500,height:300,open:function(e,t){window.setTimeout(function(){for(var t=e.target,n=t.getElementsByClassName("CodeMirror"),i=0;i<n.length;i++){var r=n[i].CodeMirror;r&&r.refresh()}},100),$(this.linkElem).addClass("open")},close:function(e,t){$(this.linkElem).removeClass("open")},create:function(e,t){var n=this,i=$(this).dialog("option","title"),r=$("<button type='button' class='dialog-link btn btn-default' role='button' aria-disabled='false'><span class='ui-button-text'>"+i+"</span></button>");$(r).click(function(){$(n).dialog("open"),$(n).dialog("moveToTop"),"Content"==i&&resizeTiny()}),n.linkElem=r,$("#dockDiv").append(r),$(this).dialog("option","autoOpen")&&$(this).dialog("open")}}}},function(e,t){var n="files/app/amt-admin/amt-admin.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div> <div class=container-fluid ng-class="{\'bg-info\': !sandbox, \'bg-warning\': sandbox}"> <div class=pull-right> <p class=text-right> Account Balance: {{ (accountBalance == null) ? "Loading" : accountBalance | currency:"$" }} </p> <h3> {{(sandbox) ? "Developer Sandbox" : "Production Mode"}} <button ng-click=toggleSandbox() type=button class="btn btn-default"> {{(!sandbox) ? "Switch to Sandbox" : "Switch to Production"}} </button> </h3> </div> </div> <div class=container-fluid> <div class=row><div class=col-md-12>&nbsp;</div></div> <ul class="nav nav-tabs"> <li role=presentation ng-class="{\'active\': (selectedTab === \'manage\') }"> <a ng-click="selectedTab = \'manage\'">Manage HITs</a> </li> <li role=presentation ng-class="{\'active\': (selectedTab === \'create\') }"> <a ng-click="selectedTab = \'create\'">Create HIT</a> </li> <li role=presentation ng-class="{\'active\': (selectedTab === \'payment\') }"> <a ng-click="selectedTab = \'payment\'">Create Payment HITs</a> </li> </ul> <div ng-show="selectedTab === \'create\'"> <div>&nbsp;</div> <div ng-show="createHitForm.status !== 2 && (!experimentInstance || experimentInstance.status !== \'RUNNING\')"> <div class="panel panel-default"> <div class=panel-heading> No running experiment instance </div> <div class=panel-body> <p>Make sure you have created an experiment instance and that the experiment instance is currently running.</p> </div> </div> </div> <form name=hitForm id=amtDiv class=form ng-show="createHitForm.status < 2 && experimentInstance && experimentInstance.status === \'RUNNING\'"> <div> <div class=form-group> <label class=control-label for=title>Title</label> <input ng-disabled="createHitForm.status == 1" class=form-control id=title ng-model=createHitForm.title placeholder=Title required></div> <div class=form-group> <label class=control-label for=description>Description</label> <textarea ng-disabled="createHitForm.status == 1" class=form-control id=description ng-model=createHitForm.description placeholder=Description rows=3 cols=60 required></textarea> </div> <div class=form-horizontal> <div class=form-group> <label class="control-label col-md-3" for=reward>Reward</label> <div class=col-md-3> <input ng-disabled="createHitForm.status == 1" class=form-control type=number min=0 step=0.01 name=reward ng-model=createHitForm.reward placeholder=Reward required> </div> <label class="control-label col-md-3" for=maxAssignments>Max. Assignments</label> <div class=col-md-3> <input ng-disabled="createHitForm.status == 1" class=form-control type=number min=1 id=maxAssignments ng-model=createHitForm.maxAssignments placeholder="Max Assignments" required> </div> </div> </div> <div class=form-horizontal> <div class=form-group> <label class="control-label col-md-3" for=lifetimeInSeconds>HIT lifetime (in seconds)</label> <div class=col-md-3> <input ng-disabled="createHitForm.status == 1" class=form-control type=number id=lifetimeInSeconds ng-model=createHitForm.lifetime min=0 placeholder="HIT lifetime (sec.)" required> </div> <label class="control-label col-md-3" for=tutorialTime>Tutorial time (in seconds)</label> <div class=col-md-3> <input ng-disabled="createHitForm.status == 1" class=form-control type=number id=tutorialTime ng-model=createHitForm.tutorialTime min=0 placeholder="Tutorial time (sec.)" required> </div> </div> </div> <div class=form-horizontal> <div class=form-group> <label class="control-label col-md-3" for=assignmentDuration>Assignment duration (in seconds)</label> <div class=col-md-3> <input ng-disabled="createHitForm.status == 1" class=form-control type=number id=assignmentDuration ng-model=createHitForm.assignmentDuration min=0 placeholder="Assignment duration (sec.)" required> </div> <label class="control-label col-md-3" for=tutorialTime>Keywords (for HIT search)</label> <div class=col-md-3> <input ng-disabled="createHitForm.status == 1" class=form-control type=text id=keywords ng-model=createHitForm.keywords placeholder=Keywords required> </div> </div> </div> <div class=form-horizontal> <div class=form-group> <label class="control-label col-md-3" for=disallowPrevious>Allow repeat play?</label> <div class=col-md-3> <select ng-disabled="createHitForm.status == 1" class=form-control id=disallowPrevious ng-model=createHitForm.disallowPrevious required> <option value=""></option> <option value=type>Block previous players of THIS experiment</option> <option value=any>Block previous players of ANY experiment</option> <option value=none>Allow repeat play</option> </select> </div> <label class="control-label col-md-3" for=autoLaunch>Start initStep automatically when HIT lifetime and tutorial time expire?</label> <div class=col-md-3> <input ng-disabled="createHitForm.status == 1" class=form-control type=checkbox id=autoLaunch ng-model=createHitForm.autoLaunch> </div> </div> </div> <div class="form-group col-md-12"> <button ng-disabled="hitForm.$invalid || createHitForm.status == 1" class="btn btn-default" id=submitAMTButton ng-click=createHIT(createHitForm)> Create HIT </button> </div> </div> </form> <div ng-show="createHitForm.status == 2"> <table class=table ng-repeat="hit in experimentInstance.hits"> <thead> <tr> <th colspan=2>HIT Created</th> </tr> </thead> <tbody> <tr> <td>Creation Time</td> <td>{{hit.creationTime}}</td> </tr> <tr> <td>HIT Id</td> <td>{{hit.hitId}}</td> </tr> <tr> <td>Title</td> <td>{{hit.title}}</td> </tr> <tr> <td>Description</td> <td>{{hit.description}}</td> </tr> <tr> <td>Reward</td> <td>{{hit.reward}}</td> </tr> <tr> <td>HIT lifetime (in seconds)</td> <td>{{hit.lifetimeInSeconds}}</td> </tr> <tr> <td>Tutorial time (in seconds)</td> <td>{{hit.tutorialTime}}</td> </tr> <tr> <td>Max. Assignments</td> <td>{{hit.maxAssignments}}</td> </tr> <tr> <td>URL</td> <td>{{hit.externalURL}}</td> </tr> <tr> <td>Sandbox?</td> <td>{{hit.sandbox}}</td> </tr> </tbody> </table> </div> <div ng-show="createHitForm.status == 3"> <div class="panel panel-default"> <div class=panel-heading> Error creating AMT HIT </div> <div class=panel-body> {{ createHitForm.error }} </div> </div> </div> </div> </div> <div class=container-fluid> <table class="table table-hover table-condensed" ng-show="selectedTab === \'manage\'"> <thead> <tr> <th colspan=7 class=text-center> <nav aria-label="Page navigation"> <ul class="pagination pagination-sm"> <li ng-class="{\'disabled\' : (curToken < 1)}"> <a ng-click="pageHITs(curToken - 1)" aria-label=Previous> <span aria-hidden=true>&laquo;</span> </a> </li> <li ng-class="{\'active\' : ($index === curToken)}" ng-repeat="t in tokens"><a ng-click=pageHITs($index)>{{ ($index + 1) }}</a></li> <li ng-class="{\'disabled\' : (tokens.length === 0 || curToken === (tokens.length - 1))}"> <a ng-click="pageHITs(curToken + 1)" aria-label=Next> <span aria-hidden=true>&raquo;</span> </a> </li> </ul> </nav> </th> </tr> <tr> <th></th> <th></th> <th></th> <th colspan=4 class=active>Assignments</th> </tr> <tr> <th>Title</th> <th>Creation Date</th> <th>Reward</th> <th class=active>Requested</th> <th class=active>Pending Review</th> <th class=active>Reviewed</th> <th class=active>Remaining</th> </tr> </thead> <tbody> <tr ng-repeat-start="hit in hits" ng-click=selectHIT(hit) ng-class="{\'info\' : (selectedHIT == hit)}"> <td>{{ hit.title }}</td> <td>{{ hit.creationTime | date: "yyyy-MM-dd" }}</td> <td>{{ hit.reward | currency:"$" }}</td> <td class=active>{{ hit.maxAssignments }}</td> <td class=active>{{ hit.maxAssignments - hit.numberOfAssignmentsAvailable - hit.numberOfAssignmentsCompleted }} </td> <td class=active>{{ hit.numberOfAssignmentsCompleted }}</td> <td class=active>{{ hit.numberOfAssignmentsAvailable }}</td> </tr> <tr ng-show="selectedHIT == hit" ng-repeat-end> <td colspan=7> <div class=row> <div class=col-md-12> <div class="panel panel-default"> <div class=panel-heading> Description </div> <div class=panel-body> {{ hit.description }} </div> </div> </div> <div class=col-md-12> <div class="panel panel-default"> <div class=panel-heading> Assignments </div> <div class=panel-body> <span ng-show="hit.assignments === null">Loading...</span> <span ng-show="hit.assignments !== null && hit.assignments.length === 0"> <p>No assignments found...</p> <button class="btn btn-default" ng-click=refreshAssignmentsForHIT(hit)>Refresh</button> </span> <table class="table table-condensed" ng-show="hit.assignments !== null && hit.assignments.length > 0"> <thead> <tr> <th>Assignment ID</th> <th>Worker ID</th> <th><span class="glyphicon glyphicon-check" ng-click=approveAll(hit) title="Select all"></span> Approve </th> <th><span class="glyphicon glyphicon-check" ng-click=rejectAll(hit) title="Select all"></span> Reject </th> <th><span class="glyphicon glyphicon-check" ng-click=grantAll(hit) title="Select all"></span> Bonus </th> <th>Completed</th> <th><span class="glyphicon glyphicon-collapse-down" ng-click=showAll(hit) title="Show all"></span> Answers </th> </tr> <tr> <td></td> <td></td> <td> <button class="btn btn-default" ng-if="hit.approveCount > 0" ng-click=approveAssignments(hit)>Approve {{ hit.approveCount }} </button> </td> <td> <div class=form-inline ng-if="hit.rejectCount > 0"> <div class=form-group> <label class=control-label for=rejectReasonInput2>Reason</label> <input type=text ng-model=globals.rejectionReason class=form-control id=rejectReasonInput2 placeholder=Reason> </div> <button class="btn btn-default" ng-disabled="globals.rejectionReason.length == 0" ng-click=rejectAssignments(hit)>Reject {{ hit.rejectCount }} </button> </div> </td> <td> <div class=form-inline ng-if="hit.bonusTotal > 0"> <div class=form-group> <label class=control-label for=bonusReasonInput2>Reason</label> <input type=text ng-model=globals.bonusReason class=form-control id=bonusReasonInput2 placeholder=Reason> </div> <button ng-disabled="globals.bonusReason.length == 0" class="btn btn-default" ng-click=grantBonuses(hit)>Grant {{ hit.bonusTotal | currency:"$" }} </button> </div> </td> <td></td> <td> <button class="btn btn-default" ng-click=getAssignmentsCSV(hit)> Download CSV </button> </td> </tr> </thead> <tbody> <tr ng-repeat="assignment in hit.assignments"> <td>{{ assignment.assignmentId }}</td> <td>{{ assignment.workerId }}</td> <td> <span ng-if="assignment.approvalTime !== null"> <span class="glyphicon glyphicon-ok" aria-hidden=true></span> {{ assignment.approvalTime | date: "yyyy-MM-dd" }} </span> <span ng-if="assignment.approvalPending !== null"> Approval pending... </span> <span ng-if="assignment.approvalError !== null"> Error: {{ assignment.approvalError }} </span> <span ng-if="assignment.approvalPending === null && assignment.rejectionPending === null && assignment.approvalTime === null && assignment.rejectionTime === null && assignment.approvalError === null && assignment.rejectionError === null"> <input type=checkbox ng-model=assignment.approve ng-disabled=assignment.reject ng-change=updateAssignmentCounts(hit)> Approve </span> </td> <td> <span ng-if="assignment.rejectionTime !== null"> <span class="glyphicon glyphicon-remove" aria-hidden=true></span> {{ assignment.rejectionTime | date: "yyyy-MM-dd" }} </span> <span ng-if="assignment.rejectionPending !== null"> Rejection pending... </span> <span ng-if="assignment.rejectionError !== null"> Error: {{ assignment.rejectionError }} </span> <span ng-if="assignment.rejectionPending === null && assignment.approvalPending === null && assignment.rejectionTime === null && assignment.approvalTime === null && assignment.rejectionError === null && assignment.approvalError === null"> <input type=checkbox ng-model=assignment.reject ng-disabled=assignment.approve ng-change=updateAssignmentCounts(hit)> Reject </span> </td> <td> <span ng-if="assignment.bonusGranted === null">Loading...</span> <span ng-if="assignment.bonusGranted !== null && assignment.bonusGranted > 0"> <span class="glyphicon glyphicon-ok" aria-hidden=true></span> {{ assignment.bonusGranted | currency:"$" }} </span> <span ng-if="assignment.bonusPending !== null"> Bonus pending... </span> <span ng-if="assignment.bonusError !== null"> Error: {{ assignment.bonusError }} </span> <span ng-if="assignment.bonusPending === null && assignment.bonusGranted === 0 && assignment.bonusError === null && assignment.bonus !== null && assignment.bonus > 0"> <input type=checkbox ng-model=assignment.grantBonus ng-change=updateAssignmentCounts(hit)> {{ assignment.bonus | currency:"$" }} </span> <span ng-if="assignment.bonusPending === null && assignment.bonusGranted === 0 && assignment.bonusError === null && assignment.bonus !== null && (isNaN(assignment.bonus) || assignment.bonus <= 0)"> {{ assignment.bonus | currency:"$" }} </span> </td> <td> <input type=checkbox ng-class="{\'disabled\' : (assignment.completedPending)}" ng-model=assignment.assignmentCompleted ng-change=updateAssignmentCompleted(assignment)> <span ng-if="assignment.completedError !== null"> Error: {{ assignment.completedError }} </span> <span ng-if=assignment.completedSuccess> <span class="text-success glyphicon glyphicon-ok" aria-hidden=true></span> </span> </td> <td> <button ng-if=!assignment.showAnswers ng-click="assignment.showAnswers = !assignment.showAnswers" type=button class="btn btn-sm"> <span class=glyphicon ng-class="{ \'glyphicon-collapse-down\' : assignment.showAnswers, \'glyphicon-expand\' : !assignment.showAnswers}" aria-hidden=true> </span> </button> <table class="table table-condensed" ng-if=assignment.showAnswers> <thead> <tr> <th colspan=2> <button ng-click="assignment.showAnswers = !assignment.showAnswers" type=button class="btn btn-sm"> <span class=glyphicon ng-class="{ \'glyphicon-collapse-down\' : assignment.showAnswers, \'glyphicon-expand\' : !assignment.showAnswers}" aria-hidden=true> </span> </button> </th> </tr> </thead> <tbody ng-show=assignment.showAnswers> <tr ng-repeat="(key, value) in assignment.answer"> <td class=col-md-3>{{ key }}:</td> <td class=col-md-9>{{ value }}</td> </tr> </tbody> </table> </td> </tr> </tbody> <tfoot> <tr ng-if="hit.assignmentsNextToken !== null"> <th colspan=6 class=text-center> <nav aria-label="More Assignments"> <ul class=pager> <li><a ng-click=moreAssignmentsForHIT(hit)>More</a></li> </ul> </nav> </th> </tr> <tr> <td></td> <td></td> <td> <button class="btn btn-default" ng-if="hit.approveCount > 0" ng-click=approveAssignments(hit)>Approve {{ hit.approveCount }} </button> </td> <td> <div class=form-inline ng-if="hit.rejectCount > 0"> <div class=form-group> <label class=control-label for=rejectReasonInput>Reason</label> <input type=text ng-model=globals.rejectionReason class=form-control id=rejectReasonInput placeholder=Reason> </div> <button class="btn btn-default" ng-disabled="globals.rejectionReason.length == 0" ng-click=rejectAssignments(hit)>Reject {{ hit.rejectCount }} </button> </div> </td> <td> <div class=form-inline ng-if="hit.bonusTotal > 0"> <div class=form-group> <label class=control-label for=bonusReasonInput>Reason</label> <input type=text ng-model=globals.bonusReason class=form-control id=bonusReasonInput placeholder=Reason> </div> <button ng-disabled="bonusReason.length == 0" class="btn btn-default" ng-click=grantBonuses(hit)>Grant {{ hit.bonusTotal | currency:"$" }} </button> </div> </td> <td></td> <td> <button class="btn btn-default" ng-click=getAssignmentsCSV(hit)> Download CSV </button> </td> </tr> <tr> <th>Assignment ID</th> <th>Worker ID</th> <th><span class="glyphicon glyphicon-check" ng-click=approveAll(hit) title="Select all"></span> Approve </th> <th><span class="glyphicon glyphicon-check" ng-click=rejectAll(hit) title="Select all"></span> Reject </th> <th><span class="glyphicon glyphicon-check" ng-click=grantAll(hit) title="Select all"></span> Bonus </th> <th>Completed</th> <th><span class="glyphicon glyphicon-collapse-down" ng-click=showAll(hit) title="Show all"></span> Answers </th> </tr> </tfoot> </table> </div> </div> </div> </div> </td> </tr> </tbody> <tfoot> <tr> <th colspan=7 class=text-center> <nav aria-label="Page navigation"> <ul class="pagination pagination-sm"> <li ng-class="{\'disabled\' : (curToken < 1)}"> <a ng-click="pageHITs(curToken - 1)" aria-label=Previous> <span aria-hidden=true>&laquo;</span> </a> </li> <li ng-class="{\'active\' : ($index === curToken)}" ng-repeat="t in tokens"><a ng-click=pageHITs($index)>{{ ($index + 1) }}</a></li> <li ng-class="{\'disabled\' : (tokens.length === 0 || curToken === (tokens.length - 1))}"> <a ng-click="pageHITs(curToken + 1)" aria-label=Next> <span aria-hidden=true>&raquo;</span> </a> </li> </ul> </nav> </th> </tr> </tfoot> </table> <div ng-show="selectedTab === \'payment\'"> <div>&nbsp;</div> <p> A worker can complete a Payment HIT simply by clicking a \'Submit\' button. A Payment HIT can only be accepted by the worker specified, and can be found by searching for the worker ID. </p> <p> Enter a list of AMT Worker IDs&mdash;one per line&mdash;the reason for the payment, and a reward in dollars. </p> <form name=dummyHITForm class=form ng-if="dummyHIT.submitted.length === 0"> <div class="form-group col-md-6"> <label for=workerIDs>Worker IDs</label> <textarea class=form-control ng-model=dummyHIT.workerIDs rows=15 id=workerIDs placeholder="Worker IDs" required></textarea> </div> <div class="form-group col-md-6"> <label for=reason>Reason</label> <textarea class=form-control ng-model=dummyHIT.reason rows=2 id=reason placeholder=Reason required></textarea> </div> <div class="form-group col-md-6"> <label for=reward>Reward</label> <input class="form-control currency" ng-model=dummyHIT.reward type=number min=0.01 step=0.01 id=reward required> </div> <div class="form-group col-md-12"> <button type=submit ng-click=submitDummyHITs() class="btn btn-default" ng-disabled=!dummyHITForm.$valid>Create Payment HITs </button> </div> </form> <div ng-if="dummyHIT.submitted.length > 0"> <table class=table> <thead> <tr> <th class=col-md-3>Worker ID</th> <th class=col-md-9>Status</th> </tr> </thead> <tbody> <tr ng-repeat="s in dummyHIT.submitted"> <td>{{ s.workerId }}</td> <td>{{ s.status }}</td> </tr> </tbody> </table> <div class=form-group> <label for=reason-view>Reason</label> <p class=form-control-static id=reason-view>{{ dummyHIT.reason }}</p> </div> <div class=form-group> <label for=reward-view>Reward</label> <p class=form-control-static id=reward-view>{{ dummyHIT.reward | currency:\'$\' }}</p> </div> <div class=form-group> <button ng-click=clearDummyHITs() class="btn btn-default" ng-disabled="dummyHIT.nPending > 0"> Create more Payment HITs </button> </div> </div> </div> </div> </div> ')}]),e.exports=n},function(e,t,n){"use strict";n(422),n(145),n(43),n(52),n(424),angular.module("breadboard.amt-admin",["breadboard.amt-admin.services"])},function(e,t,n){"use strict";function i(e,t,n){function i(){return v}function r(e){v=e}function o(){return e.get("/amtadmin/getAccountBalance"+(v?"?sandbox=true":"")).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function s(n){var i="/amtadmin/listHITs"+a({sandbox:v,nextToken:n});return e.get(i).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function l(n,i,r){var o="/amtadmin/listAssignmentsForHIT/"+n+a({sandbox:v,nextToken:i,maxResults:r});return console.log("listAssignmentsForHIT",o),e.get(o).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function c(n,i,r){var o="/amtadmin/listBonusPaymentsForHIT/"+n+a({sandbox:v,nextToken:i,maxResults:r});return console.log("listBonusPaymentsForHIT",o),e.get(o).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function u(n){return e.get("/amtadmin/approveAssignment/"+n+(v?"?sandbox=true":"")).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function d(n,i){var r={requesterFeedback:i};return e.post("/amtadmin/rejectAssignment/"+n+(v?"?sandbox=true":""),r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function f(n,i,r,o){var a={workerId:i,bonusAmount:r+"",reason:o};return e.post("/amtadmin/sendBonus/"+n+(v?"?sandbox=true":""),a).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function h(n,i,r){var o={workerId:n,reward:i+"",reason:r};return e.post("/amtadmin/createDummyHit"+(v?"?sandbox=true":""),o).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function p(n,i){var r={completed:i};return e.post("/amtadmin/updateAssignmentCompleted/"+n,r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function g(n,i,r,o,a,s,l,c,u,d,f){var h={title:n,description:i,reward:r+"",maxAssignments:o,hitLifetime:a,assignmentDuration:l,keywords:c,tutorialTime:s,disallowPrevious:u,experimentId:d+"",experimentInstanceId:f+""};return e.post("/amtadmin/createHIT"+(v?"?sandbox=true":""),h).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}var m={getAccountBalance:o,listHITs:s,listAssignmentsForHIT:l,listBonusPaymentsForHIT:c,approveAssignment:u,rejectAssignment:d,sendBonus:f,isSandbox:i,setSandbox:r,createDummyHIT:h,updateAssignmentCompleted:p,createHIT:g},v=!0;return m}var r=n(423),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=o.default.buildQueryStringParameters;angular.module("breadboard.amt-admin.services",[]).factory("AMTAdminSrv",i),i.$inject=["$http","$q","$timeout"]},function(e,t,n){"use strict";function i(e){var t="";for(var n in e){var i=e[n];null!==i&&void 0!==i&&(t+=encodeURIComponent(n)+"="+encodeURIComponent(i)+"&")}return t.length>0&&(t=t.substring(0,t.length-1),t="?"+t),t}Object.defineProperty(t,"__esModule",{value:!0});var r={buildQueryStringParameters:i};String.prototype.toHHMMSS=function(){var e=parseInt(this,10);if(e<0)return"00:00";var t=Math.round(e/1e3),n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60),r=t-3600*n-60*i;n<10&&(n="0"+n),i<10&&(i="0"+i),r<10&&(r="0"+r);var o=i+":"+r;return n>0&&(o=n+":"+o),o},t.default=r},function(e,t,n){var i=n(425);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0,n(51)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(50)(void 0),t.push([e.i,"@import url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css);",""]),t.push([e.i,"",""])},function(e,t,n){"use strict";function i(e,t,n,i,r){function o(){t.setSandbox(!t.isSandbox()),e.sandbox=t.isSandbox(),e.tokens=[null],e.curToken=0,e.selectedHIT=null,s(),l()}function a(t){t>-1&&t<e.tokens.length&&(e.curToken=t,l())}function s(){t.getAccountBalance().then(function(t){e.accountBalance=parseFloat(t.data.availableBalance)})}function l(){t.listHITs(e.tokens[e.curToken]).then(function(t){e.curToken===e.tokens.length-1&&t.data.hits.length>0&&null!==t.data.nextToken&&e.tokens.push(t.data.nextToken),0===t.data.hits.length?(e.curToken--,e.tokens.pop()):e.hits=t.data.hits})}function c(e){e.approveCount=0,e.rejectCount=0,e.bonusTotal=0,angular.forEach(e.assignments,function(t){t.approve&&e.approveCount++,t.reject&&e.rejectCount++,t.grantBonus&&(e.bonusTotal+=t.bonus)})}function u(e){angular.forEach(e.assignments,function(e){e.showAnswers=!e.showAnswers})}function d(e){angular.forEach(e.assignments,function(e){null===e.approvalTime&&null===e.rejectionTime&&(e.reject=!1,e.approve=!0)}),c(e)}function f(e){angular.forEach(e.assignments,function(e){null===e.rejectionTime&&null===e.approvalTime&&(e.reject=!0,e.approve=!1)}),c(e)}function h(e){angular.forEach(e.assignments,function(e){0===e.bonusGranted&&null!==e.bonus&&e.bonus>0&&(e.grantBonus=!0)}),c(e)}function p(n){angular.forEach(n.assignments,function(n){n.grantBonus&&!n.bonusPending&&(n.bonusError=null,n.bonusPending=!0,n.grantBonus=!1,t.sendBonus(n.assignmentId,n.workerId,n.bonus,e.globals.bonusReason).then(function(){n.bonusPending=null,n.bonusGranted=n.bonus,s()},function(e){n.bonusPending=null,n.bonusError=e.data}))}),c(n)}function g(e){angular.forEach(e.assignments,function(n){n.approve&&!n.approvalPending&&(n.approvalError=null,n.approvalPending=!0,n.approve=!1,t.approveAssignment(n.assignmentId).then(function(){n.approvalPending=null,n.approvalTime=Date.now(),e.numberOfAssignmentsCompleted++},function(e){n.approvalPending=null,n.approvalError=e.data}))}),c(e)}function m(n){angular.forEach(n.assignments,function(i){i.reject&&!i.rejectionPending&&(i.rejectionError=null,i.rejectionPending=!0,i.reject=!1,t.rejectAssignment(i.assignmentId,e.globals.rejectionReason).then(function(){i.rejectionPending=null,i.rejectionTime=Date.now(),n.numberOfAssignmentsCompleted++},function(e){i.rejectionPending=null,i.rejectionError=e.data}))}),c(n)}function v(e){w(e,e.assignmentsNextToken).then(function(t){e.assignments=e.assignments.concat(t),b(e,null)})}function y(e){e.completedPending=!0,t.updateAssignmentCompleted(e.assignmentId,e.assignmentCompleted).then(function(){e.completedPending=!1,e.completedSuccess=!0,r(function(){e.completedSuccess=!1},1500)},function(t){e.completedPending=!1,e.completedSuccess=!1,e.completedError=t.data})}function b(e,n){t.listBonusPaymentsForHIT(e.hitid,n,100).then(function(t){angular.forEach(e.assignments,function(e){angular.forEach(t.data.bonusPayments,function(t){t.assignmentId===e.assignmentId&&(e.bonusGranted=parseFloat(t.bonusAmount),e.bonusReason=t.reason,e.bonusTime=t.grantTime)})}),null!==t.data.nextToken?b(e,t.data.nextToken):angular.forEach(e.assignments,function(e){null===e.bonusGranted&&(e.bonusGranted=0)})})}function w(i,r){var o=n.defer();return t.listAssignmentsForHIT(i.hitid,r,e.maxAssignments).then(function(e){var t=[];i.assignmentsNextToken=e.data.nextToken,angular.forEach(e.data.assignments,function(e){e.answer=C(e.answer),e.showAnswers=!1,e.bonus=null,e.bonusGranted=null,e.approvalError=null,e.approvalPending=null,e.rejectionError=null,e.rejectionPending=null,e.bonusPending=null,e.bonusError=null,e.completedSuccess=!1,e.completedPending=!1,e.completedError=null,e.answer.hasOwnProperty("bonus")&&(e.bonus=parseFloat(e.answer.bonus)),e.approve=!1,e.reject=!1,t.push(e)}),o.resolve(t)},function(e){o.reject(e)}),o.promise}function x(t){t===e.selectedHIT?e.selectedHIT=null:k(t)}function k(t){t.assignments=null,void 0===t.approveCount&&(t.approveCount=0),void 0===t.rejectCount&&(t.rejectCount=0),void 0===t.bonusTotal&&(t.bonusTotal=0),e.selectedHIT=t,w(t,null).then(function(e){t.assignments=e,b(t,null)})}function C(e){for(var t={},n=new DOMParser,i=n.parseFromString(e,"text/xml"),r=i.getElementsByTagName("Answer"),o=0;o<r.length;o++){var a=r[o],s=a.getElementsByTagName("QuestionIdentifier")[0].innerHTML,l=a.getElementsByTagName("FreeText")[0].innerHTML;t[s]=l}return t}function $(){for(var n=e.dummyHIT.workerIDs.split("\n"),i=0;i<n.length;i++){var r={},o=n[i].trim();o.length>0&&(r.workerId=n[i].trim(),r.status="Pending...",e.dummyHIT.nPending++,e.dummyHIT.submitted.push(r),function(n,i){t.createDummyHIT(n,e.dummyHIT.reward,e.dummyHIT.reason).then(function(){i.status="Created",e.dummyHIT.nPending--},function(t){i.status="Error: "+t.data,e.dummyHIT.nPending--})}(o,r))}}function S(){e.dummyHIT.submitted=[]}function _(n){console.log("sandbox",e.sandbox),console.log("createHitForm.disallowPrevious",n.disallowPrevious),console.log("createHitForm.tutorialTime",n.tutorialTime),console.log("createHitForm.lifetime",n.lifetime),console.log("createHitForm.maxAssignments",n.maxAssignments),console.log("createHitForm.reward",n.reward),console.log("createHitForm.description",n.description),console.log("createHitForm.title",n.title),console.log("experimentInstance",e.experimentInstance),console.log("experiment",e.experiment),n.status=1,t.createHIT(n.title,n.description,n.reward,n.maxAssignments,n.lifetime,n.tutorialTime,n.assignmentDuration,n.keywords,n.disallowPrevious,e.experiment.id,e.experimentInstance.id).then(function(){console.log("createHIT returned OK"),n.status=2,n.autoLaunch&&(console.log("createHitForm.autoLaunch is true"),e.onCreateHit()(n.lifetime,n.tutorialTime))},function(e){n.status=3,n.error=e.data})}function T(e){var t='"hitId","hitTitle","creationTime","assignmentId","workerId","approvalTime","rejectionTime","bonusGranted"',n=[],r=[];angular.forEach(e.assignments,function(e){angular.forEach(e.answer,function(e,n){-1===r.indexOf(n)&&(t+=',"'+n+'"',r.push(n))})}),angular.forEach(e.assignments,function(t){for(var o='"'+e.hitid+'","'+e.title+'","'+i("date")(e.creationTime,"yyyy-MM-dd")+'","'+t.assignmentId+'","'+t.workerId+'","'+(t.approvalTime?i("date")(t.approvalTime,"yyyy-MM-dd"):"")+'","'+(t.rejectionTime?i("date")(t.rejectionTime,"yyyy-MM-dd"):"")+'","'+t.bonusGranted+'"',a=0;a<r.length;a++)t.answer.hasOwnProperty(r[a])?o+=',"'+t.answer[r[a]].replace(/"/g,'""')+'"':o+=',""';n.push(o)});var o=t+"\n"+n.join("\n");console.log("csvString",o);var a=e.hitid+".csv",s=new Blob([o],{type:"text/csv"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(s,a);else{var l=document.createEvent("MouseEvents"),c=document.createElement("a");c.download=a,c.href=window.URL.createObjectURL(s),c.dataset.downloadurl=["text/csv",c.download,c.href].join(":"),l.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(l)}}e.accountBalance=null,e.tokens=[null],e.curToken=0,e.hits=[],e.selectedTab="manage",e.selectedHIT=null,e.showCreateHIT=!1,e.creatingHIT=!1,e.showManageHITs=!1,e.showCreateDummyHITs=!1,e.sandbox=t.isSandbox(),e.maxAssignments=20,e.dummyHIT={workerIDs:"",reason:"",reward:1,submitted:[],nPending:0},e.createHitForm={disallowPrevious:"type",tutorialTime:300,lifetime:300,assignmentDuration:5400,keywords:"",maxAssignments:20,reward:1,description:"",title:"",autoLaunch:!0,status:0,error:""},e.$watch("experimentInstance",function(t,n){t&&t.hits&&t.hits.length>0?e.createHitForm.status=2:t&&n&&t.id!==n.id&&(e.createHitForm.status=0)}),e.globals={bonusReason:"Final game score.",rejectionReason:"You failed to complete the task correctly."},e.listHITs=l,e.moreAssignmentsForHIT=v,e.pageHITs=a,e.selectHIT=x,e.updateAssignmentCounts=c,e.updateAssignmentCompleted=y,e.grantBonuses=p,e.approveAssignments=g,e.rejectAssignments=m,e.approveAll=d,e.rejectAll=f,e.grantAll=h,e.showAll=u,e.toggleSandbox=o,e.submitDummyHITs=$,e.clearDummyHITs=S,e.getAssignmentsCSV=T,e.refreshAssignmentsForHIT=k,e.createHIT=_,s(),l()}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope","AMTAdminSrv","$q","$filter","$timeout"],t.default=i},function(e,t,n){"use strict";n(428),n(146),angular.module("breadboard.create-new-experiment",["breadboard.create-new-experiment.service"])},function(e,t,n){"use strict";function i(e,t){function n(n,i){var r={newExperimentName:n,copyExperimentId:i};return e.put("experiment",r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}return{createNewExperiment:n}}angular.module("breadboard.create-new-experiment.service",[]).factory("CreateNewExperimentSrv",i),i.$inject=["$http","$q"]},function(e,t,n){"use strict";function i(e,t,n){function i(){t.createNewExperiment(r.newExperimentName,r.copyExperimentId).then(function(t){var i=t.data;e.userExperiments.push(i),r.success=!0,n(function(){$("#newExperimentDialog").dialog("close"),r.success=!1},1500)},function(e){r.error=e.data})}var r=this;r.createNewExperiment=i,r.newExperimentName="",r.copyExperimentId=-1,r.error="",r.success=!1}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope","CreateNewExperimentSrv","$timeout"],t.default=i},function(e,t){var n="files/app/create-new-experiment/create-new-experiment.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div> <div class="panel panel-success" ng-show=vm.success> <div class=panel-heading> <h3 class=panel-title>Success</h3> </div> <div class=panel-body> Experiment {{vm.newExperimentName}} created. </div> </div> <div class="panel panel-danger" ng-show="vm.error.length > 0"> <div class=panel-heading> <h3 class=panel-title>Error</h3> </div> <div class=panel-body> {{ vm.error }} </div> </div> <form ng-hide=vm.success class=form name=createNewExperimentForm ng-submit=vm.createNewExperiment()> <div class=form-group> <label class=control-label for=copyExperiment>Copy</label> <select class=form-control id=copyExperiment ng-model=vm.copyExperimentId required> <option value=-1>Default</option> <option ng-repeat="experiment in userExperiments" value={{experiment.id}}> {{experiment.name}} </option> </select> </div> <div class=form-group> <label class=control-label for=newExperimentName>Name</label> <input class=form-control type=text id=newExperimentName ng-model=vm.newExperimentName placeholder="Experiment name" required> </div> <div class=form-group> <button class="btn btn-default pull-right" type=submit ng-disabled=createNewExperimentForm.$invalid> Create </button> </div> </form> </div> ')}]),e.exports=n},function(e,t,n){"use strict";n(432),n(147),n(45),n(71),n(43),n(52),n(44),n(435),angular.module("breadboard.customize",["breadboard.services","breadboard.constants","breadboard.customize.service","breadboard.tab-status","ui.codemirror"])},function(e,t,n){"use strict";function i(e,t){function n(n){return e.get("customize/clientHtml/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function i(n){return e.get("customize/clientGraph/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function r(n){return e.get("customize/style/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function o(n,i){var r={clientHtml:i};return e.post("customize/clientHtml/"+n,r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function a(n,i){var r={clientGraph:i};return e.post("customize/clientGraph/"+n,r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function s(n,i){var r={style:i};return e.post("customize/style/"+n,r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}return{getClientHtml:n,getClientGraph:i,getStyle:r,updateClientHtml:o,updateClientGraph:a,updateStyle:s}}angular.module("breadboard.customize.service",[]).factory("CustomizeSrv",i),i.$inject=["$http","$q"]},function(e,t,n){"use strict";n(45),angular.module("breadboard.tab-status",[])},function(e,t){var n="files/app/directives/tab-status/tab-status.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<span> <i ng-show="status === STATUS.UNCHANGED" class="fa fa-circle text-transparent" aria-hidden=true></i> <i ng-show="status === STATUS.ERROR" class="fa fa-info-circle text-danger" aria-hidden=true></i> <i ng-show="status === STATUS.MODIFIED" class="fa fa-circle text-warning" aria-hidden=true></i> <i ng-show="status === STATUS.SAVED" class="fa fa-check-circle text-success" aria-hidden=true></i> <i ng-show="status === STATUS.SAVING || status === STATUS.LOADING" class="fa fa-refresh fa-spin text-info" aria-hidden=true></i> </span> ')}]),e.exports=n},function(e,t,n){var i=n(436);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0,n(51)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(50)(void 0),t.push([e.i,".text-transparent{opacity:0}",""])},function(e,t){var n="files/app/customize/customize.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=container-fluid> <div class=row> <div class=col-md-12> <ul class="nav nav-tabs"> <li role=presentation ng-class="{\'active\': (vm.selectedTab === vm.TAB.STYLE) }"> <a ng-click="vm.selectTab(vm.TAB.STYLE, \'styleTab\')"> Style <tab-status status=vm.style.status></tab-status> </a> </li> <li role=presentation ng-class="{\'active\': (vm.selectedTab === vm.TAB.GRAPH) }"> <a ng-click="vm.selectTab(vm.TAB.GRAPH, \'graphTab\')"> Client Graph <tab-status status=vm.clientGraph.status></tab-status> </a> </li> <li role=presentation ng-class="{\'active\': (vm.selectedTab === vm.TAB.HTML) }"> <a ng-click="vm.selectTab(vm.TAB.HTML, \'htmlTab\')"> Client HTML <tab-status status=vm.clientHtml.status></tab-status> </a> </li> </ul> <div class="panel panel-danger" ng-show="vm.style.errorMessage.length > 0"> <div class=panel-heading> <h3 class=panel-title>Error</h3> </div> <div class=panel-body> <p ng-bind-html="vm.style.errorMessage | to_trusted"></p> </div> </div> <div class="panel panel-danger" ng-show="vm.clientGraph.errorMessage.length > 0"> <div class=panel-heading> <h3 class=panel-title>Error</h3> </div> <div class=panel-body> <p ng-bind-html="vm.clientGraph.errorMessage | to_trusted"></p> </div> </div> <div class="panel panel-danger" ng-show="vm.clientHtml.errorMessage.length > 0"> <div class=panel-heading> <h3 class=panel-title>Error</h3> </div> <div class=panel-body> <p ng-bind-html="vm.clientHtml.errorMessage | to_trusted"></p> </div> </div> <div ng-show="vm.selectedTab === vm.TAB.STYLE" id=styleTab> <textarea class=codemirror ui-codemirror ui-codemirror-opts=vm.style.codeMirrorOptions ng-model=vm.style.clientValue></textarea> </div> <div ng-show="vm.selectedTab === vm.TAB.GRAPH" id=graphTab> <textarea class=codemirror ui-codemirror ui-codemirror-opts=vm.clientGraph.codeMirrorOptions ng-model=vm.clientGraph.clientValue></textarea> </div> <div ng-show="vm.selectedTab === vm.TAB.HTML" id=htmlTab> <textarea class=codemirror ui-codemirror ui-codemirror-opts=vm.clientHtml.codeMirrorOptions ng-model=vm.clientHtml.clientValue></textarea> </div> </div> </div> </div> ')}]),e.exports=n},function(e,t,n){"use strict";function i(e,t,n,i){function r(){d.clientHtml.status=n.LOADING,t.getClientHtml(d.experimentId).then(function(t){d.clientHtml.status=n.UNCHANGED,d.clientHtml.errorMessage="",d.clientHtml.serverValue=t.data.clientHtml,d.clientHtml.clientValue=t.data.clientHtml,e.$watch("vm.clientHtml.clientValue",function(t){t!==e.vm.clientHtml.serverValue?d.clientHtml.status=n.MODIFIED:d.clientHtml.status!==n.SAVED&&(d.clientHtml.status=n.UNCHANGED)})},function(e){d.clientHtml.status=n.ERROR,d.clientHtml.errorMessage=e.data?e.data:e})}function o(){d.clientGraph.status=n.LOADING,t.getClientGraph(d.experimentId).then(function(t){d.clientGraph.status=n.UNCHANGED,d.clientGraph.errorMessage="",d.clientGraph.serverValue=t.data.clientGraph,d.clientGraph.clientValue=t.data.clientGraph,e.$watch("vm.clientGraph.clientValue",function(e){e!==d.clientGraph.serverValue?d.clientGraph.status=n.MODIFIED:d.clientGraph.status!==n.SAVED&&(d.clientGraph.status=n.UNCHANGED)})},function(e){d.clientGraph.status=n.ERROR,d.clientGraph.errorMessage=e.data?e.data:e})}function a(){d.style.status=n.LOADING,t.getStyle(d.experimentId).then(function(t){d.style.status=n.UNCHANGED,d.style.errorMessage="",d.style.serverValue=t.data.style,d.style.clientValue=t.data.style,e.$watch("vm.style.clientValue",function(e){e!==d.style.serverValue?d.style.status=n.MODIFIED:d.style.status!==n.SAVED&&(d.style.status=n.UNCHANGED)})},function(e){d.style.status=n.ERROR,d.style.errorMessage=e.data?e.data:e})}function s(e,t){e!==d.selectedTab&&(d.selectedTab=e,e===f.HTML&&d.clientHtml.status===n.UNLOADED&&r(),e===f.GRAPH&&d.clientGraph.status===n.UNLOADED&&o(),e===f.STYLE&&d.style.status===n.UNLOADED&&a(),i(function(){for(var e=document.getElementById(t).getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&i.refresh()}},100))}function l(){d.clientHtml.status=n.SAVING,t.updateClientHtml(d.experimentId,d.clientHtml.clientValue).then(function(){d.clientHtml.errorMessage="",d.clientHtml.status=n.SAVED,i(function(){d.clientHtml.status=n.UNCHANGED},h),d.clientHtml.serverValue=d.clientHtml.clientValue},function(e){d.clientHtml.status=n.ERROR,d.clientHtml.errorMessage=e.data?e.data:e})}function c(){d.clientGraph.status=n.SAVING,t.updateClientGraph(d.experimentId,d.clientGraph.clientValue).then(function(){d.clientGraph.errorMessage="",d.clientGraph.status=n.SAVED,i(function(){d.clientGraph.status=n.UNCHANGED},h),d.clientGraph.serverValue=d.clientGraph.clientValue},function(e){d.clientGraph.status=n.ERROR,d.clientGraph.errorMessage=e.data?e.data:e})}function u(){d.style.status=n.SAVING,t.updateStyle(d.experimentId,d.style.clientValue).then(function(){d.style.errorMessage="",d.style.status=n.SAVED,i(function(){d.style.status=n.UNCHANGED},h),d.style.serverValue=d.style.clientValue,$("#styleTag").text(d.style.clientValue)},function(e){d.style.status=n.ERROR,d.style.errorMessage=e.data?e.data:e})}var d=this,f={HTML:1,GRAPH:2,STYLE:3},h=1e3;d.experimentId=void 0,d.TAB=f,d.selectTab=s,d.selectedTab=0,d.clientHtml={status:n.UNLOADED,errorMessage:"",serverValue:"",clientValue:"",codeMirrorOptions:{lineNumbers:!0,matchBrackets:!0,mode:"text/html",extraKeys:{"Ctrl-Enter":l},vimMode:!1,showCursorWhenSelecting:!0}},d.clientGraph={status:n.UNLOADED,errorMessage:"",serverValue:"",clientValue:"",codeMirrorOptions:{lineNumbers:!0,matchBrackets:!0,mode:"text/javascript",extraKeys:{"Ctrl-Enter":c},vimMode:!1,showCursorWhenSelecting:!0}},d.style={status:n.UNLOADED,errorMessage:"",serverValue:"",clientValue:"",codeMirrorOptions:{lineNumbers:!0,matchBrackets:!0,mode:"text/css",extraKeys:{"Ctrl-Enter":u},vimMode:!1,showCursorWhenSelecting:!0}},e.$watch("experimentId",function(e){e!==d.experimentId&&(d.selectedTab=void 0,d.experimentId=e,d.clientHtml.status=n.UNLOADED,d.clientGraph.status=n.UNLOADED,d.style.status=n.UNLOADED,s(f.STYLE,"styleTab"))}),e.saveCustomize=function(){d.clientHtml.status!==n.MODIFIED&&d.clientHtml.status!==n.ERROR||l(),d.clientGraph.status!==n.MODIFIED&&d.clientGraph.status!==n.ERROR||c(),d.style.status!==n.MODIFIED&&d.style.status!==n.ERROR||u()}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope","CustomizeSrv","STATUS","$timeout"],t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(100),n(443),n(446),n(45);var r=n(449),o=i(r),a=n(450),s=i(a);angular.module("breadboard.steps").directive("steps",function(){return{restrict:"E",scope:{experimentId:"=",actions:"="},link:function(e){angular.extend(e.actions,{saveSteps:function(){e.saveSteps()}})},controllerAs:"vm",controller:s.default,templateUrl:o.default}})},function(e,t,n){"use strict";function i(e,t){function n(n){return e.get("steps/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function i(n,i){var r={experimentId:n,stepSource:i.clientSource,name:i.name};return e.post("steps/"+i.id,r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function r(n,i){var r={stepName:i};return e.put("steps/"+n,r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function o(n){return e.delete("steps/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}return{getSteps:n,updateStep:i,createStep:r,deleteStep:o}}angular.module("breadboard.steps.service",[]).factory("StepsSrv",i),i.$inject=["$http","$q"]},function(e,t,n){var i=n(442);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0,n(51)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(50)(void 0),t.push([e.i,".text-transparent{opacity:0}a{cursor:pointer}.btn-xxs{font-size:10px;line-height:1;padding:1px 5px}",""])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(100);var r=n(444),o=i(r),a=n(445),s=i(a);angular.module("breadboard.steps").directive("step",function(){return{restrict:"E",replace:!0,scope:{step:"=",selectedStep:"=",selectStep:"&",deleteStep:"&"},controllerAs:"vm",controller:s.default,templateUrl:o.default}})},function(e,t){var n="files/app/steps/step.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<li role=presentation ng-class="{\'active\': (selectedStep === vm.step)}"> <a ng-click=vm.selectStep(vm.step)> <span ng-if=!vm.step.editName>{{ vm.step.name }}</span> <step-name ng-if=vm.step.editName step=vm.step></step-name> <tab-status status=vm.step.status></tab-status> <button ng-if="selectedStep === vm.step && vm.protectedSteps.indexOf(vm.step.name) === -1" class="btn btn-xxs" title="Delete this step" tooltip="Delete this step" tooltip-placement=bottom ng-click=vm.deleteStep(vm.step)> <span class="glyphicon glyphicon-remove glyph-xxs" aria-hidden=true> </span> </button> </a> </li> ')}]),e.exports=n},function(e,t,n){"use strict";function i(e,t,n){var i=this;i.protectedSteps=["InitStep","OnJoinStep","OnLeaveStep"],i.step=e.step,i.selectStep=e.selectStep(),i.deleteStep=e.deleteStep(),i.step.clientSource=i.step.source,i.step.status=t.UNCHANGED,e.$watch("vm.step.clientSource",function(e){e!==i.step.source?i.step.status=t.MODIFIED:i.step.status!==t.SAVED&&(i.step.status=t.UNCHANGED)})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope","STATUS","$timeout"],t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(100);var r=n(447),o=i(r),a=n(448),s=i(a);angular.module("breadboard.steps").directive("stepName",["$timeout",function(e){return{restrict:"E",replace:!0,scope:{step:"="},link:function(t,n){e(function(){n[0].focus(),n[0].select()}),n.bind("keydown keypress",function(e){13===e.which&&(n[0].blur(),e.preventDefault())})},controllerAs:"vm",controller:s.default,templateUrl:o.default}}])},function(e,t){var n="files/app/steps/step-name.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<input type=text ng-model=vm.step.inputName ng-blur="vm.step.name = vm.step.inputName;vm.step.editName = false"> ')}]),e.exports=n},function(e,t,n){"use strict";function i(e){this.step=e.step}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope"],t.default=i},function(e,t){var n="files/app/steps/steps.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=container-fluid> <div class=row> <div class=col-md-12> <ul class="nav nav-tabs"> <step ng-repeat="step in vm.steps" step=step select-step=vm.selectStep delete-step=vm.deleteStep selected-step=vm.selectedStep></step> <li role=presentation class=dropdown> <a class=dropdown-toggle role=button aria-haspopup=true aria-expanded=false> Create <span class=caret></span> </a> <ul class=dropdown-menu> <li><a href=# ng-click=vm.createStep(0)>Synchronous step</a></li> <li><a href=# ng-click=vm.createStep(1)>Asynchronous step</a></li> <li><a href=# ng-click=vm.createStep(2)>Empty step</a></li> </ul> </li> </ul> <div id=stepTab> <div class="panel panel-danger" ng-show="vm.selectedStep.error && vm.selectedStep.error.length > 0"> <div class=panel-heading> <h3 class=panel-title>Error</h3> </div> <div class=panel-body> <p ng-bind-html="vm.selectedStep.error | to_trusted"></p> </div> </div> <textarea class=codemirror ui-codemirror ui-codemirror-opts=vm.codeMirrorOptions ng-model=vm.selectedStep.clientSource></textarea> </div> </div> </div> </div> ')}]),e.exports=n},function(e,t,n){"use strict";function i(e,t,n,i,r,o){function a(){t.getSteps(e.experimentId).then(function(e){p.steps=r(e.data.steps,"name",!1),p.selectedStep=p.steps[0]},function(e){p.error=e.data})}function s(e){e!==p.selectedStep&&(p.selectedStep=e,i(function(){for(var e=document.getElementById("stepTab").getElementsByClassName("CodeMirror"),t=0;t<e.length;t++){var n=e[t].CodeMirror;n&&n.refresh()}},100))}function l(){h(p.selectedStep,e.experimentId)}function c(t){var n=u("NewStep",t),i={id:-1,inputName:"NewStep",name:"NewStep",editName:!0,isNew:!0,clientSource:n,source:null};p.steps.push(i),p.selectedStep=i,e.$watch("vm.selectedStep.inputName",function(e){if(p.selectedStep.editName){var n=u(e,t);p.selectedStep.clientSource=n}})}function u(e,t){if(2===t)return"";var n=d(e);return n+" = stepFactory."+(0===t?"createStep":"createNoUserActionStep")+'("'+e+'")\n\n'+n+'.run = {\n  println "'+n+'.run"\n}\n\n'+n+'.done = {\n  println "'+n+'.done"\n}'}function d(e){return e.replace(/[-_]+/g," ").replace(/[^\w\s]/g,"").replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/ /g,"")}function f(e){o.confirm("Would you like to delete "+e.name+" permanently? This action cannot be undone.").then(function(i){if(-1!==e.id)t.deleteStep(e.id).then(function(){var t=p.steps.indexOf(e);p.steps.splice(t,1),t>p.steps.length-1&&(t=0),p.selectedStep=p.steps[t],p.onDeleteStep()},function(t){e.status=n.ERROR,e.error=t.data});else{var r=p.steps.indexOf(e);p.steps.splice(r,1),r>p.steps.length-1&&(r=0),p.selectedStep=p.steps[r]}},function(e){})}function h(e,r){e.status=n.SAVING,t.updateStep(r,e).then(function(t){e.id=t.data.id,e.status=n.SAVED,i(function(){e.status=n.UNCHANGED},g),e.error="",e.source=e.clientSource,p.sendStep(e)},function(t){e.status=n.ERROR,e.error=t.data})}var p=this,g=1e3;p.createStep=c,p.selectStep=s,p.deleteStep=f,p.sendStep=e.actions.sendStep,p.onDeleteStep=e.actions.onDeleteStep,p.selectedStep={},p.steps=[],p.createStatus=n.UNLOADED,p.error="",p.codeMirrorOptions={lineNumbers:!0,matchBrackets:!0,mode:"text/x-groovy",extraKeys:{"Ctrl-Enter":l},vimMode:!1,showCursorWhenSelecting:!0},a(),e.$watch("experimentId",a),e.saveSteps=function(){angular.forEach(p.steps,function(t){t.status===n.MODIFIED&&h(t,e.experimentId)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","StepsSrv","STATUS","$timeout","orderByFilter","alertService"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(101),n(455),n(458),n(45);var r=n(461),o=i(r),a=n(462),s=i(a);angular.module("breadboard.content").directive("content",function(){return{restrict:"E",scope:{experimentId:"=",experimentLanguages:"=",actions:"="},link:function(e){angular.extend(e.actions,{saveContent:function(){e.saveContent()}})},controllerAs:"vm",controller:s.default,templateUrl:o.default}})},function(e,t,n){"use strict";function i(e,t){function n(n){return e.get("content/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function i(n,i){var r=[];angular.forEach(i.translations,function(e){r.push({id:e.id,html:e.clientHtml,language:e.language})});var o={experimentId:n,contentId:i.id,translations:r,name:i.name};return e.post("content/"+i.id,o).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function r(n,i){var r={name:i.name,translations:i.translations};return e.put("content/"+n,r).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}function o(n){return e.delete("content/"+n).then(function(e){return e.status<400?t.when(e):t.reject(e)},function(e){return t.reject(e)})}return{getContent:n,updateContent:i,createContent:r,deleteContent:o}}angular.module("breadboard.content.service",[]).factory("ContentSrv",i),i.$inject=["$http","$q"]},function(e,t,n){var i=n(454);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0,n(51)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(50)(void 0),t.push([e.i,".text-transparent{opacity:0}a{cursor:pointer}.btn-block{margin-bottom:5px}.btn-xxs{font-size:12px;line-height:1;padding:1px 5px}\r\n\r\n/*!\r\n * Yamm!3 - Yet another megamenu for Bootstrap 3\r\n * http://geedmo.github.com/yamm3\r\n *\r\n * @geedmo - Licensed under the MIT license\r\n */.yamm .collapse,.yamm .dropdown,.yamm .dropup,.yamm .nav{position:static}.yamm .container{position:relative}.yamm .dropdown-menu{left:auto}.yamm .yamm-content{padding:20px 30px}.yamm .dropdown.yamm-fw .dropdown-menu{left:0;right:0}.dropdown.form-control-static.language{position:relative}",""])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(101);var r=n(456),o=i(r),a=n(457),s=i(a);angular.module("breadboard.content").directive("contentStatus",function(){return{restrict:"E",replace:!0,scope:{content:"=",selectedContent:"=",selectContent:"&",deleteContent:"&"},controllerAs:"vm",controller:s.default,templateUrl:o.default}})},function(e,t){var n="files/app/content/content-status.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<li role=presentation ng-class="{\'active\': (selectedContent === vm.content)}"> <a ng-click=vm.selectContent(vm.content)> <span ng-if=!vm.content.editName class=form-control-static ng-dblclick="vm.content.inputName = vm.content.name;vm.content.editName = true"> {{ vm.content.name }} </span> <content-name ng-if=vm.content.editName content=vm.content></content-name> <tab-status status=vm.content.status></tab-status> <button ng-if="selectedContent === vm.content" class="btn btn-link btn-xxs" title="Delete this content" tooltip="Delete this content" tooltip-placement=bottom ng-click=vm.deleteContent(vm.content)> <span class="glyphicon glyphicon-remove glyph-xxs" aria-hidden=true> </span> </button> </a> </li> ')}]),e.exports=n},function(e,t,n){"use strict";function i(e,t){var n=this;n.content=e.content,n.selectContent=e.selectContent(),n.deleteContent=e.deleteContent(),n.content.status=n.content.html===n.content.clientHtml?t.UNCHANGED:t.MODIFIED,e.$watch("vm.content.translations",function(e){var i=!1;angular.forEach(e,function(e){e.html!==e.clientHtml&&(i=!0)}),i?n.content.status=t.MODIFIED:n.content.status!==t.SAVED&&(n.content.status=t.UNCHANGED)},!0)}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope","STATUS"],t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(101);var r=n(459),o=i(r),a=n(460),s=i(a);angular.module("breadboard.content").directive("contentName",["$timeout",function(e){return{restrict:"E",replace:!0,scope:{content:"="},link:function(t,n){e(function(){n[0].focus(),n[0].select()}),n.bind("keydown keypress",function(e){13===e.which&&(n[0].blur(),e.preventDefault())})},controllerAs:"vm",controller:s.default,templateUrl:o.default}}])},function(e,t){var n="files/app/content/content-name.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<input type=text class=form-control ng-model=vm.content.name ng-blur="vm.content.status = vm.STATUS.MODIFIED;vm.content.editName = false"> ')}]),e.exports=n},function(e,t,n){"use strict";function i(e,t){var n=this;n.STATUS=t,n.content=e.content}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope","STATUS"],t.default=i},function(e,t){var n="files/app/content/content.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=container-fluid> <div class=row id=contentErrorDiv> <div class=col-md-12> <div class="panel panel-danger" ng-show="vm.error && vm.error.length > 0"> <div class=panel-heading> <h3 class=panel-title>Error</h3> </div> <div class=panel-body> <p ng-bind-html="vm.error | to_trusted"></p> </div> </div> </div> </div> <div class=row id=contentNavDiv> <div class=col-md-12> <nav class="navbar yamm navbar-default" role=navigation> <ul class="nav navbar-nav form-inline"> <li class="dropdown form-control-static"> <a href=# class=dropdown-toggle tooltip="Change experiment languages" tooltip-placement=right tooltip-append-to-body=true> <span class="fa fa-language"></span> <span class=caret></span> </a> <ul class=dropdown-menu> <li> <div class=yamm-content> <div class=row-fluid> <div class=col-md-2 ng-repeat="l in vm.languages | orderBy: \'name\'"> <button class="btn btn-default btn-block" ng-if=!vm.experimentHasLanguage(l) href=# ng-click="vm.addLanguage(vm.experimentId, l)"> {{ l.name }} </button> <button class="btn btn-info btn-block" ng-if=vm.experimentHasLanguage(l) href=# ng-click="vm.removeLanguage(vm.experimentId, l)"> <span class="fa fa-check"></span> {{ l.name }} </button> </div> </div> </div> </li> </ul> </li> <li class="dropdown form-control-static language"> <a href=# class=dropdown-toggle role=button aria-haspopup=true aria-expanded=false> {{ vm.selectedLanguage.name }} ({{ vm.selectedLanguage.code }}) <span class=caret></span> </a> <ul class=dropdown-menu> <li ng-repeat="language in vm.experimentLanguages | orderBy: \'name\'"> <a href=# ng-click="vm.selectedLanguage = language">{{ language.name }} ({{ language.code }})</a> </li> </ul> </li> <content-status ng-repeat="c in vm.content" content=c select-content=vm.selectContent delete-content=vm.deleteContent selected-content=vm.selectedContent></content-status> <li role=presentation class=form-control-static> <a ng-click=vm.createContent()> <span class="glyphicon glyphicon-plus" tooltip="Create new content" tooltip-placement=right tooltip-append-to-body=true aria-hidden=true> </span> </a> </li> </ul> </nav> </div> </div> <div class=row> <div class=col-md-12> <div> <div class="panel panel-danger" ng-show="vm.selectedContent.error && vm.selectedContent.error.length > 0"> <div class=panel-heading> <h3 class=panel-title>Error</h3> </div> <div class=panel-body> {{ vm.selectedContent.error }} </div> </div> <div id=tinymceDiv ng-if="vm.selectedTranslation !== undefined"> <textarea id=tinymceTextarea ui-tinymce=vm.tinymceOptions ng-model=vm.selectedTranslation.clientHtml></textarea> </div> </div> </div> </div> </div> ')}]),e.exports=n},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a){function s(e){return"<p>Type your content for the "+e+" language here.</p>"}function l(){if(v.selectedTranslation=void 0,v.selectedContent&&v.selectedLanguage){for(var e=0;e<v.selectedContent.translations.length;e++){var t=v.selectedContent.translations[e];t.language.id===v.selectedLanguage.id&&(v.selectedTranslation=t)}if(void 0===v.selectedTranslation){var n=h(v.selectedLanguage);v.selectedContent.translations.push(n),v.selectedTranslation=n}}}function c(e,t){o.addLanguage(e,t.id).then(function(e){v.experimentLanguages.push(e.data),v.selectedLanguage=e.data},function(e){v.error=e.data})}function u(e,t){a.confirm("This action is permanent. Are you sure you want to remove "+t.name+" from translated languages?").then(function(n){o.removeLanguage(e,t.id).then(function(){var e=v.experimentLanguages.indexOf(t);v.experimentLanguages.splice(e,1)},function(e){v.error=e.data})},function(e){})}function d(e){for(var t=0;t<v.experimentLanguages.length;t++)if(v.experimentLanguages[t].id===e.id)return!0;return!1}function f(e){e!==v.selectedContent&&(v.selectedContent=e)}function h(e){return{id:-1,html:"",clientHtml:s(e.name),language:e}}function p(){for(var e=[],t=0;t<v.experimentLanguages.length;t++){var n=v.experimentLanguages[t],i=h(n);e.push(i)}var r={id:-1,name:"NewContent",editName:!0,isNew:!0,translations:e};v.content.push(r),v.selectedContent=r}function g(e){a.confirm("This action is permanent. Are you sure you'd like to delete "+e.name+"?").then(function(i){if(-1!==e.id)t.deleteContent(e.id).then(function(){var t=v.content.indexOf(e);v.content.splice(t,1),t>v.content.length-1&&(t=0),v.selectedContent=v.content[t]},function(t){e.status=n.ERROR,e.error=t.data});else{var r=v.content.indexOf(e);v.content.splice(r,1),r>v.content.length-1&&(r=0),v.selectedContent=v.content[r]}},function(e){})}function m(e,r){e.status=n.SAVING,t.updateContent(r,e).then(function(t){e.id=t.data.id,e.translations=t.data.translations,e.status=n.SAVED,i(function(){e.status=n.UNCHANGED},y),e.error="",angular.forEach(e.translations,function(e){e.clientHtml=e.html}),l()},function(t){e.status=n.ERROR,e.error=t.data})}var v=this,y=1e3;v.addLanguage=c,v.removeLanguage=u,v.experimentHasLanguage=d,v.createContent=p,v.selectContent=f,v.deleteContent=g,v.getSelectedTranslation=l,v.languages=[],v.experimentLanguages=e.experimentLanguages,v.experimentId=e.experimentId,v.content=[],v.createStatus=n.UNLOADED,v.error="",v.tinymceOptions={theme:"modern",width:"100%",height:"100%",plugins:"spellchecker image code lists link charmap textcolor autoresize",toolbar:"styleselect | bullist numlist outdent indent | forecolor backcolor | cut copy paste | undo redo | link unlink | charmap | spellchecker | code | image",statusbar:!1,menubar:!1,convert_urls:!1,content_css:"/assets/css/tinymce.css",valid_elements:"*[*]",resize:!0,autoresize_max_height:$("#contentDiv").height()-$("#contentNavDiv").height()-$("#contentErrorDiv").height()},v.selectedContent=void 0,v.selectedTranslation=void 0,v.selectedLanguage=v.experimentLanguages[0],t.getContent(v.experimentId).then(function(t){v.content=r(t.data.content,"name",!1),angular.forEach(v.content,function(e){angular.forEach(e.translations,function(e){e.clientHtml=e.html})}),v.selectedContent=v.content[0],v.selectedTranslation=l(),e.$watch("vm.selectedLanguage",l),e.$watch("vm.selectedContent",l)},function(e){v.error=e.data}),o.all().then(function(e){v.languages=e.languages},function(e){v.error=e.data}),e.saveContent=function(){angular.forEach(v.content,function(e){e.status===n.MODIFIED&&m(e,v.experimentId)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","ContentSrv","STATUS","$timeout","orderByFilter","languageService","alertService"]},function(e,t,n){"use strict";n(148),angular.module("breadboard.instance-parameters",[])},function(e,t){var n="files/app/directives/instance-parameters/instance-parameters.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<table class="table table-condensed"> <thead> <tr> <th>Parameter</th> <th>Value</th> </tr> </thead> <tbody> <tr ng-if="!instance.data || instance.data.length == 0"> <td colspan=2>No parameters</td> </tr> <tr ng-repeat="d in instance.data"> <td>{{d.name}}</td> <td>{{d.value}}</td> </tr> </tbody> </table> ')}]),e.exports=n},function(e,t,n){var i=n(466);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0,n(51)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(50)(void 0),t.push([e.i,'body,html{height:100%;width:100%;padding:0;margin:0;font-family:Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:12pt;line-height:1em}div.formRow label{display:inline-block;width:300px}div.experiment-group{margin-left:1em}.ng-cloak,[ng-cloak],[ng\\:cloak]{display:none}select option{font-family:Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:12pt}#amtAdminDiv{padding:0}.ui-dialog-titlebar{font-size:.8em}.ui-dialog{padding:0}.ui-button .ui-icon.vim-icon{background-image:url("/assets/img/vim16x16.gif");width:16px;height:16px}#amtErrorDialog,#newContentDialog{padding:2em}#mainDiv{width:100%;height:100%;margin:0;padding:0}span.note{font-size:small;color:#999}a:active,a:hover,a:link,a:visited{color:#5c9ccc;text-decoration:none}#topDiv{width:100%;height:50px;margin:0;padding:0}#parametersTable{border-collapse:collapse}#parametersTable td{padding:.2em}tr.selected-true{background-color:#8fcfff}.instancesTable{border-collapse:collapse;margin:1em;font-size:.7em}.instancesTable,.instancesTable td,.instancesTable th{border:1px solid #000}.instancesTable td{padding:5px}caption{font-weight:700;font-size:1.3em;margin-bottom:.5em}#experimentSelectDiv{padding-left:20px;float:left;line-height:30px}#logoutDiv{padding-right:20px;float:right;text-align:right;line-height:30px}.disabled-button,.disabled-button:active,.disabled-button:hover{font-size:.8em;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:5px;border-top-left-radius:5px;border:1px solid #333;background:#666;color:#fff;font-weight:700}.styled-button{font-size:.8em;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:5px;border-top-left-radius:5px;border:1px solid #4297d7;background:#5c9ccc url("/assets/css/redmond/images/ui-bg_gloss-wave_55_5c9ccc_500x100.png") 50% 50% repeat-x;color:#fff;font-weight:700}.styled-button:hover{color:#dd6e00}.styled-button:active{color:#dd6e00;background:#4297d7}.styled-button-orange{font-size:.8em;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:5px;border-top-left-radius:5px;border:1px solid #a15037;background:#dd6e00;color:#fff;font-weight:700}.styled-button-orange:hover{color:#a15037}.styled-button-orange:active{color:#a15037;background:#bb4c00}label.fixed-width{float:left;width:180px}.new-dialog{padding:1em}.delete-dialog p,.user-settings-dialog .user-setting-section{margin-left:1em;margin-right:1em}.user-setting-section fieldset label{float:left}.user-setting-section fieldset p{clear:both}.user-setting-section fieldset legend{font-weight:700}.user-setting-section ul#changePasswordError{list-style:none;padding-left:0}.closed-dialog{padding:.4em 1em;font-size:.8em;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:5px;border-top-left-radius:5px;border:1px solid #4297d7;background:#5c9ccc url("/assets/css/redmond/images/ui-bg_gloss-wave_55_5c9ccc_500x100.png") 50% 50% repeat-x;color:#fff;font-weight:700;display:inline-block;cursor:pointer;margin:0;margin-right:10px}.closed-dialog-title{float:left}.ui-dialog .ui-dialog-content{padding:.3em .1em}#contentDiv{overflow:hidden}#contentLanguageDiv{padding-left:1em;margin-bottom:.5em}#contentTabsDiv,#stepsTabsDiv{margin:0;padding:0;vertical-align:bottom}#stepsTabsDiv{border-bottom:1px solid #b6b6b6}.steps-dialog{padding:0}.steps-tab{padding:.3em .9em;font-size:.7em;border-top-right-radius:5px;border-top-left-radius:5px;border:1px solid #b6b6b6;background:linear-gradient(top,#ededed,#c4c4c4);display:inline-block;cursor:pointer;margin:2px 3px -2px 0}.steps-tab a{color:#4f4f4f;float:left;font-weight:700}.steps-tab.selected-true{background:linear-gradient(top,#b9e0f5,#92bdd6)}.steps-tab.selected-true a{color:#313131}.steps-tab a.step-titlebar-close{float:right;margin-left:6px}.step-icon{background-image:url("/assets/css/Aristo/images/ui-icons_454545_256x240.png");width:16px;height:16px;display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.step-icon:hover{background-image:url("/assets/css/Aristo/images/ui-icons_222222_256x240.png")}.selected-true a,.steps-tab a:active,.steps-tab a:hover{color:#dd6e00}#contentHTMLDiv,#stepSourceDiv{width:100%;padding:0;margin:0}.CodeMirror-scroll{min-height:4em}#contentHTMLDiv .CodeMirror-scroll,#stepSourceDiv .CodeMirror-scroll{height:auto;overflow-y:hidden;overflow-x:auto}#clientGraphDiv,#clientHtmlDiv,#cssDiv,#scriptDiv{height:100%;width:100%;padding:0;margin:0;overflow:hidden}.CodeMirror{padding:0;margin:0}.CodeMirror,.CodeMirror-scroll{height:100%;width:100%}#outputDiv{white-space:pre-wrap;font-family:monospace;display:block;overflow-y:auto;overflow-x:hidden}.error{color:red}#playerDiv{overflow:auto}.nav>li>a.pill-condensed{padding:3px 15px}#prettyPrintDiv{overflow:auto}#graphDiv{overflow:hidden}#prettyPrintDiv div table{margin:0 auto}#contentPane{padding-left:20px}#contentEditor{margin-right:20px}#contentEditor,#contentList{display:inline-block;vertical-align:top}#contentList select{width:200px}#tinymceDiv{width:100%}#tinymceTextarea{width:100%;height:100%}#login{margin-left:40px;margin-top:40px;float:left}#login #loginButton{float:right}circle{fill:#ccc;stroke:#333;stroke-width:1px}circle[selected="1"],line[selected="1"]{stroke:#000;stroke-width:3px}line{stroke:#ccc;stroke-width:2px}circle[color="1"]{fill:#1f77b4}circle[color="2"]{fill:#aec7e8}circle[color="3"]{fill:#ff7f0e}circle[color="4"]{fill:#ffbb78}circle[color="5"]{fill:#2ca02c}circle[color="6"]{fill:#98df8a}circle[color="7"]{fill:#d62728}circle[color="8"]{fill:#ff9896}circle[color="9"]{fill:#9467bd}circle[color="10"]{fill:#c5b0d5}circle[color="11"]{fill:#8c564b}circle[color="12"]{fill:#c49c94}circle[color="13"]{fill:#e377c2}circle[color="14"]{fill:#f7b6d2}circle[color="15"]{fill:#7f7f7f}circle[color="16"]{fill:#c7c7c7}circle[color="17"]{fill:#bcbd22}circle[color="18"]{fill:#dbdb8d}circle[color="19"]{fill:#17becf}#data-table,#event-table{border-collapse:collapse}#data-table td,#event-table td{padding:5px}#data-table td,#data-table th,#event-table td,#event-table th{border:1px solid #000}.clearBoth{clear:both}.bold{font-weight:700}.progress{height:30px}.progress-bar{line-height:30px;font-size:16px}.i-button{background-color:#f8f8f8;border:1px solid #a6a6a6;border-radius:5px;padding:1px 5px}button.dialog-link{border-width:0;border:none;border-bottom:1px solid #000;border-right:1px solid #000;border-radius:0;margin-top:1px;margin-bottom:-1px}button.dialog-link:last-child{border-right-width:0}.dialog-link.open{box-shadow:inset 0 -3px #0045b4}#newExperimentInstanceDialog{margin:10px;padding:.5em 1em}.footer{position:fixed;width:100%;margin:0;padding:0;bottom:0;padding-bottom:20px;z-index:10000;background-color:rgba(0,0,0,.59)}.footer>div{border-top:1px solid #000;background:#fff}.popover,.tooltip{z-index:10000!important}.scrollable-container{height:100%;overflow:hidden}.scrollable-container .scrollable{overflow:auto;max-height:100%}',""])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(56),o=i(r);n(149);var a=n(468),s=i(a),l=n(469),c=i(l);o.default.module("breadboard.experiment-import").directive("experimentImport",function(){return{restrict:"E",scope:{},replace:!0,templateUrl:s.default,controller:c.default}})},function(e,t){var n="files/app/experiment-import/experiment-import.template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div id=importExperimentDialog style=display:none> <div class=new-dialog> <div class=form-group> <button ngf-select class="btn btn-default drop-zone" ngf-pattern="\'.zip\'" ng-model=import.file> Select an experiment to import </button> <span class=import-file> {{import.file.name}} </span> </div> <div class=form-group> <label for=experiment-name> Experiment Name </label> <input type=text id=experiment-name ng-model=import.name placeholder="leave blank to use the name of the file"/> </div> <div class=form-group> <button class="btn btn-default" ng-click=importExperiment()>Import</button> </div> </div> </div>')}]),e.exports=n},function(e,t,n){"use strict";function i(e,t){e.import={path:"/experiment/import",file:null,name:""},e.importExperiment=function(){if(e.import.file){var n=e.import.name.length?e.import.name:e.import.file.name;n=n.replace(".zip",""),t.upload({url:e.import.path+"/"+n,data:{file:e.import.file}}).then(function(t){"Error uploading"===t.data&&alert("Unable to import the experiment. Please select a new experiment zip file"),e.import.file=null},function(t){console.error(t),e.import.file=null,e.import.name=""},function(e){console.log("import upload progress",e)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","Upload"]}]);